var I2=t=>{throw TypeError(t)};var q1=(t,e,n)=>e.has(t)||I2("Cannot "+n);var Z=(t,e,n)=>(q1(t,e,"read from private field"),n?n.call(t):e.get(t)),Ke=(t,e,n)=>e.has(t)?I2("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),Fe=(t,e,n,r)=>(q1(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),dt=(t,e,n)=>(q1(t,e,"access private method"),n);var $d=(t,e,n,r)=>({set _(l){Fe(t,e,l,n)},get _(){return Z(t,e,r)}});function l3(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const l in r)if(l!=="default"&&!(l in t)){const u=Object.getOwnPropertyDescriptor(r,l);u&&Object.defineProperty(t,l,u.get?u:{enumerable:!0,get:()=>r[l]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))r(l);new MutationObserver(l=>{for(const u of l)if(u.type==="childList")for(const g of u.addedNodes)g.tagName==="LINK"&&g.rel==="modulepreload"&&r(g)}).observe(document,{childList:!0,subtree:!0});function n(l){const u={};return l.integrity&&(u.integrity=l.integrity),l.referrerPolicy&&(u.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?u.credentials="include":l.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function r(l){if(l.ep)return;l.ep=!0;const u=n(l);fetch(l.href,u)}})();var Gd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Im(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function HA(t){if(Object.prototype.hasOwnProperty.call(t,"__esModule"))return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var l=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,l.get?l:{enumerable:!0,get:function(){return t[r]}})}),n}var Y1={exports:{}},Mu={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var M2;function $A(){if(M2)return Mu;M2=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,l,u){var g=null;if(u!==void 0&&(g=""+u),l.key!==void 0&&(g=""+l.key),"key"in l){u={};for(var y in l)y!=="key"&&(u[y]=l[y])}else u=l;return l=u.ref,{$$typeof:t,type:r,key:g,ref:l!==void 0?l:null,props:u}}return Mu.Fragment=e,Mu.jsx=n,Mu.jsxs=n,Mu}var D2;function GA(){return D2||(D2=1,Y1.exports=$A()),Y1.exports}var T=GA();const it=t=>typeof t=="string",Du=()=>{let t,e;const n=new Promise((r,l)=>{t=r,e=l});return n.resolve=t,n.reject=e,n},L2=t=>t==null?"":""+t,qA=(t,e,n)=>{t.forEach(r=>{e[r]&&(n[r]=e[r])})},YA=/###/g,k2=t=>t&&t.indexOf("###")>-1?t.replace(YA,"."):t,j2=t=>!t||it(t),Xu=(t,e,n)=>{const r=it(e)?e.split("."):e;let l=0;for(;l<r.length-1;){if(j2(t))return{};const u=k2(r[l]);!t[u]&&n&&(t[u]=new n),Object.prototype.hasOwnProperty.call(t,u)?t=t[u]:t={},++l}return j2(t)?{}:{obj:t,k:k2(r[l])}},B2=(t,e,n)=>{const{obj:r,k:l}=Xu(t,e,Object);if(r!==void 0||e.length===1){r[l]=n;return}let u=e[e.length-1],g=e.slice(0,e.length-1),y=Xu(t,g,Object);for(;y.obj===void 0&&g.length;)u=`${g[g.length-1]}.${u}`,g=g.slice(0,g.length-1),y=Xu(t,g,Object),y!=null&&y.obj&&typeof y.obj[`${y.k}.${u}`]<"u"&&(y.obj=void 0);y.obj[`${y.k}.${u}`]=n},XA=(t,e,n,r)=>{const{obj:l,k:u}=Xu(t,e,Object);l[u]=l[u]||[],l[u].push(n)},gh=(t,e)=>{const{obj:n,k:r}=Xu(t,e);if(n&&Object.prototype.hasOwnProperty.call(n,r))return n[r]},WA=(t,e,n)=>{const r=gh(t,n);return r!==void 0?r:gh(e,n)},c3=(t,e,n)=>{for(const r in e)r!=="__proto__"&&r!=="constructor"&&(r in t?it(t[r])||t[r]instanceof String||it(e[r])||e[r]instanceof String?n&&(t[r]=e[r]):c3(t[r],e[r],n):t[r]=e[r]);return t},Wl=t=>t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var KA={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const ZA=t=>it(t)?t.replace(/[&<>"'\/]/g,e=>KA[e]):t;class QA{constructor(e){this.capacity=e,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(e){const n=this.regExpMap.get(e);if(n!==void 0)return n;const r=new RegExp(e);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(e,r),this.regExpQueue.push(e),r}}const JA=[" ",",","?","!",";"],e4=new QA(20),t4=(t,e,n)=>{e=e||"",n=n||"";const r=JA.filter(g=>e.indexOf(g)<0&&n.indexOf(g)<0);if(r.length===0)return!0;const l=e4.getRegExp(`(${r.map(g=>g==="?"?"\\?":g).join("|")})`);let u=!l.test(t);if(!u){const g=t.indexOf(n);g>0&&!l.test(t.substring(0,g))&&(u=!0)}return u},Rg=(t,e,n=".")=>{if(!t)return;if(t[e])return Object.prototype.hasOwnProperty.call(t,e)?t[e]:void 0;const r=e.split(n);let l=t;for(let u=0;u<r.length;){if(!l||typeof l!="object")return;let g,y="";for(let b=u;b<r.length;++b)if(b!==u&&(y+=n),y+=r[b],g=l[y],g!==void 0){if(["string","number","boolean"].indexOf(typeof g)>-1&&b<r.length-1)continue;u+=b-u+1;break}l=g}return l},of=t=>t==null?void 0:t.replace("_","-"),n4={type:"logger",log(t){this.output("log",t)},warn(t){this.output("warn",t)},error(t){this.output("error",t)},output(t,e){var n,r;(r=(n=console==null?void 0:console[t])==null?void 0:n.apply)==null||r.call(n,console,e)}};class mh{constructor(e,n={}){this.init(e,n)}init(e,n={}){this.prefix=n.prefix||"i18next:",this.logger=e||n4,this.options=n,this.debug=n.debug}log(...e){return this.forward(e,"log","",!0)}warn(...e){return this.forward(e,"warn","",!0)}error(...e){return this.forward(e,"error","")}deprecate(...e){return this.forward(e,"warn","WARNING DEPRECATED: ",!0)}forward(e,n,r,l){return l&&!this.debug?null:(it(e[0])&&(e[0]=`${r}${this.prefix} ${e[0]}`),this.logger[n](e))}create(e){return new mh(this.logger,{prefix:`${this.prefix}:${e}:`,...this.options})}clone(e){return e=e||this.options,e.prefix=e.prefix||this.prefix,new mh(this.logger,e)}}var gr=new mh;class Lh{constructor(){this.observers={}}on(e,n){return e.split(" ").forEach(r=>{this.observers[r]||(this.observers[r]=new Map);const l=this.observers[r].get(n)||0;this.observers[r].set(n,l+1)}),this}off(e,n){if(this.observers[e]){if(!n){delete this.observers[e];return}this.observers[e].delete(n)}}emit(e,...n){this.observers[e]&&Array.from(this.observers[e].entries()).forEach(([l,u])=>{for(let g=0;g<u;g++)l(...n)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(([l,u])=>{for(let g=0;g<u;g++)l.apply(l,[e,...n])})}}class P2 extends Lh{constructor(e,n={ns:["translation"],defaultNS:"translation"}){super(),this.data=e||{},this.options=n,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(e){this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}removeNamespaces(e){const n=this.options.ns.indexOf(e);n>-1&&this.options.ns.splice(n,1)}getResource(e,n,r,l={}){var x,E;const u=l.keySeparator!==void 0?l.keySeparator:this.options.keySeparator,g=l.ignoreJSONStructure!==void 0?l.ignoreJSONStructure:this.options.ignoreJSONStructure;let y;e.indexOf(".")>-1?y=e.split("."):(y=[e,n],r&&(Array.isArray(r)?y.push(...r):it(r)&&u?y.push(...r.split(u)):y.push(r)));const b=gh(this.data,y);return!b&&!n&&!r&&e.indexOf(".")>-1&&(e=y[0],n=y[1],r=y.slice(2).join(".")),b||!g||!it(r)?b:Rg((E=(x=this.data)==null?void 0:x[e])==null?void 0:E[n],r,u)}addResource(e,n,r,l,u={silent:!1}){const g=u.keySeparator!==void 0?u.keySeparator:this.options.keySeparator;let y=[e,n];r&&(y=y.concat(g?r.split(g):r)),e.indexOf(".")>-1&&(y=e.split("."),l=n,n=y[1]),this.addNamespaces(n),B2(this.data,y,l),u.silent||this.emit("added",e,n,r,l)}addResources(e,n,r,l={silent:!1}){for(const u in r)(it(r[u])||Array.isArray(r[u]))&&this.addResource(e,n,u,r[u],{silent:!0});l.silent||this.emit("added",e,n,r)}addResourceBundle(e,n,r,l,u,g={silent:!1,skipCopy:!1}){let y=[e,n];e.indexOf(".")>-1&&(y=e.split("."),l=r,r=n,n=y[1]),this.addNamespaces(n);let b=gh(this.data,y)||{};g.skipCopy||(r=JSON.parse(JSON.stringify(r))),l?c3(b,r,u):b={...b,...r},B2(this.data,y,b),g.silent||this.emit("added",e,n,r)}removeResourceBundle(e,n){this.hasResourceBundle(e,n)&&delete this.data[e][n],this.removeNamespaces(n),this.emit("removed",e,n)}hasResourceBundle(e,n){return this.getResource(e,n)!==void 0}getResourceBundle(e,n){return n||(n=this.options.defaultNS),this.getResource(e,n)}getDataByLanguage(e){return this.data[e]}hasLanguageSomeTranslations(e){const n=this.getDataByLanguage(e);return!!(n&&Object.keys(n)||[]).find(l=>n[l]&&Object.keys(n[l]).length>0)}toJSON(){return this.data}}var u3={processors:{},addPostProcessor(t){this.processors[t.name]=t},handle(t,e,n,r,l){return t.forEach(u=>{var g;e=((g=this.processors[u])==null?void 0:g.process(e,n,r,l))??e}),e}};const U2={},F2=t=>!it(t)&&typeof t!="boolean"&&typeof t!="number";class ph extends Lh{constructor(e,n={}){super(),qA(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],e,this),this.options=n,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=gr.create("translator")}changeLanguage(e){e&&(this.language=e)}exists(e,n={interpolation:{}}){const r={...n};if(e==null)return!1;const l=this.resolve(e,r);return(l==null?void 0:l.res)!==void 0}extractFromKey(e,n){let r=n.nsSeparator!==void 0?n.nsSeparator:this.options.nsSeparator;r===void 0&&(r=":");const l=n.keySeparator!==void 0?n.keySeparator:this.options.keySeparator;let u=n.ns||this.options.defaultNS||[];const g=r&&e.indexOf(r)>-1,y=!this.options.userDefinedKeySeparator&&!n.keySeparator&&!this.options.userDefinedNsSeparator&&!n.nsSeparator&&!t4(e,r,l);if(g&&!y){const b=e.match(this.interpolator.nestingRegexp);if(b&&b.length>0)return{key:e,namespaces:it(u)?[u]:u};const x=e.split(r);(r!==l||r===l&&this.options.ns.indexOf(x[0])>-1)&&(u=x.shift()),e=x.join(l)}return{key:e,namespaces:it(u)?[u]:u}}translate(e,n,r){let l=typeof n=="object"?{...n}:n;if(typeof l!="object"&&this.options.overloadTranslationOptionHandler&&(l=this.options.overloadTranslationOptionHandler(arguments)),typeof options=="object"&&(l={...l}),l||(l={}),e==null)return"";Array.isArray(e)||(e=[String(e)]);const u=l.returnDetails!==void 0?l.returnDetails:this.options.returnDetails,g=l.keySeparator!==void 0?l.keySeparator:this.options.keySeparator,{key:y,namespaces:b}=this.extractFromKey(e[e.length-1],l),x=b[b.length-1];let E=l.nsSeparator!==void 0?l.nsSeparator:this.options.nsSeparator;E===void 0&&(E=":");const C=l.lng||this.language,N=l.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if((C==null?void 0:C.toLowerCase())==="cimode")return N?u?{res:`${x}${E}${y}`,usedKey:y,exactUsedKey:y,usedLng:C,usedNS:x,usedParams:this.getUsedParamsDetails(l)}:`${x}${E}${y}`:u?{res:y,usedKey:y,exactUsedKey:y,usedLng:C,usedNS:x,usedParams:this.getUsedParamsDetails(l)}:y;const O=this.resolve(e,l);let M=O==null?void 0:O.res;const B=(O==null?void 0:O.usedKey)||y,j=(O==null?void 0:O.exactUsedKey)||y,V=["[object Number]","[object Function]","[object RegExp]"],$=l.joinArrays!==void 0?l.joinArrays:this.options.joinArrays,U=!this.i18nFormat||this.i18nFormat.handleAsObject,q=l.count!==void 0&&!it(l.count),W=ph.hasDefaultValue(l),ne=q?this.pluralResolver.getSuffix(C,l.count,l):"",X=l.ordinal&&q?this.pluralResolver.getSuffix(C,l.count,{ordinal:!1}):"",oe=q&&!l.ordinal&&l.count===0,ee=oe&&l[`defaultValue${this.options.pluralSeparator}zero`]||l[`defaultValue${ne}`]||l[`defaultValue${X}`]||l.defaultValue;let pe=M;U&&!M&&W&&(pe=ee);const ke=F2(pe),be=Object.prototype.toString.apply(pe);if(U&&pe&&ke&&V.indexOf(be)<0&&!(it($)&&Array.isArray(pe))){if(!l.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const Ce=this.options.returnedObjectHandler?this.options.returnedObjectHandler(B,pe,{...l,ns:b}):`key '${y} (${this.language})' returned an object instead of string.`;return u?(O.res=Ce,O.usedParams=this.getUsedParamsDetails(l),O):Ce}if(g){const Ce=Array.isArray(pe),Be=Ce?[]:{},re=Ce?j:B;for(const se in pe)if(Object.prototype.hasOwnProperty.call(pe,se)){const le=`${re}${g}${se}`;W&&!M?Be[se]=this.translate(le,{...l,defaultValue:F2(ee)?ee[se]:void 0,joinArrays:!1,ns:b}):Be[se]=this.translate(le,{...l,joinArrays:!1,ns:b}),Be[se]===le&&(Be[se]=pe[se])}M=Be}}else if(U&&it($)&&Array.isArray(M))M=M.join($),M&&(M=this.extendTranslation(M,e,l,r));else{let Ce=!1,Be=!1;!this.isValidLookup(M)&&W&&(Ce=!0,M=ee),this.isValidLookup(M)||(Be=!0,M=y);const se=(l.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&Be?void 0:M,le=W&&ee!==M&&this.options.updateMissing;if(Be||Ce||le){if(this.logger.log(le?"updateKey":"missingKey",C,x,y,le?ee:M),g){const te=this.resolve(y,{...l,keySeparator:!1});te&&te.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let Le=[];const ze=this.languageUtils.getFallbackCodes(this.options.fallbackLng,l.lng||this.language);if(this.options.saveMissingTo==="fallback"&&ze&&ze[0])for(let te=0;te<ze.length;te++)Le.push(ze[te]);else this.options.saveMissingTo==="all"?Le=this.languageUtils.toResolveHierarchy(l.lng||this.language):Le.push(l.lng||this.language);const z=(te,xe,ye)=>{var Pe;const Me=W&&ye!==M?ye:se;this.options.missingKeyHandler?this.options.missingKeyHandler(te,x,xe,Me,le,l):(Pe=this.backendConnector)!=null&&Pe.saveMissing&&this.backendConnector.saveMissing(te,x,xe,Me,le,l),this.emit("missingKey",te,x,xe,M)};this.options.saveMissing&&(this.options.saveMissingPlurals&&q?Le.forEach(te=>{const xe=this.pluralResolver.getSuffixes(te,l);oe&&l[`defaultValue${this.options.pluralSeparator}zero`]&&xe.indexOf(`${this.options.pluralSeparator}zero`)<0&&xe.push(`${this.options.pluralSeparator}zero`),xe.forEach(ye=>{z([te],y+ye,l[`defaultValue${ye}`]||ee)})}):z(Le,y,ee))}M=this.extendTranslation(M,e,l,O,r),Be&&M===y&&this.options.appendNamespaceToMissingKey&&(M=`${x}${E}${y}`),(Be||Ce)&&this.options.parseMissingKeyHandler&&(M=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${x}${E}${y}`:y,Ce?M:void 0,l))}return u?(O.res=M,O.usedParams=this.getUsedParamsDetails(l),O):M}extendTranslation(e,n,r,l,u){var b,x;if((b=this.i18nFormat)!=null&&b.parse)e=this.i18nFormat.parse(e,{...this.options.interpolation.defaultVariables,...r},r.lng||this.language||l.usedLng,l.usedNS,l.usedKey,{resolved:l});else if(!r.skipInterpolation){r.interpolation&&this.interpolator.init({...r,interpolation:{...this.options.interpolation,...r.interpolation}});const E=it(e)&&(((x=r==null?void 0:r.interpolation)==null?void 0:x.skipOnVariables)!==void 0?r.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let C;if(E){const O=e.match(this.interpolator.nestingRegexp);C=O&&O.length}let N=r.replace&&!it(r.replace)?r.replace:r;if(this.options.interpolation.defaultVariables&&(N={...this.options.interpolation.defaultVariables,...N}),e=this.interpolator.interpolate(e,N,r.lng||this.language||l.usedLng,r),E){const O=e.match(this.interpolator.nestingRegexp),M=O&&O.length;C<M&&(r.nest=!1)}!r.lng&&l&&l.res&&(r.lng=this.language||l.usedLng),r.nest!==!1&&(e=this.interpolator.nest(e,(...O)=>(u==null?void 0:u[0])===O[0]&&!r.context?(this.logger.warn(`It seems you are nesting recursively key: ${O[0]} in key: ${n[0]}`),null):this.translate(...O,n),r)),r.interpolation&&this.interpolator.reset()}const g=r.postProcess||this.options.postProcess,y=it(g)?[g]:g;return e!=null&&(y!=null&&y.length)&&r.applyPostProcessor!==!1&&(e=u3.handle(y,e,n,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...l,usedParams:this.getUsedParamsDetails(r)},...r}:r,this)),e}resolve(e,n={}){let r,l,u,g,y;return it(e)&&(e=[e]),e.forEach(b=>{if(this.isValidLookup(r))return;const x=this.extractFromKey(b,n),E=x.key;l=E;let C=x.namespaces;this.options.fallbackNS&&(C=C.concat(this.options.fallbackNS));const N=n.count!==void 0&&!it(n.count),O=N&&!n.ordinal&&n.count===0,M=n.context!==void 0&&(it(n.context)||typeof n.context=="number")&&n.context!=="",B=n.lngs?n.lngs:this.languageUtils.toResolveHierarchy(n.lng||this.language,n.fallbackLng);C.forEach(j=>{var V,$;this.isValidLookup(r)||(y=j,!U2[`${B[0]}-${j}`]&&((V=this.utils)!=null&&V.hasLoadedNamespace)&&!(($=this.utils)!=null&&$.hasLoadedNamespace(y))&&(U2[`${B[0]}-${j}`]=!0,this.logger.warn(`key "${l}" for languages "${B.join(", ")}" won't get resolved as namespace "${y}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),B.forEach(U=>{var ne;if(this.isValidLookup(r))return;g=U;const q=[E];if((ne=this.i18nFormat)!=null&&ne.addLookupKeys)this.i18nFormat.addLookupKeys(q,E,U,j,n);else{let X;N&&(X=this.pluralResolver.getSuffix(U,n.count,n));const oe=`${this.options.pluralSeparator}zero`,ee=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(N&&(q.push(E+X),n.ordinal&&X.indexOf(ee)===0&&q.push(E+X.replace(ee,this.options.pluralSeparator)),O&&q.push(E+oe)),M){const pe=`${E}${this.options.contextSeparator}${n.context}`;q.push(pe),N&&(q.push(pe+X),n.ordinal&&X.indexOf(ee)===0&&q.push(pe+X.replace(ee,this.options.pluralSeparator)),O&&q.push(pe+oe))}}let W;for(;W=q.pop();)this.isValidLookup(r)||(u=W,r=this.getResource(U,j,W,n))}))})}),{res:r,usedKey:l,exactUsedKey:u,usedLng:g,usedNS:y}}isValidLookup(e){return e!==void 0&&!(!this.options.returnNull&&e===null)&&!(!this.options.returnEmptyString&&e==="")}getResource(e,n,r,l={}){var u;return(u=this.i18nFormat)!=null&&u.getResource?this.i18nFormat.getResource(e,n,r,l):this.resourceStore.getResource(e,n,r,l)}getUsedParamsDetails(e={}){const n=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],r=e.replace&&!it(e.replace);let l=r?e.replace:e;if(r&&typeof e.count<"u"&&(l.count=e.count),this.options.interpolation.defaultVariables&&(l={...this.options.interpolation.defaultVariables,...l}),!r){l={...l};for(const u of n)delete l[u]}return l}static hasDefaultValue(e){const n="defaultValue";for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&n===r.substring(0,n.length)&&e[r]!==void 0)return!0;return!1}}class V2{constructor(e){this.options=e,this.supportedLngs=this.options.supportedLngs||!1,this.logger=gr.create("languageUtils")}getScriptPartFromCode(e){if(e=of(e),!e||e.indexOf("-")<0)return null;const n=e.split("-");return n.length===2||(n.pop(),n[n.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(n.join("-"))}getLanguagePartFromCode(e){if(e=of(e),!e||e.indexOf("-")<0)return e;const n=e.split("-");return this.formatLanguageCode(n[0])}formatLanguageCode(e){if(it(e)&&e.indexOf("-")>-1){let n;try{n=Intl.getCanonicalLocales(e)[0]}catch{}return n&&this.options.lowerCaseLng&&(n=n.toLowerCase()),n||(this.options.lowerCaseLng?e.toLowerCase():e)}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e}isSupportedCode(e){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(e=this.getLanguagePartFromCode(e)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(e)>-1}getBestMatchFromCodes(e){if(!e)return null;let n;return e.forEach(r=>{if(n)return;const l=this.formatLanguageCode(r);(!this.options.supportedLngs||this.isSupportedCode(l))&&(n=l)}),!n&&this.options.supportedLngs&&e.forEach(r=>{if(n)return;const l=this.getScriptPartFromCode(r);if(this.isSupportedCode(l))return n=l;const u=this.getLanguagePartFromCode(r);if(this.isSupportedCode(u))return n=u;n=this.options.supportedLngs.find(g=>{if(g===u)return g;if(!(g.indexOf("-")<0&&u.indexOf("-")<0)&&(g.indexOf("-")>0&&u.indexOf("-")<0&&g.substring(0,g.indexOf("-"))===u||g.indexOf(u)===0&&u.length>1))return g})}),n||(n=this.getFallbackCodes(this.options.fallbackLng)[0]),n}getFallbackCodes(e,n){if(!e)return[];if(typeof e=="function"&&(e=e(n)),it(e)&&(e=[e]),Array.isArray(e))return e;if(!n)return e.default||[];let r=e[n];return r||(r=e[this.getScriptPartFromCode(n)]),r||(r=e[this.formatLanguageCode(n)]),r||(r=e[this.getLanguagePartFromCode(n)]),r||(r=e.default),r||[]}toResolveHierarchy(e,n){const r=this.getFallbackCodes((n===!1?[]:n)||this.options.fallbackLng||[],e),l=[],u=g=>{g&&(this.isSupportedCode(g)?l.push(g):this.logger.warn(`rejecting language code not found in supportedLngs: ${g}`))};return it(e)&&(e.indexOf("-")>-1||e.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&u(this.formatLanguageCode(e)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&u(this.getScriptPartFromCode(e)),this.options.load!=="currentOnly"&&u(this.getLanguagePartFromCode(e))):it(e)&&u(this.formatLanguageCode(e)),r.forEach(g=>{l.indexOf(g)<0&&u(this.formatLanguageCode(g))}),l}}const z2={zero:0,one:1,two:2,few:3,many:4,other:5},H2={select:t=>t===1?"one":"other",resolvedOptions:()=>({pluralCategories:["one","other"]})};class i4{constructor(e,n={}){this.languageUtils=e,this.options=n,this.logger=gr.create("pluralResolver"),this.pluralRulesCache={}}addRule(e,n){this.rules[e]=n}clearCache(){this.pluralRulesCache={}}getRule(e,n={}){const r=of(e==="dev"?"en":e),l=n.ordinal?"ordinal":"cardinal",u=JSON.stringify({cleanedCode:r,type:l});if(u in this.pluralRulesCache)return this.pluralRulesCache[u];let g;try{g=new Intl.PluralRules(r,{type:l})}catch{if(!Intl)return this.logger.error("No Intl support, please use an Intl polyfill!"),H2;if(!e.match(/-|_/))return H2;const b=this.languageUtils.getLanguagePartFromCode(e);g=this.getRule(b,n)}return this.pluralRulesCache[u]=g,g}needsPlural(e,n={}){let r=this.getRule(e,n);return r||(r=this.getRule("dev",n)),(r==null?void 0:r.resolvedOptions().pluralCategories.length)>1}getPluralFormsOfKey(e,n,r={}){return this.getSuffixes(e,r).map(l=>`${n}${l}`)}getSuffixes(e,n={}){let r=this.getRule(e,n);return r||(r=this.getRule("dev",n)),r?r.resolvedOptions().pluralCategories.sort((l,u)=>z2[l]-z2[u]).map(l=>`${this.options.prepend}${n.ordinal?`ordinal${this.options.prepend}`:""}${l}`):[]}getSuffix(e,n,r={}){const l=this.getRule(e,r);return l?`${this.options.prepend}${r.ordinal?`ordinal${this.options.prepend}`:""}${l.select(n)}`:(this.logger.warn(`no plural rule found for: ${e}`),this.getSuffix("dev",n,r))}}const $2=(t,e,n,r=".",l=!0)=>{let u=WA(t,e,n);return!u&&l&&it(n)&&(u=Rg(t,n,r),u===void 0&&(u=Rg(e,n,r))),u},X1=t=>t.replace(/\$/g,"$$$$");class s4{constructor(e={}){var n;this.logger=gr.create("interpolator"),this.options=e,this.format=((n=e==null?void 0:e.interpolation)==null?void 0:n.format)||(r=>r),this.init(e)}init(e={}){e.interpolation||(e.interpolation={escapeValue:!0});const{escape:n,escapeValue:r,useRawValueToEscape:l,prefix:u,prefixEscaped:g,suffix:y,suffixEscaped:b,formatSeparator:x,unescapeSuffix:E,unescapePrefix:C,nestingPrefix:N,nestingPrefixEscaped:O,nestingSuffix:M,nestingSuffixEscaped:B,nestingOptionsSeparator:j,maxReplaces:V,alwaysFormat:$}=e.interpolation;this.escape=n!==void 0?n:ZA,this.escapeValue=r!==void 0?r:!0,this.useRawValueToEscape=l!==void 0?l:!1,this.prefix=u?Wl(u):g||"{{",this.suffix=y?Wl(y):b||"}}",this.formatSeparator=x||",",this.unescapePrefix=E?"":C||"-",this.unescapeSuffix=this.unescapePrefix?"":E||"",this.nestingPrefix=N?Wl(N):O||Wl("$t("),this.nestingSuffix=M?Wl(M):B||Wl(")"),this.nestingOptionsSeparator=j||",",this.maxReplaces=V||1e3,this.alwaysFormat=$!==void 0?$:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const e=(n,r)=>(n==null?void 0:n.source)===r?(n.lastIndex=0,n):new RegExp(r,"g");this.regexp=e(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=e(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=e(this.nestingRegexp,`${this.nestingPrefix}(.+?)${this.nestingSuffix}`)}interpolate(e,n,r,l){var O;let u,g,y;const b=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},x=M=>{if(M.indexOf(this.formatSeparator)<0){const $=$2(n,b,M,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format($,void 0,r,{...l,...n,interpolationkey:M}):$}const B=M.split(this.formatSeparator),j=B.shift().trim(),V=B.join(this.formatSeparator).trim();return this.format($2(n,b,j,this.options.keySeparator,this.options.ignoreJSONStructure),V,r,{...l,...n,interpolationkey:j})};this.resetRegExp();const E=(l==null?void 0:l.missingInterpolationHandler)||this.options.missingInterpolationHandler,C=((O=l==null?void 0:l.interpolation)==null?void 0:O.skipOnVariables)!==void 0?l.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:M=>X1(M)},{regex:this.regexp,safeValue:M=>this.escapeValue?X1(this.escape(M)):X1(M)}].forEach(M=>{for(y=0;u=M.regex.exec(e);){const B=u[1].trim();if(g=x(B),g===void 0)if(typeof E=="function"){const V=E(e,u,l);g=it(V)?V:""}else if(l&&Object.prototype.hasOwnProperty.call(l,B))g="";else if(C){g=u[0];continue}else this.logger.warn(`missed to pass in variable ${B} for interpolating ${e}`),g="";else!it(g)&&!this.useRawValueToEscape&&(g=L2(g));const j=M.safeValue(g);if(e=e.replace(u[0],j),C?(M.regex.lastIndex+=g.length,M.regex.lastIndex-=u[0].length):M.regex.lastIndex=0,y++,y>=this.maxReplaces)break}}),e}nest(e,n,r={}){let l,u,g;const y=(b,x)=>{const E=this.nestingOptionsSeparator;if(b.indexOf(E)<0)return b;const C=b.split(new RegExp(`${E}[ ]*{`));let N=`{${C[1]}`;b=C[0],N=this.interpolate(N,g);const O=N.match(/'/g),M=N.match(/"/g);(((O==null?void 0:O.length)??0)%2===0&&!M||M.length%2!==0)&&(N=N.replace(/'/g,'"'));try{g=JSON.parse(N),x&&(g={...x,...g})}catch(B){return this.logger.warn(`failed parsing options string in nesting for key ${b}`,B),`${b}${E}${N}`}return g.defaultValue&&g.defaultValue.indexOf(this.prefix)>-1&&delete g.defaultValue,b};for(;l=this.nestingRegexp.exec(e);){let b=[];g={...r},g=g.replace&&!it(g.replace)?g.replace:g,g.applyPostProcessor=!1,delete g.defaultValue;const x=/{.*}/.test(l[1])?l[1].lastIndexOf("}")+1:l[1].indexOf(this.formatSeparator);if(x!==-1&&(b=l[1].slice(x).split(this.formatSeparator).map(E=>E.trim()).filter(Boolean),l[1]=l[1].slice(0,x)),u=n(y.call(this,l[1].trim(),g),g),u&&l[0]===e&&!it(u))return u;it(u)||(u=L2(u)),u||(this.logger.warn(`missed to resolve ${l[1]} for nesting ${e}`),u=""),b.length&&(u=b.reduce((E,C)=>this.format(E,C,r.lng,{...r,interpolationkey:l[1].trim()}),u.trim())),e=e.replace(l[0],u),this.regexp.lastIndex=0}return e}}const r4=t=>{let e=t.toLowerCase().trim();const n={};if(t.indexOf("(")>-1){const r=t.split("(");e=r[0].toLowerCase().trim();const l=r[1].substring(0,r[1].length-1);e==="currency"&&l.indexOf(":")<0?n.currency||(n.currency=l.trim()):e==="relativetime"&&l.indexOf(":")<0?n.range||(n.range=l.trim()):l.split(";").forEach(g=>{if(g){const[y,...b]=g.split(":"),x=b.join(":").trim().replace(/^'+|'+$/g,""),E=y.trim();n[E]||(n[E]=x),x==="false"&&(n[E]=!1),x==="true"&&(n[E]=!0),isNaN(x)||(n[E]=parseInt(x,10))}})}return{formatName:e,formatOptions:n}},G2=t=>{const e={};return(n,r,l)=>{let u=l;l&&l.interpolationkey&&l.formatParams&&l.formatParams[l.interpolationkey]&&l[l.interpolationkey]&&(u={...u,[l.interpolationkey]:void 0});const g=r+JSON.stringify(u);let y=e[g];return y||(y=t(of(r),l),e[g]=y),y(n)}},a4=t=>(e,n,r)=>t(of(n),r)(e);class o4{constructor(e={}){this.logger=gr.create("formatter"),this.options=e,this.init(e)}init(e,n={interpolation:{}}){this.formatSeparator=n.interpolation.formatSeparator||",";const r=n.cacheInBuiltFormats?G2:a4;this.formats={number:r((l,u)=>{const g=new Intl.NumberFormat(l,{...u});return y=>g.format(y)}),currency:r((l,u)=>{const g=new Intl.NumberFormat(l,{...u,style:"currency"});return y=>g.format(y)}),datetime:r((l,u)=>{const g=new Intl.DateTimeFormat(l,{...u});return y=>g.format(y)}),relativetime:r((l,u)=>{const g=new Intl.RelativeTimeFormat(l,{...u});return y=>g.format(y,u.range||"day")}),list:r((l,u)=>{const g=new Intl.ListFormat(l,{...u});return y=>g.format(y)})}}add(e,n){this.formats[e.toLowerCase().trim()]=n}addCached(e,n){this.formats[e.toLowerCase().trim()]=G2(n)}format(e,n,r,l={}){const u=n.split(this.formatSeparator);if(u.length>1&&u[0].indexOf("(")>1&&u[0].indexOf(")")<0&&u.find(y=>y.indexOf(")")>-1)){const y=u.findIndex(b=>b.indexOf(")")>-1);u[0]=[u[0],...u.splice(1,y)].join(this.formatSeparator)}return u.reduce((y,b)=>{var C;const{formatName:x,formatOptions:E}=r4(b);if(this.formats[x]){let N=y;try{const O=((C=l==null?void 0:l.formatParams)==null?void 0:C[l.interpolationkey])||{},M=O.locale||O.lng||l.locale||l.lng||r;N=this.formats[x](y,M,{...E,...l,...O})}catch(O){this.logger.warn(O)}return N}else this.logger.warn(`there was no format function for ${x}`);return y},e)}}const l4=(t,e)=>{t.pending[e]!==void 0&&(delete t.pending[e],t.pendingCount--)};class c4 extends Lh{constructor(e,n,r,l={}){var u,g;super(),this.backend=e,this.store=n,this.services=r,this.languageUtils=r.languageUtils,this.options=l,this.logger=gr.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=l.maxParallelReads||10,this.readingCalls=0,this.maxRetries=l.maxRetries>=0?l.maxRetries:5,this.retryTimeout=l.retryTimeout>=1?l.retryTimeout:350,this.state={},this.queue=[],(g=(u=this.backend)==null?void 0:u.init)==null||g.call(u,r,l.backend,l)}queueLoad(e,n,r,l){const u={},g={},y={},b={};return e.forEach(x=>{let E=!0;n.forEach(C=>{const N=`${x}|${C}`;!r.reload&&this.store.hasResourceBundle(x,C)?this.state[N]=2:this.state[N]<0||(this.state[N]===1?g[N]===void 0&&(g[N]=!0):(this.state[N]=1,E=!1,g[N]===void 0&&(g[N]=!0),u[N]===void 0&&(u[N]=!0),b[C]===void 0&&(b[C]=!0)))}),E||(y[x]=!0)}),(Object.keys(u).length||Object.keys(g).length)&&this.queue.push({pending:g,pendingCount:Object.keys(g).length,loaded:{},errors:[],callback:l}),{toLoad:Object.keys(u),pending:Object.keys(g),toLoadLanguages:Object.keys(y),toLoadNamespaces:Object.keys(b)}}loaded(e,n,r){const l=e.split("|"),u=l[0],g=l[1];n&&this.emit("failedLoading",u,g,n),!n&&r&&this.store.addResourceBundle(u,g,r,void 0,void 0,{skipCopy:!0}),this.state[e]=n?-1:2,n&&r&&(this.state[e]=0);const y={};this.queue.forEach(b=>{XA(b.loaded,[u],g),l4(b,e),n&&b.errors.push(n),b.pendingCount===0&&!b.done&&(Object.keys(b.loaded).forEach(x=>{y[x]||(y[x]={});const E=b.loaded[x];E.length&&E.forEach(C=>{y[x][C]===void 0&&(y[x][C]=!0)})}),b.done=!0,b.errors.length?b.callback(b.errors):b.callback())}),this.emit("loaded",y),this.queue=this.queue.filter(b=>!b.done)}read(e,n,r,l=0,u=this.retryTimeout,g){if(!e.length)return g(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:e,ns:n,fcName:r,tried:l,wait:u,callback:g});return}this.readingCalls++;const y=(x,E)=>{if(this.readingCalls--,this.waitingReads.length>0){const C=this.waitingReads.shift();this.read(C.lng,C.ns,C.fcName,C.tried,C.wait,C.callback)}if(x&&E&&l<this.maxRetries){setTimeout(()=>{this.read.call(this,e,n,r,l+1,u*2,g)},u);return}g(x,E)},b=this.backend[r].bind(this.backend);if(b.length===2){try{const x=b(e,n);x&&typeof x.then=="function"?x.then(E=>y(null,E)).catch(y):y(null,x)}catch(x){y(x)}return}return b(e,n,y)}prepareLoading(e,n,r={},l){if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),l&&l();it(e)&&(e=this.languageUtils.toResolveHierarchy(e)),it(n)&&(n=[n]);const u=this.queueLoad(e,n,r,l);if(!u.toLoad.length)return u.pending.length||l(),null;u.toLoad.forEach(g=>{this.loadOne(g)})}load(e,n,r){this.prepareLoading(e,n,{},r)}reload(e,n,r){this.prepareLoading(e,n,{reload:!0},r)}loadOne(e,n=""){const r=e.split("|"),l=r[0],u=r[1];this.read(l,u,"read",void 0,void 0,(g,y)=>{g&&this.logger.warn(`${n}loading namespace ${u} for language ${l} failed`,g),!g&&y&&this.logger.log(`${n}loaded namespace ${u} for language ${l}`,y),this.loaded(e,g,y)})}saveMissing(e,n,r,l,u,g={},y=()=>{}){var b,x,E,C,N;if((x=(b=this.services)==null?void 0:b.utils)!=null&&x.hasLoadedNamespace&&!((C=(E=this.services)==null?void 0:E.utils)!=null&&C.hasLoadedNamespace(n))){this.logger.warn(`did not save key "${r}" as the namespace "${n}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(r==null||r==="")){if((N=this.backend)!=null&&N.create){const O={...g,isUpdate:u},M=this.backend.create.bind(this.backend);if(M.length<6)try{let B;M.length===5?B=M(e,n,r,l,O):B=M(e,n,r,l),B&&typeof B.then=="function"?B.then(j=>y(null,j)).catch(y):y(null,B)}catch(B){y(B)}else M(e,n,r,l,y,O)}!e||!e[0]||this.store.addResource(e[0],n,r,l)}}}const q2=()=>({debug:!1,initAsync:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:t=>{let e={};if(typeof t[1]=="object"&&(e=t[1]),it(t[1])&&(e.defaultValue=t[1]),it(t[2])&&(e.tDescription=t[2]),typeof t[2]=="object"||typeof t[3]=="object"){const n=t[3]||t[2];Object.keys(n).forEach(r=>{e[r]=n[r]})}return e},interpolation:{escapeValue:!0,format:t=>t,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0},cacheInBuiltFormats:!0}),Y2=t=>{var e,n;return it(t.ns)&&(t.ns=[t.ns]),it(t.fallbackLng)&&(t.fallbackLng=[t.fallbackLng]),it(t.fallbackNS)&&(t.fallbackNS=[t.fallbackNS]),((n=(e=t.supportedLngs)==null?void 0:e.indexOf)==null?void 0:n.call(e,"cimode"))<0&&(t.supportedLngs=t.supportedLngs.concat(["cimode"])),typeof t.initImmediate=="boolean"&&(t.initAsync=t.initImmediate),t},qd=()=>{},u4=t=>{Object.getOwnPropertyNames(Object.getPrototypeOf(t)).forEach(n=>{typeof t[n]=="function"&&(t[n]=t[n].bind(t))})};class lf extends Lh{constructor(e={},n){if(super(),this.options=Y2(e),this.services={},this.logger=gr,this.modules={external:[]},u4(this),n&&!this.isInitialized&&!e.isClone){if(!this.options.initAsync)return this.init(e,n),this;setTimeout(()=>{this.init(e,n)},0)}}init(e={},n){this.isInitializing=!0,typeof e=="function"&&(n=e,e={}),e.defaultNS==null&&e.ns&&(it(e.ns)?e.defaultNS=e.ns:e.ns.indexOf("translation")<0&&(e.defaultNS=e.ns[0]));const r=q2();this.options={...r,...this.options,...Y2(e)},this.options.interpolation={...r.interpolation,...this.options.interpolation},e.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=e.keySeparator),e.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=e.nsSeparator);const l=x=>x?typeof x=="function"?new x:x:null;if(!this.options.isClone){this.modules.logger?gr.init(l(this.modules.logger),this.options):gr.init(null,this.options);let x;this.modules.formatter?x=this.modules.formatter:x=o4;const E=new V2(this.options);this.store=new P2(this.options.resources,this.options);const C=this.services;C.logger=gr,C.resourceStore=this.store,C.languageUtils=E,C.pluralResolver=new i4(E,{prepend:this.options.pluralSeparator,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),this.options.interpolation.format&&this.options.interpolation.format!==r.interpolation.format&&this.logger.warn("init: you are still using the legacy format function, please use the new approach: https://www.i18next.com/translation-function/formatting"),x&&(!this.options.interpolation.format||this.options.interpolation.format===r.interpolation.format)&&(C.formatter=l(x),C.formatter.init&&C.formatter.init(C,this.options),this.options.interpolation.format=C.formatter.format.bind(C.formatter)),C.interpolator=new s4(this.options),C.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},C.backendConnector=new c4(l(this.modules.backend),C.resourceStore,C,this.options),C.backendConnector.on("*",(O,...M)=>{this.emit(O,...M)}),this.modules.languageDetector&&(C.languageDetector=l(this.modules.languageDetector),C.languageDetector.init&&C.languageDetector.init(C,this.options.detection,this.options)),this.modules.i18nFormat&&(C.i18nFormat=l(this.modules.i18nFormat),C.i18nFormat.init&&C.i18nFormat.init(this)),this.translator=new ph(this.services,this.options),this.translator.on("*",(O,...M)=>{this.emit(O,...M)}),this.modules.external.forEach(O=>{O.init&&O.init(this)})}if(this.format=this.options.interpolation.format,n||(n=qd),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const x=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);x.length>0&&x[0]!=="dev"&&(this.options.lng=x[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(x=>{this[x]=(...E)=>this.store[x](...E)}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(x=>{this[x]=(...E)=>(this.store[x](...E),this)});const y=Du(),b=()=>{const x=(E,C)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),y.resolve(C),n(E,C)};if(this.languages&&!this.isInitialized)return x(null,this.t.bind(this));this.changeLanguage(this.options.lng,x)};return this.options.resources||!this.options.initAsync?b():setTimeout(b,0),y}loadResources(e,n=qd){var u,g;let r=n;const l=it(e)?e:this.language;if(typeof e=="function"&&(r=e),!this.options.resources||this.options.partialBundledLanguages){if((l==null?void 0:l.toLowerCase())==="cimode"&&(!this.options.preload||this.options.preload.length===0))return r();const y=[],b=x=>{if(!x||x==="cimode")return;this.services.languageUtils.toResolveHierarchy(x).forEach(C=>{C!=="cimode"&&y.indexOf(C)<0&&y.push(C)})};l?b(l):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(E=>b(E)),(g=(u=this.options.preload)==null?void 0:u.forEach)==null||g.call(u,x=>b(x)),this.services.backendConnector.load(y,this.options.ns,x=>{!x&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),r(x)})}else r(null)}reloadResources(e,n,r){const l=Du();return typeof e=="function"&&(r=e,e=void 0),typeof n=="function"&&(r=n,n=void 0),e||(e=this.languages),n||(n=this.options.ns),r||(r=qd),this.services.backendConnector.reload(e,n,u=>{l.resolve(),r(u)}),l}use(e){if(!e)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!e.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return e.type==="backend"&&(this.modules.backend=e),(e.type==="logger"||e.log&&e.warn&&e.error)&&(this.modules.logger=e),e.type==="languageDetector"&&(this.modules.languageDetector=e),e.type==="i18nFormat"&&(this.modules.i18nFormat=e),e.type==="postProcessor"&&u3.addPostProcessor(e),e.type==="formatter"&&(this.modules.formatter=e),e.type==="3rdParty"&&this.modules.external.push(e),this}setResolvedLanguage(e){if(!(!e||!this.languages)&&!(["cimode","dev"].indexOf(e)>-1)){for(let n=0;n<this.languages.length;n++){const r=this.languages[n];if(!(["cimode","dev"].indexOf(r)>-1)&&this.store.hasLanguageSomeTranslations(r)){this.resolvedLanguage=r;break}}!this.resolvedLanguage&&this.languages.indexOf(e)<0&&this.store.hasLanguageSomeTranslations(e)&&(this.resolvedLanguage=e,this.languages.unshift(e))}}changeLanguage(e,n){this.isLanguageChangingTo=e;const r=Du();this.emit("languageChanging",e);const l=y=>{this.language=y,this.languages=this.services.languageUtils.toResolveHierarchy(y),this.resolvedLanguage=void 0,this.setResolvedLanguage(y)},u=(y,b)=>{b?this.isLanguageChangingTo===e&&(l(b),this.translator.changeLanguage(b),this.isLanguageChangingTo=void 0,this.emit("languageChanged",b),this.logger.log("languageChanged",b)):this.isLanguageChangingTo=void 0,r.resolve((...x)=>this.t(...x)),n&&n(y,(...x)=>this.t(...x))},g=y=>{var E,C;!e&&!y&&this.services.languageDetector&&(y=[]);const b=it(y)?y:y&&y[0],x=this.store.hasLanguageSomeTranslations(b)?b:this.services.languageUtils.getBestMatchFromCodes(it(y)?[y]:y);x&&(this.language||l(x),this.translator.language||this.translator.changeLanguage(x),(C=(E=this.services.languageDetector)==null?void 0:E.cacheUserLanguage)==null||C.call(E,x)),this.loadResources(x,N=>{u(N,x)})};return!e&&this.services.languageDetector&&!this.services.languageDetector.async?g(this.services.languageDetector.detect()):!e&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(g):this.services.languageDetector.detect(g):g(e),r}getFixedT(e,n,r){const l=(u,g,...y)=>{let b;typeof g!="object"?b=this.options.overloadTranslationOptionHandler([u,g].concat(y)):b={...g},b.lng=b.lng||l.lng,b.lngs=b.lngs||l.lngs,b.ns=b.ns||l.ns,b.keyPrefix!==""&&(b.keyPrefix=b.keyPrefix||r||l.keyPrefix);const x=this.options.keySeparator||".";let E;return b.keyPrefix&&Array.isArray(u)?E=u.map(C=>`${b.keyPrefix}${x}${C}`):E=b.keyPrefix?`${b.keyPrefix}${x}${u}`:u,this.t(E,b)};return it(e)?l.lng=e:l.lngs=e,l.ns=n,l.keyPrefix=r,l}t(...e){var n;return(n=this.translator)==null?void 0:n.translate(...e)}exists(...e){var n;return(n=this.translator)==null?void 0:n.exists(...e)}setDefaultNamespace(e){this.options.defaultNS=e}hasLoadedNamespace(e,n={}){if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const r=n.lng||this.resolvedLanguage||this.languages[0],l=this.options?this.options.fallbackLng:!1,u=this.languages[this.languages.length-1];if(r.toLowerCase()==="cimode")return!0;const g=(y,b)=>{const x=this.services.backendConnector.state[`${y}|${b}`];return x===-1||x===0||x===2};if(n.precheck){const y=n.precheck(this,g);if(y!==void 0)return y}return!!(this.hasResourceBundle(r,e)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||g(r,e)&&(!l||g(u,e)))}loadNamespaces(e,n){const r=Du();return this.options.ns?(it(e)&&(e=[e]),e.forEach(l=>{this.options.ns.indexOf(l)<0&&this.options.ns.push(l)}),this.loadResources(l=>{r.resolve(),n&&n(l)}),r):(n&&n(),Promise.resolve())}loadLanguages(e,n){const r=Du();it(e)&&(e=[e]);const l=this.options.preload||[],u=e.filter(g=>l.indexOf(g)<0&&this.services.languageUtils.isSupportedCode(g));return u.length?(this.options.preload=l.concat(u),this.loadResources(g=>{r.resolve(),n&&n(g)}),r):(n&&n(),Promise.resolve())}dir(e){var l,u;if(e||(e=this.resolvedLanguage||(((l=this.languages)==null?void 0:l.length)>0?this.languages[0]:this.language)),!e)return"rtl";if(Intl.Locale){const g=new Intl.Locale(e);if(g&&g.getTextInfo){const y=g.getTextInfo();if(y&&y.direction)return y.direction}}const n=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],r=((u=this.services)==null?void 0:u.languageUtils)||new V2(q2());return e.toLowerCase().indexOf("-latn")>1?"ltr":n.indexOf(r.getLanguagePartFromCode(e))>-1||e.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(e={},n){return new lf(e,n)}cloneInstance(e={},n=qd){const r=e.forkResourceStore;r&&delete e.forkResourceStore;const l={...this.options,...e,isClone:!0},u=new lf(l);if((e.debug!==void 0||e.prefix!==void 0)&&(u.logger=u.logger.clone(e)),["store","services","language"].forEach(y=>{u[y]=this[y]}),u.services={...this.services},u.services.utils={hasLoadedNamespace:u.hasLoadedNamespace.bind(u)},r){const y=Object.keys(this.store.data).reduce((b,x)=>(b[x]={...this.store.data[x]},b[x]=Object.keys(b[x]).reduce((E,C)=>(E[C]={...b[x][C]},E),b[x]),b),{});u.store=new P2(y,l),u.services.resourceStore=u.store}return u.translator=new ph(u.services,l),u.translator.on("*",(y,...b)=>{u.emit(y,...b)}),u.init(l,n),u.translator.options=l,u.translator.backendConnector.services.utils={hasLoadedNamespace:u.hasLoadedNamespace.bind(u)},u}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const Zn=lf.createInstance();Zn.createInstance=lf.createInstance;Zn.createInstance;Zn.dir;Zn.init;Zn.loadResources;Zn.reloadResources;Zn.use;Zn.changeLanguage;Zn.getFixedT;Zn.t;Zn.exists;Zn.setDefaultNamespace;Zn.hasLoadedNamespace;Zn.loadNamespaces;Zn.loadLanguages;var W1={exports:{}},ft={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var X2;function f4(){if(X2)return ft;X2=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),g=Symbol.for("react.context"),y=Symbol.for("react.forward_ref"),b=Symbol.for("react.suspense"),x=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),C=Symbol.iterator;function N(z){return z===null||typeof z!="object"?null:(z=C&&z[C]||z["@@iterator"],typeof z=="function"?z:null)}var O={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},M=Object.assign,B={};function j(z,te,xe){this.props=z,this.context=te,this.refs=B,this.updater=xe||O}j.prototype.isReactComponent={},j.prototype.setState=function(z,te){if(typeof z!="object"&&typeof z!="function"&&z!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,z,te,"setState")},j.prototype.forceUpdate=function(z){this.updater.enqueueForceUpdate(this,z,"forceUpdate")};function V(){}V.prototype=j.prototype;function $(z,te,xe){this.props=z,this.context=te,this.refs=B,this.updater=xe||O}var U=$.prototype=new V;U.constructor=$,M(U,j.prototype),U.isPureReactComponent=!0;var q=Array.isArray,W={H:null,A:null,T:null,S:null,V:null},ne=Object.prototype.hasOwnProperty;function X(z,te,xe,ye,Me,Pe){return xe=Pe.ref,{$$typeof:t,type:z,key:te,ref:xe!==void 0?xe:null,props:Pe}}function oe(z,te){return X(z.type,te,void 0,void 0,void 0,z.props)}function ee(z){return typeof z=="object"&&z!==null&&z.$$typeof===t}function pe(z){var te={"=":"=0",":":"=2"};return"$"+z.replace(/[=:]/g,function(xe){return te[xe]})}var ke=/\/+/g;function be(z,te){return typeof z=="object"&&z!==null&&z.key!=null?pe(""+z.key):te.toString(36)}function Ce(){}function Be(z){switch(z.status){case"fulfilled":return z.value;case"rejected":throw z.reason;default:switch(typeof z.status=="string"?z.then(Ce,Ce):(z.status="pending",z.then(function(te){z.status==="pending"&&(z.status="fulfilled",z.value=te)},function(te){z.status==="pending"&&(z.status="rejected",z.reason=te)})),z.status){case"fulfilled":return z.value;case"rejected":throw z.reason}}throw z}function re(z,te,xe,ye,Me){var Pe=typeof z;(Pe==="undefined"||Pe==="boolean")&&(z=null);var we=!1;if(z===null)we=!0;else switch(Pe){case"bigint":case"string":case"number":we=!0;break;case"object":switch(z.$$typeof){case t:case e:we=!0;break;case E:return we=z._init,re(we(z._payload),te,xe,ye,Me)}}if(we)return Me=Me(z),we=ye===""?"."+be(z,0):ye,q(Me)?(xe="",we!=null&&(xe=we.replace(ke,"$&/")+"/"),re(Me,te,xe,"",function(He){return He})):Me!=null&&(ee(Me)&&(Me=oe(Me,xe+(Me.key==null||z&&z.key===Me.key?"":(""+Me.key).replace(ke,"$&/")+"/")+we)),te.push(Me)),1;we=0;var lt=ye===""?".":ye+":";if(q(z))for(var ve=0;ve<z.length;ve++)ye=z[ve],Pe=lt+be(ye,ve),we+=re(ye,te,xe,Pe,Me);else if(ve=N(z),typeof ve=="function")for(z=ve.call(z),ve=0;!(ye=z.next()).done;)ye=ye.value,Pe=lt+be(ye,ve++),we+=re(ye,te,xe,Pe,Me);else if(Pe==="object"){if(typeof z.then=="function")return re(Be(z),te,xe,ye,Me);throw te=String(z),Error("Objects are not valid as a React child (found: "+(te==="[object Object]"?"object with keys {"+Object.keys(z).join(", ")+"}":te)+"). If you meant to render a collection of children, use an array instead.")}return we}function se(z,te,xe){if(z==null)return z;var ye=[],Me=0;return re(z,ye,"","",function(Pe){return te.call(xe,Pe,Me++)}),ye}function le(z){if(z._status===-1){var te=z._result;te=te(),te.then(function(xe){(z._status===0||z._status===-1)&&(z._status=1,z._result=xe)},function(xe){(z._status===0||z._status===-1)&&(z._status=2,z._result=xe)}),z._status===-1&&(z._status=0,z._result=te)}if(z._status===1)return z._result.default;throw z._result}var Le=typeof reportError=="function"?reportError:function(z){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var te=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof z=="object"&&z!==null&&typeof z.message=="string"?String(z.message):String(z),error:z});if(!window.dispatchEvent(te))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",z);return}console.error(z)};function ze(){}return ft.Children={map:se,forEach:function(z,te,xe){se(z,function(){te.apply(this,arguments)},xe)},count:function(z){var te=0;return se(z,function(){te++}),te},toArray:function(z){return se(z,function(te){return te})||[]},only:function(z){if(!ee(z))throw Error("React.Children.only expected to receive a single React element child.");return z}},ft.Component=j,ft.Fragment=n,ft.Profiler=l,ft.PureComponent=$,ft.StrictMode=r,ft.Suspense=b,ft.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=W,ft.__COMPILER_RUNTIME={__proto__:null,c:function(z){return W.H.useMemoCache(z)}},ft.cache=function(z){return function(){return z.apply(null,arguments)}},ft.cloneElement=function(z,te,xe){if(z==null)throw Error("The argument must be a React element, but you passed "+z+".");var ye=M({},z.props),Me=z.key,Pe=void 0;if(te!=null)for(we in te.ref!==void 0&&(Pe=void 0),te.key!==void 0&&(Me=""+te.key),te)!ne.call(te,we)||we==="key"||we==="__self"||we==="__source"||we==="ref"&&te.ref===void 0||(ye[we]=te[we]);var we=arguments.length-2;if(we===1)ye.children=xe;else if(1<we){for(var lt=Array(we),ve=0;ve<we;ve++)lt[ve]=arguments[ve+2];ye.children=lt}return X(z.type,Me,void 0,void 0,Pe,ye)},ft.createContext=function(z){return z={$$typeof:g,_currentValue:z,_currentValue2:z,_threadCount:0,Provider:null,Consumer:null},z.Provider=z,z.Consumer={$$typeof:u,_context:z},z},ft.createElement=function(z,te,xe){var ye,Me={},Pe=null;if(te!=null)for(ye in te.key!==void 0&&(Pe=""+te.key),te)ne.call(te,ye)&&ye!=="key"&&ye!=="__self"&&ye!=="__source"&&(Me[ye]=te[ye]);var we=arguments.length-2;if(we===1)Me.children=xe;else if(1<we){for(var lt=Array(we),ve=0;ve<we;ve++)lt[ve]=arguments[ve+2];Me.children=lt}if(z&&z.defaultProps)for(ye in we=z.defaultProps,we)Me[ye]===void 0&&(Me[ye]=we[ye]);return X(z,Pe,void 0,void 0,null,Me)},ft.createRef=function(){return{current:null}},ft.forwardRef=function(z){return{$$typeof:y,render:z}},ft.isValidElement=ee,ft.lazy=function(z){return{$$typeof:E,_payload:{_status:-1,_result:z},_init:le}},ft.memo=function(z,te){return{$$typeof:x,type:z,compare:te===void 0?null:te}},ft.startTransition=function(z){var te=W.T,xe={};W.T=xe;try{var ye=z(),Me=W.S;Me!==null&&Me(xe,ye),typeof ye=="object"&&ye!==null&&typeof ye.then=="function"&&ye.then(ze,Le)}catch(Pe){Le(Pe)}finally{W.T=te}},ft.unstable_useCacheRefresh=function(){return W.H.useCacheRefresh()},ft.use=function(z){return W.H.use(z)},ft.useActionState=function(z,te,xe){return W.H.useActionState(z,te,xe)},ft.useCallback=function(z,te){return W.H.useCallback(z,te)},ft.useContext=function(z){return W.H.useContext(z)},ft.useDebugValue=function(){},ft.useDeferredValue=function(z,te){return W.H.useDeferredValue(z,te)},ft.useEffect=function(z,te,xe){var ye=W.H;if(typeof xe=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return ye.useEffect(z,te)},ft.useId=function(){return W.H.useId()},ft.useImperativeHandle=function(z,te,xe){return W.H.useImperativeHandle(z,te,xe)},ft.useInsertionEffect=function(z,te){return W.H.useInsertionEffect(z,te)},ft.useLayoutEffect=function(z,te){return W.H.useLayoutEffect(z,te)},ft.useMemo=function(z,te){return W.H.useMemo(z,te)},ft.useOptimistic=function(z,te){return W.H.useOptimistic(z,te)},ft.useReducer=function(z,te,xe){return W.H.useReducer(z,te,xe)},ft.useRef=function(z){return W.H.useRef(z)},ft.useState=function(z){return W.H.useState(z)},ft.useSyncExternalStore=function(z,te,xe){return W.H.useSyncExternalStore(z,te,xe)},ft.useTransition=function(){return W.H.useTransition()},ft.version="19.1.0",ft}var W2;function kh(){return W2||(W2=1,W1.exports=f4()),W1.exports}var R=kh();const nt=Im(R),K2=l3({__proto__:null,default:nt},[R]),d4=(t,e,n,r)=>{var u,g,y,b;const l=[n,{code:e,...r||{}}];if((g=(u=t==null?void 0:t.services)==null?void 0:u.logger)!=null&&g.forward)return t.services.logger.forward(l,"warn","react-i18next::",!0);Qo(l[0])&&(l[0]=`react-i18next:: ${l[0]}`),(b=(y=t==null?void 0:t.services)==null?void 0:y.logger)!=null&&b.warn?t.services.logger.warn(...l):console!=null&&console.warn&&console.warn(...l)},Z2={},Og=(t,e,n,r)=>{Qo(n)&&Z2[n]||(Qo(n)&&(Z2[n]=new Date),d4(t,e,n,r))},f3=(t,e)=>()=>{if(t.isInitialized)e();else{const n=()=>{setTimeout(()=>{t.off("initialized",n)},0),e()};t.on("initialized",n)}},Ig=(t,e,n)=>{t.loadNamespaces(e,f3(t,n))},Q2=(t,e,n,r)=>{if(Qo(n)&&(n=[n]),t.options.preload&&t.options.preload.indexOf(e)>-1)return Ig(t,n,r);n.forEach(l=>{t.options.ns.indexOf(l)<0&&t.options.ns.push(l)}),t.loadLanguages(e,f3(t,r))},h4=(t,e,n={})=>!e.languages||!e.languages.length?(Og(e,"NO_LANGUAGES","i18n.languages were undefined or empty",{languages:e.languages}),!0):e.hasLoadedNamespace(t,{lng:n.lng,precheck:(r,l)=>{var u;if(((u=n.bindI18n)==null?void 0:u.indexOf("languageChanging"))>-1&&r.services.backendConnector.backend&&r.isLanguageChangingTo&&!l(r.isLanguageChangingTo,t))return!1}}),Qo=t=>typeof t=="string",g4=t=>typeof t=="object"&&t!==null,m4=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,p4={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"©","&#169;":"©","&reg;":"®","&#174;":"®","&hellip;":"…","&#8230;":"…","&#x2F;":"/","&#47;":"/"},x4=t=>p4[t],y4=t=>t.replace(m4,x4);let Mg={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:y4};const b4=(t={})=>{Mg={...Mg,...t}},w4=()=>Mg;let d3;const v4=t=>{d3=t},E4=()=>d3,S4={type:"3rdParty",init(t){b4(t.options.react),v4(t)}},C4=R.createContext();class A4{constructor(){this.usedNamespaces={}}addUsedNamespaces(e){e.forEach(n=>{this.usedNamespaces[n]||(this.usedNamespaces[n]=!0)})}getUsedNamespaces(){return Object.keys(this.usedNamespaces)}}const T4=(t,e)=>{const n=R.useRef();return R.useEffect(()=>{n.current=t},[t,e]),n.current},h3=(t,e,n,r)=>t.getFixedT(e,n,r),_4=(t,e,n,r)=>R.useCallback(h3(t,e,n,r),[t,e,n,r]),kn=(t,e={})=>{var q,W,ne,X;const{i18n:n}=e,{i18n:r,defaultNS:l}=R.useContext(C4)||{},u=n||r||E4();if(u&&!u.reportNamespaces&&(u.reportNamespaces=new A4),!u){Og(u,"NO_I18NEXT_INSTANCE","useTranslation: You will need to pass in an i18next instance by using initReactI18next");const oe=(pe,ke)=>Qo(ke)?ke:g4(ke)&&Qo(ke.defaultValue)?ke.defaultValue:Array.isArray(pe)?pe[pe.length-1]:pe,ee=[oe,{},!1];return ee.t=oe,ee.i18n={},ee.ready=!1,ee}(q=u.options.react)!=null&&q.wait&&Og(u,"DEPRECATED_OPTION","useTranslation: It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.");const g={...w4(),...u.options.react,...e},{useSuspense:y,keyPrefix:b}=g;let x=l||((W=u.options)==null?void 0:W.defaultNS);x=Qo(x)?[x]:x||["translation"],(X=(ne=u.reportNamespaces).addUsedNamespaces)==null||X.call(ne,x);const E=(u.isInitialized||u.initializedStoreOnce)&&x.every(oe=>h4(oe,u,g)),C=_4(u,e.lng||null,g.nsMode==="fallback"?x:x[0],b),N=()=>C,O=()=>h3(u,e.lng||null,g.nsMode==="fallback"?x:x[0],b),[M,B]=R.useState(N);let j=x.join();e.lng&&(j=`${e.lng}${j}`);const V=T4(j),$=R.useRef(!0);R.useEffect(()=>{const{bindI18n:oe,bindI18nStore:ee}=g;$.current=!0,!E&&!y&&(e.lng?Q2(u,e.lng,x,()=>{$.current&&B(O)}):Ig(u,x,()=>{$.current&&B(O)})),E&&V&&V!==j&&$.current&&B(O);const pe=()=>{$.current&&B(O)};return oe&&(u==null||u.on(oe,pe)),ee&&(u==null||u.store.on(ee,pe)),()=>{$.current=!1,u&&(oe==null||oe.split(" ").forEach(ke=>u.off(ke,pe))),ee&&u&&ee.split(" ").forEach(ke=>u.store.off(ke,pe))}},[u,j]),R.useEffect(()=>{$.current&&E&&B(N)},[u,b,E]);const U=[M,u,E];if(U.t=M,U.i18n=u,U.ready=E,E||!E&&!y)return U;throw new Promise(oe=>{e.lng?Q2(u,e.lng,x,()=>oe()):Ig(u,x,()=>oe())})},N4="Welcome",R4="Login",O4="Logout",I4="Select at least one course.",M4="Please enter a nick name.",D4="Student {{nick}} added!",L4="Application submitted!",k4="Thank you!",j4="Your application has been received.",B4="Our staff will contact you via LINE or phone.",P4="You may close this page.",U4="Wonder Kids Admissions",F4="Fill out the application form below. {{staffMsg}}",V4="Students will be enrolled instantly.",z4="Our staff will contact you to confirm your admission.",H4="Student Info",$4="Nick Name",G4="First Name",q4="Last Name",Y4="Date of Birth",X4="Parent / Guardian",W4="Line App ID",K4="Phone",Z4="Courses",Q4="Loading courses…",J4="No courses available.",e5="({{count}} seats)",t5="+ Time",n5="Hours Purchased:",i5="Payment Receipt",s5="Choose Files",r5="Adding…",a5="Add Student",o5="Submitting…",l5="Submit Application",c5="Refresh Public Admissions Link",u5="Show Public Admissions Link",f5="Copy",d5="Loading pending…",h5="Pending Check-ins",g5="No pending check-ins.",m5="Take Attendance",p5="Loading students…",x5="Student",y5="Slots",b5="Used / Limit",w5="Check",v5="∞",E5="Student QR Code",S5="Download",C5="Print",A5="Close",T5="Approve",_5="Unchecked {{first}} {{last}}",N5="Over limit for {{first}} {{last}}",R5="Checked in {{first}} {{last}}",O5="Unknown code",I5="{{first}} {{last}} already scanned",M5="Scan failed",D5="Pending: {{first}} {{last}}",L5="Billing Page (coming soon)",k5="Check Courses",j5="Manage Courses",B5="Select Course",P5="Select Day",U5="Select Time",F5="Loading…",V5="No students found.",z5="Nick name",H5="Full name",$5="Course",G5="Days",q5="Times",Y5="Capacity",X5="Edit",W5="+ Add Course",K5="Edit Course",Z5="New Course",Q5="Name",J5="Days:",eT="{{day}} Times:",tT="Save",nT="Cancel",iT="Enter a name",sT="Delete this course?",rT="Monday",aT="Tuesday",oT="Wednesday",lT="Thursday",cT="Friday",uT="Saturday",fT="Sunday",dT="Add New Student",hT="Students (active)",gT="Students (inactive)",mT="Review",pT="Fast, beautiful, mobile-friendly management for your school.",xT="Scan Student QR",yT="Scan another",bT="Sign In",wT="Signing In…",vT="Email",ET="Password",ST="you@example.com",CT="No notifications.",AT="Read",TT="New application · {{name}}",_T="Course limit reached · {{name}}",NT="Edit request from {{name}}",RT="New Applications",OT="Renewals",IT="Course Changes",MT="Select All",DT="Unselect All",LT="Reject",kT="Approve {{count}} item(s)?",jT="Reject (delete) {{count}} item(s)?",BT="Submitted by",PT="Line ID",UT="Submitted at",FT="Hours",VT="Open",zT="Receipts",HT="View Receipts ({{count}})",$T="Settings",GT="Close",qT="Invite User",YT="Temp password",XT="Role",WT="Staff",KT="Admin",ZT="Send Invite",QT="Inviting…",JT="Team Members",e8="No users.",t8="Edit User",n8="E-mail (read-only)",i8="Saving…",s8="Auth returned no user id",r8="Remove this staff account?",a8="Staff",o8="Admin",l8="Home",c8="Reports",u8="Messaging",f8="Billing",d8="Settings",h8="Back",g8="Delete Student",m8="Add New Course",p8="Select...",x8="Day",y8="Time Slot",b8="Hours to Purchase",w8="Upload Receipt",v8="Submit",E8="Not found.",S8="Joined",C8="Enrolled Courses",A8="Days & Times",T8="Hours Left",_8="Status",N8="Receipt",R8="Actions",O8="Attendance",I8="Ongoing",M8="Renewal Needed",D8="View",L8="Hide",k8="Renew",j8="Delete student?",B8="Attendance History",P8="No records",U8="Renew {{course}}",F8="Add-course request submitted.",V8="Renewal request submitted.",z8="Cancelled",H8="Edit Day",$8="Edit Time",G8="Profile information missing. Please reload and try again.",q8="Students (Inactive)",Y8="Search students…",X8="Parent Phone",W8="Line ID",K8="Action",Z8="Renew Enrollment",Q8="All fields are required.",J8="Failed to upload the file.",e6="Renew Now",t6="Submit Renewal Request",n6="Export Students ({{count}})",i6="Export CSV",s6="Students",r6="No.",a6={welcome:N4,login:R4,logout:O4,selectCourseError:I4,enterNickError:M4,studentAdded:D4,applicationSubmitted:L4,thankYou:k4,applicationReceived:j4,staffWillContact:B4,youMayClose:P4,admissionsTitle:U4,admissionsIntro:F4,enrollInstant:V4,contactToConfirm:z4,studentInfo:H4,nickName:$4,firstName:G4,lastName:q4,dob:Y4,guardian:X4,lineAppId:W4,phone:K4,courses:Z4,loadingCourses:Q4,noCourses:J4,seats:e5,addTime:t5,hoursPurchased:n5,paymentReceipt:i5,chooseFiles:s5,adding:r5,addStudent:a5,submitting:o5,submitApplication:l5,refreshPublicAdmissionsLink:c5,showPublicAdmissionsLink:u5,copy:f5,loadingPending:d5,pendingCheckins:h5,noPendingCheckins:g5,takeAttendance:m5,loadingStudents:p5,student:x5,slots:y5,usedLimit:b5,check:w5,unlimited:v5,studentQrCode:E5,download:S5,print:C5,close:A5,approve:T5,uncheckedStudent:_5,overLimit:N5,checkedInStudent:R5,unknownCode:O5,alreadyScanned:I5,scanFailed:M5,pendingStudent:D5,billingComingSoon:L5,checkCourses:k5,manageCourses:j5,selectCourse:B5,selectDay:P5,selectTime:U5,loading:F5,noStudentsFound:V5,nickname:z5,fullName:H5,course:$5,days:G5,times:q5,capacity:Y5,edit:X5,delete:"Delete",addCourse:W5,editCourse:K5,newCourse:Z5,name:Q5,daysColon:J5,timesColon:eT,save:tT,cancel:nT,enterName:iT,deleteThisCourse:sT,monday:rT,tuesday:aT,wednesday:oT,thursday:lT,friday:cT,saturday:uT,sunday:fT,addNewStudent:dT,studentsActive:hT,studentsInactive:gT,review:mT,homepageSlogan:pT,scanStudentQr:xT,scanAnother:yT,signIn:bT,signingIn:wT,email:vT,password:ET,emailPlaceholder:ST,noNotifications:CT,markRead:AT,newApplication:TT,courseLimitReached:_T,editRequestFrom:NT,newApplications:RT,renewals:OT,courseChanges:IT,selectAll:MT,unselectAll:DT,reject:LT,approveConfirm:kT,rejectConfirm:jT,submittedBy:BT,lineId:PT,submittedAt:UT,hours:FT,open:VT,receipts:zT,viewReceipts:HT,settingsTitle:$T,closeInvite:GT,inviteUser:qT,tempPassword:YT,role:XT,roleStaff:WT,roleAdmin:KT,sendInvite:ZT,inviting:QT,teamMembers:JT,noUsers:e8,editUser:t8,emailReadOnly:n8,saving:i8,noUserIdError:s8,confirmRemoveStaff:r8,role_staff:a8,role_admin:o8,home:l8,reports:c8,messaging:u8,billing:f8,settings:d8,back:h8,deleteStudent:g8,addNewCourse:m8,select:p8,day:x8,timeSlot:y8,hoursToPurchase:b8,uploadReceipt:w8,submit:v8,studentNotFound:E8,joined:S8,enrolledCourses:C8,daysTimes:A8,hoursLeft:T8,status:_8,receipt:N8,actions:R8,attendance:O8,ongoing:I8,renewalNeeded:M8,view:D8,hide:L8,renew:k8,deleteStudentConfirm:j8,attendanceHistory:B8,noRecords:P8,submitRenew:U8,submitAdd:F8,submitRenewal:V8,cancelled:z8,editDay:H8,editTime:$8,profileMissingError:G8,inactiveStudents:q8,searchStudents:Y8,export:"Export",parentPhone:X8,lineID:W8,action:K8,renewEnrollment:Z8,allFieldsRequired:Q8,uploadError:J8,renewNow:e6,submitRenewalRequest:t6,exportStudents:n6,exportCSV:i6,students:s6,no:r6},o6="ยินดีต้อนรับ",l6="เข้าสู่ระบบ",c6="ออกจากระบบ",u6="กรุณาเลือกอย่างน้อย 1 หลักสูตร",f6="กรุณากรอกชื่อเล่น",d6="เพิ่มนักเรียน {{nick}} เรียบร้อยแล้ว!",h6="ส่งใบสมัครเรียบร้อยแล้ว!",g6="ขอบคุณค่ะ!",m6="เราได้รับใบสมัครของคุณแล้ว",p6="เจ้าหน้าที่จะติดต่อคุณผ่าน LINE หรือโทรศัพท์",x6="คุณสามารถปิดหน้านี้ได้",y6="สมัครเรียนวันเดอร์คิดส์",b6="กรุณากรอกใบสมัครด้านล่าง {{staffMsg}}",w6="นักเรียนจะถูกเพิ่มเข้าเรียนทันที",v6="เจ้าหน้าที่จะติดต่อยืนยันการสมัครกับคุณ",E6="ข้อมูลนักเรียน",S6="ชื่อเล่น",C6="ชื่อจริง",A6="นามสกุล",T6="วันเกิด",_6="ผู้ปกครอง",N6="LINE ID",R6="เบอร์โทร",O6="หลักสูตร",I6="กำลังโหลดหลักสูตร…",M6="ยังไม่มีหลักสูตร",D6="({{count}} ที่นั่ง)",L6="+ เวลา",k6="ชั่วโมงที่ซื้อ:",j6="สลิปชำระเงิน",B6="เลือกไฟล์",P6="กำลังเพิ่ม…",U6="เพิ่มนักเรียน",F6="กำลังส่ง…",V6="ส่งใบสมัคร",z6="รีเฟรชลิงก์สมัครเรียนสาธารณะ",H6="แสดงลิงก์สมัครเรียนสาธารณะ",$6="คัดลอก",G6="กำลังโหลดที่รออนุมัติ…",q6="เช็กชื่อที่รออนุมัติ",Y6="ไม่มีการเช็กชื่อที่รออนุมัติ",X6="เช็กชื่อเข้าเรียน",W6="กำลังโหลดรายชื่อนักเรียน…",K6="นักเรียน",Z6="เวลา",Q6="ที่ใช้ไป / สิทธิ์",J6="เช็กชื่อ",e_="∞",t_="คิวอาร์โค้ดนักเรียน",n_="ดาวน์โหลด",i_="พิมพ์",s_="ปิด",r_="อนุมัติ",a_="ยกเลิกเช็กชื่อ {{first}} {{last}}",o_="เกินสิทธิ์ของ {{first}} {{last}}",l_="เช็กชื่อแล้ว {{first}} {{last}}",c_="โค้ดไม่ถูกต้อง",u_="{{first}} {{last}} เช็กชื่อแล้ว",f_="เช็กชื่อไม่สำเร็จ",d_="รออนุมัติ: {{first}} {{last}}",h_="หน้าบิล (เร็ว ๆ นี้)",g_="ตรวจสอบหลักสูตร",m_="จัดการหลักสูตร",p_="เลือกหลักสูตร",x_="เลือกวัน",y_="เลือกเวลา",b_="กำลังโหลด…",w_="ไม่พบนักเรียน",v_="ชื่อเล่น",E_="ชื่อ-นามสกุล",S_="หลักสูตร",C_="วัน",A_="เวลา",T_="จำนวนที่รับ",__="แก้ไข",N_="+ เพิ่มหลักสูตร",R_="แก้ไขหลักสูตร",O_="เพิ่มหลักสูตรใหม่",I_="ชื่อหลักสูตร",M_="วัน:",D_="{{day}} เวลา:",L_="บันทึก",k_="ยกเลิก",j_="กรุณากรอกชื่อหลักสูตร",B_="ต้องการลบหลักสูตรนี้หรือไม่?",P_="จันทร์",U_="อังคาร",F_="พุธ",V_="พฤหัสบดี",z_="ศุกร์",H_="เสาร์",$_="อาทิตย์",G_="เพิ่มนักเรียนใหม่",q_="นักเรียน (กำลังเรียนอยู่)",Y_="นักเรียน (หยุดเรียน)",X_="ตรวจสอบ",W_="ระบบจัดการโรงเรียนที่รวดเร็ว สวยงาม ใช้งานง่ายบนมือถือ",K_="สแกน QR นักเรียน",Z_="สแกนใหม่อีกครั้ง",Q_="เข้าสู่ระบบ",J_="กำลังเข้าสู่ระบบ…",eN="อีเมล",tN="รหัสผ่าน",nN="you@example.com",iN="ไม่มีการแจ้งเตือน",sN="อ่านแล้ว",rN="ใบสมัครใหม่ · {{name}}",aN="ถึงขีดจำกัดคอร์ส · {{name}}",oN="คำขอแก้ไขจาก {{name}}",lN="สมัครใหม่",cN="ต่ออายุ",uN="แก้ไขคอร์ส",fN="เลือกทั้งหมด",dN="ยกเลิกเลือกทั้งหมด",hN="ปฏิเสธ",gN="อนุมัติ {{count}} รายการ?",mN="ลบ (ปฏิเสธ) {{count}} รายการ?",pN="ส่งโดย",xN="ไลน์ไอดี",yN="ส่งเมื่อ",bN="ชั่วโมง",wN="เปิด",vN="ใบเสร็จ",EN="ดูใบเสร็จ ({{count}})",SN="ตั้งค่า",CN="ปิด",AN="เชิญผู้ใช้",TN="รหัสผ่านชั่วคราว",_N="สิทธิ์การใช้งาน",NN="พนักงาน",RN="ผู้ดูแลระบบ",ON="ส่งคำเชิญ",IN="กำลังเชิญ…",MN="สมาชิกทีม",DN="ยังไม่มีผู้ใช้",LN="แก้ไขผู้ใช้",kN="อีเมล (อ่านอย่างเดียว)",jN="กำลังบันทึก…",BN="ไม่ได้รับรหัสผู้ใช้จากระบบ",PN="ต้องการลบบัญชีพนักงานนี้หรือไม่?",UN="พนักงาน",FN="ผู้ดูแลระบบ",VN="หน้าหลัก",zN="รายงาน",HN="ข้อความ",$N="การเงิน",GN="ตั้งค่า",qN="ย้อนกลับ",YN="ลบนักเรียน",XN="เพิ่มคอร์สใหม่",WN="เลือก...",KN="วัน",ZN="ช่วงเวลา",QN="จำนวนชั่วโมง",JN="อัปโหลดใบเสร็จ",e7="ส่งคำขอ",t7="ไม่พบข้อมูล",n7="วันที่เข้าเรียน",i7="คอร์สที่ลงทะเบียน",s7="วันและเวลา",r7="ชั่วโมงที่เหลือ",a7="สถานะ",o7="ใบเสร็จ",l7="ตัวเลือก",c7="การเข้าเรียน",u7="กำลังเรียน",f7="ต้องต่ออายุ",d7="ดู",h7="ซ่อน",g7="ต่ออายุ",m7="ต้องการลบนักเรียนนี้หรือไม่?",p7="ประวัติการเข้าเรียน",x7="ไม่มีข้อมูล",y7="ต่ออายุ {{course}}",b7="ส่งคำขอเพิ่มคอร์สแล้ว",w7="ส่งคำขอต่ออายุแล้ว",v7="ยกเลิกแล้ว",E7="แก้ไขวัน",S7="แก้ไขเวลา",C7="ไม่พบข้อมูลโปรไฟล์ กรุณารีโหลดหน้าและลองใหม่อีกครั้ง",A7="นักเรียน (ไม่ใช้งาน)",T7="ค้นหานักเรียน…",_7="เบอร์ผู้ปกครอง",N7="ไลน์ไอดี",R7="การดำเนินการ",O7="กรุณากรอกข้อมูลให้ครบทุกช่อง",I7="อัปโหลดไฟล์ไม่สำเร็จ",M7="ต่ออายุทันที",D7="ส่งคำขอต่ออายุ",L7="ส่งออกนักเรียน ({{count}})",k7="ส่งออก CSV",j7="นักเรียน",B7="ลำดับ",P7={welcome:o6,login:l6,logout:c6,selectCourseError:u6,enterNickError:f6,studentAdded:d6,applicationSubmitted:h6,thankYou:g6,applicationReceived:m6,staffWillContact:p6,youMayClose:x6,admissionsTitle:y6,admissionsIntro:b6,enrollInstant:w6,contactToConfirm:v6,studentInfo:E6,nickName:S6,firstName:C6,lastName:A6,dob:T6,guardian:_6,lineAppId:N6,phone:R6,courses:O6,loadingCourses:I6,noCourses:M6,seats:D6,addTime:L6,hoursPurchased:k6,paymentReceipt:j6,chooseFiles:B6,adding:P6,addStudent:U6,submitting:F6,submitApplication:V6,refreshPublicAdmissionsLink:z6,showPublicAdmissionsLink:H6,copy:$6,loadingPending:G6,pendingCheckins:q6,noPendingCheckins:Y6,takeAttendance:X6,loadingStudents:W6,student:K6,slots:Z6,usedLimit:Q6,check:J6,unlimited:e_,studentQrCode:t_,download:n_,print:i_,close:s_,approve:r_,uncheckedStudent:a_,overLimit:o_,checkedInStudent:l_,unknownCode:c_,alreadyScanned:u_,scanFailed:f_,pendingStudent:d_,billingComingSoon:h_,checkCourses:g_,manageCourses:m_,selectCourse:p_,selectDay:x_,selectTime:y_,loading:b_,noStudentsFound:w_,nickname:v_,fullName:E_,course:S_,days:C_,times:A_,capacity:T_,edit:__,delete:"ลบ",addCourse:N_,editCourse:R_,newCourse:O_,name:I_,daysColon:M_,timesColon:D_,save:L_,cancel:k_,enterName:j_,deleteThisCourse:B_,monday:P_,tuesday:U_,wednesday:F_,thursday:V_,friday:z_,saturday:H_,sunday:$_,addNewStudent:G_,studentsActive:q_,studentsInactive:Y_,review:X_,homepageSlogan:W_,scanStudentQr:K_,scanAnother:Z_,signIn:Q_,signingIn:J_,email:eN,password:tN,emailPlaceholder:nN,noNotifications:iN,markRead:sN,newApplication:rN,courseLimitReached:aN,editRequestFrom:oN,newApplications:lN,renewals:cN,courseChanges:uN,selectAll:fN,unselectAll:dN,reject:hN,approveConfirm:gN,rejectConfirm:mN,submittedBy:pN,lineId:xN,submittedAt:yN,hours:bN,open:wN,receipts:vN,viewReceipts:EN,settingsTitle:SN,closeInvite:CN,inviteUser:AN,tempPassword:TN,role:_N,roleStaff:NN,roleAdmin:RN,sendInvite:ON,inviting:IN,teamMembers:MN,noUsers:DN,editUser:LN,emailReadOnly:kN,saving:jN,noUserIdError:BN,confirmRemoveStaff:PN,role_staff:UN,role_admin:FN,home:VN,reports:zN,messaging:HN,billing:$N,settings:GN,back:qN,deleteStudent:YN,addNewCourse:XN,select:WN,day:KN,timeSlot:ZN,hoursToPurchase:QN,uploadReceipt:JN,submit:e7,studentNotFound:t7,joined:n7,enrolledCourses:i7,daysTimes:s7,hoursLeft:r7,status:a7,receipt:o7,actions:l7,attendance:c7,ongoing:u7,renewalNeeded:f7,view:d7,hide:h7,renew:g7,deleteStudentConfirm:m7,attendanceHistory:p7,noRecords:x7,submitRenew:y7,submitAdd:b7,submitRenewal:w7,cancelled:v7,editDay:E7,editTime:S7,profileMissingError_th:C7,inactiveStudents:A7,searchStudents:T7,export:"ส่งออก",parentPhone:_7,lineID:N7,action:R7,allFieldsRequired:O7,uploadError:I7,renewNow:M7,submitRenewalRequest:D7,exportStudents:L7,exportCSV:k7,students:j7,no:B7},U7=typeof window<"u"&&localStorage.getItem("lang"),J2="en";Zn.use(S4).init({resources:{en:{translation:a6},th:{translation:P7}},lng:U7||J2,fallbackLng:J2,interpolation:{escapeValue:!1}});typeof window<"u"&&(window.i18n=Zn);var K1={exports:{}},Lu={},Z1={exports:{}},Q1={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var eb;function F7(){return eb||(eb=1,function(t){function e(se,le){var Le=se.length;se.push(le);e:for(;0<Le;){var ze=Le-1>>>1,z=se[ze];if(0<l(z,le))se[ze]=le,se[Le]=z,Le=ze;else break e}}function n(se){return se.length===0?null:se[0]}function r(se){if(se.length===0)return null;var le=se[0],Le=se.pop();if(Le!==le){se[0]=Le;e:for(var ze=0,z=se.length,te=z>>>1;ze<te;){var xe=2*(ze+1)-1,ye=se[xe],Me=xe+1,Pe=se[Me];if(0>l(ye,Le))Me<z&&0>l(Pe,ye)?(se[ze]=Pe,se[Me]=Le,ze=Me):(se[ze]=ye,se[xe]=Le,ze=xe);else if(Me<z&&0>l(Pe,Le))se[ze]=Pe,se[Me]=Le,ze=Me;else break e}}return le}function l(se,le){var Le=se.sortIndex-le.sortIndex;return Le!==0?Le:se.id-le.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;t.unstable_now=function(){return u.now()}}else{var g=Date,y=g.now();t.unstable_now=function(){return g.now()-y}}var b=[],x=[],E=1,C=null,N=3,O=!1,M=!1,B=!1,j=!1,V=typeof setTimeout=="function"?setTimeout:null,$=typeof clearTimeout=="function"?clearTimeout:null,U=typeof setImmediate<"u"?setImmediate:null;function q(se){for(var le=n(x);le!==null;){if(le.callback===null)r(x);else if(le.startTime<=se)r(x),le.sortIndex=le.expirationTime,e(b,le);else break;le=n(x)}}function W(se){if(B=!1,q(se),!M)if(n(b)!==null)M=!0,ne||(ne=!0,be());else{var le=n(x);le!==null&&re(W,le.startTime-se)}}var ne=!1,X=-1,oe=5,ee=-1;function pe(){return j?!0:!(t.unstable_now()-ee<oe)}function ke(){if(j=!1,ne){var se=t.unstable_now();ee=se;var le=!0;try{e:{M=!1,B&&(B=!1,$(X),X=-1),O=!0;var Le=N;try{t:{for(q(se),C=n(b);C!==null&&!(C.expirationTime>se&&pe());){var ze=C.callback;if(typeof ze=="function"){C.callback=null,N=C.priorityLevel;var z=ze(C.expirationTime<=se);if(se=t.unstable_now(),typeof z=="function"){C.callback=z,q(se),le=!0;break t}C===n(b)&&r(b),q(se)}else r(b);C=n(b)}if(C!==null)le=!0;else{var te=n(x);te!==null&&re(W,te.startTime-se),le=!1}}break e}finally{C=null,N=Le,O=!1}le=void 0}}finally{le?be():ne=!1}}}var be;if(typeof U=="function")be=function(){U(ke)};else if(typeof MessageChannel<"u"){var Ce=new MessageChannel,Be=Ce.port2;Ce.port1.onmessage=ke,be=function(){Be.postMessage(null)}}else be=function(){V(ke,0)};function re(se,le){X=V(function(){se(t.unstable_now())},le)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(se){se.callback=null},t.unstable_forceFrameRate=function(se){0>se||125<se?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):oe=0<se?Math.floor(1e3/se):5},t.unstable_getCurrentPriorityLevel=function(){return N},t.unstable_next=function(se){switch(N){case 1:case 2:case 3:var le=3;break;default:le=N}var Le=N;N=le;try{return se()}finally{N=Le}},t.unstable_requestPaint=function(){j=!0},t.unstable_runWithPriority=function(se,le){switch(se){case 1:case 2:case 3:case 4:case 5:break;default:se=3}var Le=N;N=se;try{return le()}finally{N=Le}},t.unstable_scheduleCallback=function(se,le,Le){var ze=t.unstable_now();switch(typeof Le=="object"&&Le!==null?(Le=Le.delay,Le=typeof Le=="number"&&0<Le?ze+Le:ze):Le=ze,se){case 1:var z=-1;break;case 2:z=250;break;case 5:z=1073741823;break;case 4:z=1e4;break;default:z=5e3}return z=Le+z,se={id:E++,callback:le,priorityLevel:se,startTime:Le,expirationTime:z,sortIndex:-1},Le>ze?(se.sortIndex=Le,e(x,se),n(b)===null&&se===n(x)&&(B?($(X),X=-1):B=!0,re(W,Le-ze))):(se.sortIndex=z,e(b,se),M||O||(M=!0,ne||(ne=!0,be()))),se},t.unstable_shouldYield=pe,t.unstable_wrapCallback=function(se){var le=N;return function(){var Le=N;N=le;try{return se.apply(this,arguments)}finally{N=Le}}}}(Q1)),Q1}var tb;function V7(){return tb||(tb=1,Z1.exports=F7()),Z1.exports}var J1={exports:{}},wi={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nb;function z7(){if(nb)return wi;nb=1;var t=kh();function e(b){var x="https://react.dev/errors/"+b;if(1<arguments.length){x+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)x+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+b+"; visit "+x+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},l=Symbol.for("react.portal");function u(b,x,E){var C=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:C==null?null:""+C,children:b,containerInfo:x,implementation:E}}var g=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function y(b,x){if(b==="font")return"";if(typeof x=="string")return x==="use-credentials"?x:""}return wi.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,wi.createPortal=function(b,x){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!x||x.nodeType!==1&&x.nodeType!==9&&x.nodeType!==11)throw Error(e(299));return u(b,x,null,E)},wi.flushSync=function(b){var x=g.T,E=r.p;try{if(g.T=null,r.p=2,b)return b()}finally{g.T=x,r.p=E,r.d.f()}},wi.preconnect=function(b,x){typeof b=="string"&&(x?(x=x.crossOrigin,x=typeof x=="string"?x==="use-credentials"?x:"":void 0):x=null,r.d.C(b,x))},wi.prefetchDNS=function(b){typeof b=="string"&&r.d.D(b)},wi.preinit=function(b,x){if(typeof b=="string"&&x&&typeof x.as=="string"){var E=x.as,C=y(E,x.crossOrigin),N=typeof x.integrity=="string"?x.integrity:void 0,O=typeof x.fetchPriority=="string"?x.fetchPriority:void 0;E==="style"?r.d.S(b,typeof x.precedence=="string"?x.precedence:void 0,{crossOrigin:C,integrity:N,fetchPriority:O}):E==="script"&&r.d.X(b,{crossOrigin:C,integrity:N,fetchPriority:O,nonce:typeof x.nonce=="string"?x.nonce:void 0})}},wi.preinitModule=function(b,x){if(typeof b=="string")if(typeof x=="object"&&x!==null){if(x.as==null||x.as==="script"){var E=y(x.as,x.crossOrigin);r.d.M(b,{crossOrigin:E,integrity:typeof x.integrity=="string"?x.integrity:void 0,nonce:typeof x.nonce=="string"?x.nonce:void 0})}}else x==null&&r.d.M(b)},wi.preload=function(b,x){if(typeof b=="string"&&typeof x=="object"&&x!==null&&typeof x.as=="string"){var E=x.as,C=y(E,x.crossOrigin);r.d.L(b,E,{crossOrigin:C,integrity:typeof x.integrity=="string"?x.integrity:void 0,nonce:typeof x.nonce=="string"?x.nonce:void 0,type:typeof x.type=="string"?x.type:void 0,fetchPriority:typeof x.fetchPriority=="string"?x.fetchPriority:void 0,referrerPolicy:typeof x.referrerPolicy=="string"?x.referrerPolicy:void 0,imageSrcSet:typeof x.imageSrcSet=="string"?x.imageSrcSet:void 0,imageSizes:typeof x.imageSizes=="string"?x.imageSizes:void 0,media:typeof x.media=="string"?x.media:void 0})}},wi.preloadModule=function(b,x){if(typeof b=="string")if(x){var E=y(x.as,x.crossOrigin);r.d.m(b,{as:typeof x.as=="string"&&x.as!=="script"?x.as:void 0,crossOrigin:E,integrity:typeof x.integrity=="string"?x.integrity:void 0})}else r.d.m(b)},wi.requestFormReset=function(b){r.d.r(b)},wi.unstable_batchedUpdates=function(b,x){return b(x)},wi.useFormState=function(b,x,E){return g.H.useFormState(b,x,E)},wi.useFormStatus=function(){return g.H.useHostTransitionStatus()},wi.version="19.1.0",wi}var ib;function g3(){if(ib)return J1.exports;ib=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),J1.exports=z7(),J1.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sb;function H7(){if(sb)return Lu;sb=1;var t=V7(),e=kh(),n=g3();function r(i){var a="https://react.dev/errors/"+i;if(1<arguments.length){a+="?args[]="+encodeURIComponent(arguments[1]);for(var f=2;f<arguments.length;f++)a+="&args[]="+encodeURIComponent(arguments[f])}return"Minified React error #"+i+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function u(i){var a=i,f=i;if(i.alternate)for(;a.return;)a=a.return;else{i=a;do a=i,(a.flags&4098)!==0&&(f=a.return),i=a.return;while(i)}return a.tag===3?f:null}function g(i){if(i.tag===13){var a=i.memoizedState;if(a===null&&(i=i.alternate,i!==null&&(a=i.memoizedState)),a!==null)return a.dehydrated}return null}function y(i){if(u(i)!==i)throw Error(r(188))}function b(i){var a=i.alternate;if(!a){if(a=u(i),a===null)throw Error(r(188));return a!==i?null:i}for(var f=i,m=a;;){var v=f.return;if(v===null)break;var A=v.alternate;if(A===null){if(m=v.return,m!==null){f=m;continue}break}if(v.child===A.child){for(A=v.child;A;){if(A===f)return y(v),i;if(A===m)return y(v),a;A=A.sibling}throw Error(r(188))}if(f.return!==m.return)f=v,m=A;else{for(var D=!1,F=v.child;F;){if(F===f){D=!0,f=v,m=A;break}if(F===m){D=!0,m=v,f=A;break}F=F.sibling}if(!D){for(F=A.child;F;){if(F===f){D=!0,f=A,m=v;break}if(F===m){D=!0,m=A,f=v;break}F=F.sibling}if(!D)throw Error(r(189))}}if(f.alternate!==m)throw Error(r(190))}if(f.tag!==3)throw Error(r(188));return f.stateNode.current===f?i:a}function x(i){var a=i.tag;if(a===5||a===26||a===27||a===6)return i;for(i=i.child;i!==null;){if(a=x(i),a!==null)return a;i=i.sibling}return null}var E=Object.assign,C=Symbol.for("react.element"),N=Symbol.for("react.transitional.element"),O=Symbol.for("react.portal"),M=Symbol.for("react.fragment"),B=Symbol.for("react.strict_mode"),j=Symbol.for("react.profiler"),V=Symbol.for("react.provider"),$=Symbol.for("react.consumer"),U=Symbol.for("react.context"),q=Symbol.for("react.forward_ref"),W=Symbol.for("react.suspense"),ne=Symbol.for("react.suspense_list"),X=Symbol.for("react.memo"),oe=Symbol.for("react.lazy"),ee=Symbol.for("react.activity"),pe=Symbol.for("react.memo_cache_sentinel"),ke=Symbol.iterator;function be(i){return i===null||typeof i!="object"?null:(i=ke&&i[ke]||i["@@iterator"],typeof i=="function"?i:null)}var Ce=Symbol.for("react.client.reference");function Be(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===Ce?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case M:return"Fragment";case j:return"Profiler";case B:return"StrictMode";case W:return"Suspense";case ne:return"SuspenseList";case ee:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case O:return"Portal";case U:return(i.displayName||"Context")+".Provider";case $:return(i._context.displayName||"Context")+".Consumer";case q:var a=i.render;return i=i.displayName,i||(i=a.displayName||a.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case X:return a=i.displayName||null,a!==null?a:Be(i.type)||"Memo";case oe:a=i._payload,i=i._init;try{return Be(i(a))}catch{}}return null}var re=Array.isArray,se=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,le=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Le={pending:!1,data:null,method:null,action:null},ze=[],z=-1;function te(i){return{current:i}}function xe(i){0>z||(i.current=ze[z],ze[z]=null,z--)}function ye(i,a){z++,ze[z]=i.current,i.current=a}var Me=te(null),Pe=te(null),we=te(null),lt=te(null);function ve(i,a){switch(ye(we,a),ye(Pe,i),ye(Me,null),a.nodeType){case 9:case 11:i=(i=a.documentElement)&&(i=i.namespaceURI)?r2(i):0;break;default:if(i=a.tagName,a=a.namespaceURI)a=r2(a),i=a2(a,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}xe(Me),ye(Me,i)}function He(){xe(Me),xe(Pe),xe(we)}function xt(i){i.memoizedState!==null&&ye(lt,i);var a=Me.current,f=a2(a,i.type);a!==f&&(ye(Pe,i),ye(Me,f))}function ht(i){Pe.current===i&&(xe(Me),xe(Pe)),lt.current===i&&(xe(lt),_u._currentValue=Le)}var st=Object.prototype.hasOwnProperty,Je=t.unstable_scheduleCallback,Di=t.unstable_cancelCallback,Ai=t.unstable_shouldYield,$s=t.unstable_requestPaint,kt=t.unstable_now,jt=t.unstable_getCurrentPriorityLevel,Ee=t.unstable_ImmediatePriority,yt=t.unstable_UserBlockingPriority,Ne=t.unstable_NormalPriority,gt=t.unstable_LowPriority,It=t.unstable_IdlePriority,Mt=t.log,Qn=t.unstable_setDisableYieldValue,nn=null,un=null;function bn(i){if(typeof Mt=="function"&&Qn(i),un&&typeof un.setStrictMode=="function")try{un.setStrictMode(nn,i)}catch{}}var Tt=Math.clz32?Math.clz32:ll,As=Math.log,sn=Math.LN2;function ll(i){return i>>>=0,i===0?32:31-(As(i)/sn|0)|0}var Xt=256,Oe=4194304;function Pt(i){var a=i&42;if(a!==0)return a;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function wt(i,a,f){var m=i.pendingLanes;if(m===0)return 0;var v=0,A=i.suspendedLanes,D=i.pingedLanes;i=i.warmLanes;var F=m&134217727;return F!==0?(m=F&~A,m!==0?v=Pt(m):(D&=F,D!==0?v=Pt(D):f||(f=F&~i,f!==0&&(v=Pt(f))))):(F=m&~A,F!==0?v=Pt(F):D!==0?v=Pt(D):f||(f=m&~i,f!==0&&(v=Pt(f)))),v===0?0:a!==0&&a!==v&&(a&A)===0&&(A=v&-v,f=a&-a,A>=f||A===32&&(f&4194048)!==0)?a:v}function Wt(i,a){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&a)===0}function oo(i,a){switch(i){case 1:case 2:case 4:case 8:case 64:return a+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function cl(){var i=Xt;return Xt<<=1,(Xt&4194048)===0&&(Xt=256),i}function Pc(){var i=Oe;return Oe<<=1,(Oe&62914560)===0&&(Oe=4194304),i}function _t(i){for(var a=[],f=0;31>f;f++)a.push(i);return a}function Xi(i,a){i.pendingLanes|=a,a!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function Lf(i,a,f,m,v,A){var D=i.pendingLanes;i.pendingLanes=f,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=f,i.entangledLanes&=f,i.errorRecoveryDisabledLanes&=f,i.shellSuspendCounter=0;var F=i.entanglements,Y=i.expirationTimes,fe=i.hiddenUpdates;for(f=D&~f;0<f;){var Se=31-Tt(f),Te=1<<Se;F[Se]=0,Y[Se]=-1;var de=fe[Se];if(de!==null)for(fe[Se]=null,Se=0;Se<de.length;Se++){var ge=de[Se];ge!==null&&(ge.lane&=-536870913)}f&=~Te}m!==0&&Uc(i,m,0),A!==0&&v===0&&i.tag!==0&&(i.suspendedLanes|=A&~(D&~a))}function Uc(i,a,f){i.pendingLanes|=a,i.suspendedLanes&=~a;var m=31-Tt(a);i.entangledLanes|=a,i.entanglements[m]=i.entanglements[m]|1073741824|f&4194090}function Li(i,a){var f=i.entangledLanes|=a;for(i=i.entanglements;f;){var m=31-Tt(f),v=1<<m;v&a|i[m]&a&&(i[m]|=a),f&=~v}}function lo(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function jn(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function br(){var i=le.p;return i!==0?i:(i=window.event,i===void 0?32:A2(i.type))}function ul(i,a){var f=le.p;try{return le.p=i,a()}finally{le.p=f}}var zn=Math.random().toString(36).slice(2),Jn="__reactFiber$"+zn,wn="__reactProps$"+zn,Gs="__reactContainer$"+zn,ei="__reactEvents$"+zn,wr="__reactListeners$"+zn,ki="__reactHandles$"+zn,Ue="__reactResources$"+zn,ls="__reactMarker$"+zn;function co(i){delete i[Jn],delete i[wn],delete i[ei],delete i[wr],delete i[ki]}function Nn(i){var a=i[Jn];if(a)return a;for(var f=i.parentNode;f;){if(a=f[Gs]||f[Jn]){if(f=a.alternate,a.child!==null||f!==null&&f.child!==null)for(i=u2(i);i!==null;){if(f=i[Jn])return f;i=u2(i)}return a}i=f,f=i.parentNode}return null}function Wi(i){if(i=i[Jn]||i[Gs]){var a=i.tag;if(a===5||a===6||a===13||a===26||a===27||a===3)return i}return null}function qs(i){var a=i.tag;if(a===5||a===26||a===27||a===6)return i.stateNode;throw Error(r(33))}function Ts(i){var a=i[Ue];return a||(a=i[Ue]={hoistableStyles:new Map,hoistableScripts:new Map}),a}function zt(i){i[ls]=!0}var kf=new Set,jf={};function ti(i,a){vn(i,a),vn(i+"Capture",a)}function vn(i,a){for(jf[i]=a,i=0;i<a.length;i++)kf.add(a[i])}var rn=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Fc={},_s={};function Vc(i){return st.call(_s,i)?!0:st.call(Fc,i)?!1:rn.test(i)?_s[i]=!0:(Fc[i]=!0,!1)}function _e(i,a,f){if(Vc(a))if(f===null)i.removeAttribute(a);else{switch(typeof f){case"undefined":case"function":case"symbol":i.removeAttribute(a);return;case"boolean":var m=a.toLowerCase().slice(0,5);if(m!=="data-"&&m!=="aria-"){i.removeAttribute(a);return}}i.setAttribute(a,""+f)}}function fl(i,a,f){if(f===null)i.removeAttribute(a);else{switch(typeof f){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(a);return}i.setAttribute(a,""+f)}}function Dt(i,a,f,m){if(m===null)i.removeAttribute(f);else{switch(typeof m){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(f);return}i.setAttributeNS(a,f,""+m)}}var Ys,Bf;function vt(i){if(Ys===void 0)try{throw Error()}catch(f){var a=f.stack.trim().match(/\n( *(at )?)/);Ys=a&&a[1]||"",Bf=-1<f.stack.indexOf(`
    at`)?" (<anonymous>)":-1<f.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ys+i+Bf}var Nt=!1;function mt(i,a){if(!i||Nt)return"";Nt=!0;var f=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var m={DetermineComponentFrameRoot:function(){try{if(a){var Te=function(){throw Error()};if(Object.defineProperty(Te.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Te,[])}catch(ge){var de=ge}Reflect.construct(i,[],Te)}else{try{Te.call()}catch(ge){de=ge}i.call(Te.prototype)}}else{try{throw Error()}catch(ge){de=ge}(Te=i())&&typeof Te.catch=="function"&&Te.catch(function(){})}}catch(ge){if(ge&&de&&typeof ge.stack=="string")return[ge.stack,de.stack]}return[null,null]}};m.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var v=Object.getOwnPropertyDescriptor(m.DetermineComponentFrameRoot,"name");v&&v.configurable&&Object.defineProperty(m.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var A=m.DetermineComponentFrameRoot(),D=A[0],F=A[1];if(D&&F){var Y=D.split(`
`),fe=F.split(`
`);for(v=m=0;m<Y.length&&!Y[m].includes("DetermineComponentFrameRoot");)m++;for(;v<fe.length&&!fe[v].includes("DetermineComponentFrameRoot");)v++;if(m===Y.length||v===fe.length)for(m=Y.length-1,v=fe.length-1;1<=m&&0<=v&&Y[m]!==fe[v];)v--;for(;1<=m&&0<=v;m--,v--)if(Y[m]!==fe[v]){if(m!==1||v!==1)do if(m--,v--,0>v||Y[m]!==fe[v]){var Se=`
`+Y[m].replace(" at new "," at ");return i.displayName&&Se.includes("<anonymous>")&&(Se=Se.replace("<anonymous>",i.displayName)),Se}while(1<=m&&0<=v);break}}}finally{Nt=!1,Error.prepareStackTrace=f}return(f=i?i.displayName||i.name:"")?vt(f):""}function zc(i){switch(i.tag){case 26:case 27:case 5:return vt(i.type);case 16:return vt("Lazy");case 13:return vt("Suspense");case 19:return vt("SuspenseList");case 0:case 15:return mt(i.type,!1);case 11:return mt(i.type.render,!1);case 1:return mt(i.type,!0);case 31:return vt("Activity");default:return""}}function dl(i){try{var a="";do a+=zc(i),i=i.return;while(i);return a}catch(f){return`
Error generating stack: `+f.message+`
`+f.stack}}function gi(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function En(i){var a=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function Xs(i){var a=En(i)?"checked":"value",f=Object.getOwnPropertyDescriptor(i.constructor.prototype,a),m=""+i[a];if(!i.hasOwnProperty(a)&&typeof f<"u"&&typeof f.get=="function"&&typeof f.set=="function"){var v=f.get,A=f.set;return Object.defineProperty(i,a,{configurable:!0,get:function(){return v.call(this)},set:function(D){m=""+D,A.call(this,D)}}),Object.defineProperty(i,a,{enumerable:f.enumerable}),{getValue:function(){return m},setValue:function(D){m=""+D},stopTracking:function(){i._valueTracker=null,delete i[a]}}}}function hl(i){i._valueTracker||(i._valueTracker=Xs(i))}function fn(i){if(!i)return!1;var a=i._valueTracker;if(!a)return!0;var f=a.getValue(),m="";return i&&(m=En(i)?i.checked?"true":"false":i.value),i=m,i!==f?(a.setValue(i),!0):!1}function Ki(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var Qh=/[\n"\\]/g;function Hn(i){return i.replace(Qh,function(a){return"\\"+a.charCodeAt(0).toString(16)+" "})}function Ut(i,a,f,m,v,A,D,F){i.name="",D!=null&&typeof D!="function"&&typeof D!="symbol"&&typeof D!="boolean"?i.type=D:i.removeAttribute("type"),a!=null?D==="number"?(a===0&&i.value===""||i.value!=a)&&(i.value=""+gi(a)):i.value!==""+gi(a)&&(i.value=""+gi(a)):D!=="submit"&&D!=="reset"||i.removeAttribute("value"),a!=null?ce(i,D,gi(a)):f!=null?ce(i,D,gi(f)):m!=null&&i.removeAttribute("value"),v==null&&A!=null&&(i.defaultChecked=!!A),v!=null&&(i.checked=v&&typeof v!="function"&&typeof v!="symbol"),F!=null&&typeof F!="function"&&typeof F!="symbol"&&typeof F!="boolean"?i.name=""+gi(F):i.removeAttribute("name")}function $n(i,a,f,m,v,A,D,F){if(A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"&&(i.type=A),a!=null||f!=null){if(!(A!=="submit"&&A!=="reset"||a!=null))return;f=f!=null?""+gi(f):"",a=a!=null?""+gi(a):f,F||a===i.value||(i.value=a),i.defaultValue=a}m=m??v,m=typeof m!="function"&&typeof m!="symbol"&&!!m,i.checked=F?i.checked:!!m,i.defaultChecked=!!m,D!=null&&typeof D!="function"&&typeof D!="symbol"&&typeof D!="boolean"&&(i.name=D)}function ce(i,a,f){a==="number"&&Ki(i.ownerDocument)===i||i.defaultValue===""+f||(i.defaultValue=""+f)}function H(i,a,f,m){if(i=i.options,a){a={};for(var v=0;v<f.length;v++)a["$"+f[v]]=!0;for(f=0;f<i.length;f++)v=a.hasOwnProperty("$"+i[f].value),i[f].selected!==v&&(i[f].selected=v),v&&m&&(i[f].defaultSelected=!0)}else{for(f=""+gi(f),a=null,v=0;v<i.length;v++){if(i[v].value===f){i[v].selected=!0,m&&(i[v].defaultSelected=!0);return}a!==null||i[v].disabled||(a=i[v])}a!==null&&(a.selected=!0)}}function Ge(i,a,f){if(a!=null&&(a=""+gi(a),a!==i.value&&(i.value=a),f==null)){i.defaultValue!==a&&(i.defaultValue=a);return}i.defaultValue=f!=null?""+gi(f):""}function Rn(i,a,f,m){if(a==null){if(m!=null){if(f!=null)throw Error(r(92));if(re(m)){if(1<m.length)throw Error(r(93));m=m[0]}f=m}f==null&&(f=""),a=f}f=gi(a),i.defaultValue=f,m=i.textContent,m===f&&m!==""&&m!==null&&(i.value=m)}function Gn(i,a){if(a){var f=i.firstChild;if(f&&f===i.lastChild&&f.nodeType===3){f.nodeValue=a;return}}i.textContent=a}var Jh=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function gl(i,a,f){var m=a.indexOf("--")===0;f==null||typeof f=="boolean"||f===""?m?i.setProperty(a,""):a==="float"?i.cssFloat="":i[a]="":m?i.setProperty(a,f):typeof f!="number"||f===0||Jh.has(a)?a==="float"?i.cssFloat=f:i[a]=(""+f).trim():i[a]=f+"px"}function Ti(i,a,f){if(a!=null&&typeof a!="object")throw Error(r(62));if(i=i.style,f!=null){for(var m in f)!f.hasOwnProperty(m)||a!=null&&a.hasOwnProperty(m)||(m.indexOf("--")===0?i.setProperty(m,""):m==="float"?i.cssFloat="":i[m]="");for(var v in a)m=a[v],a.hasOwnProperty(v)&&f[v]!==m&&gl(i,v,m)}else for(var A in a)a.hasOwnProperty(A)&&gl(i,A,a[A])}function qe(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ln=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Pf=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ml(i){return Pf.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}var uo=null;function na(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var Ws=null,ia=null;function On(i){var a=Wi(i);if(a&&(i=a.stateNode)){var f=i[wn]||null;e:switch(i=a.stateNode,a.type){case"input":if(Ut(i,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name),a=f.name,f.type==="radio"&&a!=null){for(f=i;f.parentNode;)f=f.parentNode;for(f=f.querySelectorAll('input[name="'+Hn(""+a)+'"][type="radio"]'),a=0;a<f.length;a++){var m=f[a];if(m!==i&&m.form===i.form){var v=m[wn]||null;if(!v)throw Error(r(90));Ut(m,v.value,v.defaultValue,v.defaultValue,v.checked,v.defaultChecked,v.type,v.name)}}for(a=0;a<f.length;a++)m=f[a],m.form===i.form&&fn(m)}break e;case"textarea":Ge(i,f.value,f.defaultValue);break e;case"select":a=f.value,a!=null&&H(i,!!f.multiple,a,!1)}}}var vr=!1;function Ns(i,a,f){if(vr)return i(a,f);vr=!0;try{var m=i(a);return m}finally{if(vr=!1,(Ws!==null||ia!==null)&&(Sd(),Ws&&(a=Ws,i=ia,ia=Ws=null,On(a),i)))for(a=0;a<i.length;a++)On(i[a])}}function Xe(i,a){var f=i.stateNode;if(f===null)return null;var m=f[wn]||null;if(m===null)return null;f=m[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(m=!m.disabled)||(i=i.type,m=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!m;break e;default:i=!1}if(i)return null;if(f&&typeof f!="function")throw Error(r(231,a,typeof f));return f}var Rs=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),at=!1;if(Rs)try{var pn={};Object.defineProperty(pn,"passive",{get:function(){at=!0}}),window.addEventListener("test",pn,pn),window.removeEventListener("test",pn,pn)}catch{at=!1}var Ks=null,fo=null,ho=null;function Zs(){if(ho)return ho;var i,a=fo,f=a.length,m,v="value"in Ks?Ks.value:Ks.textContent,A=v.length;for(i=0;i<f&&a[i]===v[i];i++);var D=f-i;for(m=1;m<=D&&a[f-m]===v[A-m];m++);return ho=v.slice(i,1<m?1-m:void 0)}function pl(i){var a=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&a===13&&(i=13)):i=a,i===10&&(i=13),32<=i||i===13?i:0}function Qs(){return!0}function sa(){return!1}function Bn(i){function a(f,m,v,A,D){this._reactName=f,this._targetInst=v,this.type=m,this.nativeEvent=A,this.target=D,this.currentTarget=null;for(var F in i)i.hasOwnProperty(F)&&(f=i[F],this[F]=f?f(A):A[F]);return this.isDefaultPrevented=(A.defaultPrevented!=null?A.defaultPrevented:A.returnValue===!1)?Qs:sa,this.isPropagationStopped=sa,this}return E(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var f=this.nativeEvent;f&&(f.preventDefault?f.preventDefault():typeof f.returnValue!="unknown"&&(f.returnValue=!1),this.isDefaultPrevented=Qs)},stopPropagation:function(){var f=this.nativeEvent;f&&(f.stopPropagation?f.stopPropagation():typeof f.cancelBubble!="unknown"&&(f.cancelBubble=!0),this.isPropagationStopped=Qs)},persist:function(){},isPersistent:Qs}),a}var Js={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},er=Bn(Js),Os=E({},Js,{view:0,detail:0}),mi=Bn(Os),xl,yl,ra,bl=E({},Os,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:mo,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==ra&&(ra&&i.type==="mousemove"?(xl=i.screenX-ra.screenX,yl=i.screenY-ra.screenY):yl=xl=0,ra=i),xl)},movementY:function(i){return"movementY"in i?i.movementY:yl}}),Uf=Bn(bl),e0=E({},bl,{dataTransfer:0}),Ft=Bn(e0),Ff=E({},Os,{relatedTarget:0}),aa=Bn(Ff),tr=E({},Js,{animationName:0,elapsedTime:0,pseudoElement:0}),t0=Bn(tr),me=E({},Js,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),ut=Bn(me),qn=E({},Js,{data:0}),go=Bn(qn),Vf={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},n0={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},i0={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function s0(i){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(i):(i=i0[i])?!!a[i]:!1}function mo(){return s0}var In=E({},Os,{key:function(i){if(i.key){var a=Vf[i.key]||i.key;if(a!=="Unidentified")return a}return i.type==="keypress"?(i=pl(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?n0[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:mo,charCode:function(i){return i.type==="keypress"?pl(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?pl(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),Hc=Bn(In),dn=E({},bl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),po=Bn(dn),Er=E({},Os,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:mo}),Ht=Bn(Er),We=E({},Js,{propertyName:0,elapsedTime:0,pseudoElement:0}),r0=Bn(We),Jt=E({},bl,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),Sr=Bn(Jt),oa=E({},Js,{newState:0,oldState:0}),a0=Bn(oa),cs=[9,13,27,32],xo=Rs&&"CompositionEvent"in window,la=null;Rs&&"documentMode"in document&&(la=document.documentMode);var $c=Rs&&"TextEvent"in window&&!la,Gc=Rs&&(!xo||la&&8<la&&11>=la),qc=" ",zf=!1;function Cr(i,a){switch(i){case"keyup":return cs.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function wl(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var ca=!1;function yo(i,a){switch(i){case"compositionend":return wl(a);case"keypress":return a.which!==32?null:(zf=!0,qc);case"textInput":return i=a.data,i===qc&&zf?null:i;default:return null}}function o0(i,a){if(ca)return i==="compositionend"||!xo&&Cr(i,a)?(i=Zs(),ho=fo=Ks=null,ca=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return Gc&&a.locale!=="ko"?null:a.data;default:return null}}var nr={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function bo(i){var a=i&&i.nodeName&&i.nodeName.toLowerCase();return a==="input"?!!nr[i.type]:a==="textarea"}function _i(i,a,f,m){Ws?ia?ia.push(m):ia=[m]:Ws=m,a=Rd(a,"onChange"),0<a.length&&(f=new er("onChange","change",null,f,m),i.push({event:f,listeners:a}))}var ua=null,pi=null;function l0(i){e2(i,0)}function fa(i){var a=qs(i);if(fn(a))return i}function Hf(i,a){if(i==="change")return a}var Yc=!1;if(Rs){var ji;if(Rs){var Xc="oninput"in document;if(!Xc){var vl=document.createElement("div");vl.setAttribute("oninput","return;"),Xc=typeof vl.oninput=="function"}ji=Xc}else ji=!1;Yc=ji&&(!document.documentMode||9<document.documentMode)}function da(){ua&&(ua.detachEvent("onpropertychange",At),pi=ua=null)}function At(i){if(i.propertyName==="value"&&fa(pi)){var a=[];_i(a,pi,i,na(i)),Ns(l0,a)}}function El(i,a,f){i==="focusin"?(da(),ua=a,pi=f,ua.attachEvent("onpropertychange",At)):i==="focusout"&&da()}function L(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return fa(pi)}function s(i,a){if(i==="click")return fa(a)}function o(i,a){if(i==="input"||i==="change")return fa(a)}function c(i,a){return i===a&&(i!==0||1/i===1/a)||i!==i&&a!==a}var d=typeof Object.is=="function"?Object.is:c;function h(i,a){if(d(i,a))return!0;if(typeof i!="object"||i===null||typeof a!="object"||a===null)return!1;var f=Object.keys(i),m=Object.keys(a);if(f.length!==m.length)return!1;for(m=0;m<f.length;m++){var v=f[m];if(!st.call(a,v)||!d(i[v],a[v]))return!1}return!0}function p(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function w(i,a){var f=p(i);i=0;for(var m;f;){if(f.nodeType===3){if(m=i+f.textContent.length,i<=a&&m>=a)return{node:f,offset:a-i};i=m}e:{for(;f;){if(f.nextSibling){f=f.nextSibling;break e}f=f.parentNode}f=void 0}f=p(f)}}function S(i,a){return i&&a?i===a?!0:i&&i.nodeType===3?!1:a&&a.nodeType===3?S(i,a.parentNode):"contains"in i?i.contains(a):i.compareDocumentPosition?!!(i.compareDocumentPosition(a)&16):!1:!1}function _(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var a=Ki(i.document);a instanceof i.HTMLIFrameElement;){try{var f=typeof a.contentWindow.location.href=="string"}catch{f=!1}if(f)i=a.contentWindow;else break;a=Ki(i.document)}return a}function I(i){var a=i&&i.nodeName&&i.nodeName.toLowerCase();return a&&(a==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||a==="textarea"||i.contentEditable==="true")}var k=Rs&&"documentMode"in document&&11>=document.documentMode,P=null,G=null,K=null,Q=!1;function ae(i,a,f){var m=f.window===f?f.document:f.nodeType===9?f:f.ownerDocument;Q||P==null||P!==Ki(m)||(m=P,"selectionStart"in m&&I(m)?m={start:m.selectionStart,end:m.selectionEnd}:(m=(m.ownerDocument&&m.ownerDocument.defaultView||window).getSelection(),m={anchorNode:m.anchorNode,anchorOffset:m.anchorOffset,focusNode:m.focusNode,focusOffset:m.focusOffset}),K&&h(K,m)||(K=m,m=Rd(G,"onSelect"),0<m.length&&(a=new er("onSelect","select",null,a,f),i.push({event:a,listeners:m}),a.target=P)))}function he(i,a){var f={};return f[i.toLowerCase()]=a.toLowerCase(),f["Webkit"+i]="webkit"+a,f["Moz"+i]="moz"+a,f}var Ie={animationend:he("Animation","AnimationEnd"),animationiteration:he("Animation","AnimationIteration"),animationstart:he("Animation","AnimationStart"),transitionrun:he("Transition","TransitionRun"),transitionstart:he("Transition","TransitionStart"),transitioncancel:he("Transition","TransitionCancel"),transitionend:he("Transition","TransitionEnd")},De={},Re={};Rs&&(Re=document.createElement("div").style,"AnimationEvent"in window||(delete Ie.animationend.animation,delete Ie.animationiteration.animation,delete Ie.animationstart.animation),"TransitionEvent"in window||delete Ie.transitionend.transition);function ot(i){if(De[i])return De[i];if(!Ie[i])return i;var a=Ie[i],f;for(f in a)if(a.hasOwnProperty(f)&&f in Re)return De[i]=a[f];return i}var rt=ot("animationend"),li=ot("animationiteration"),Bi=ot("animationstart"),xi=ot("transitionrun"),$t=ot("transitionstart"),Yn=ot("transitioncancel"),yi=ot("transitionend"),Ar=new Map,ir="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");ir.push("scrollEnd");function Zi(i,a){Ar.set(i,a),ti(a,[i])}var $f=new WeakMap;function us(i,a){if(typeof i=="object"&&i!==null){var f=$f.get(i);return f!==void 0?f:(a={value:i,source:a,stack:dl(a)},$f.set(i,a),a)}return{value:i,source:a,stack:dl(a)}}var fs=[],Sl=0,c0=0;function Gf(){for(var i=Sl,a=c0=Sl=0;a<i;){var f=fs[a];fs[a++]=null;var m=fs[a];fs[a++]=null;var v=fs[a];fs[a++]=null;var A=fs[a];if(fs[a++]=null,m!==null&&v!==null){var D=m.pending;D===null?v.next=v:(v.next=D.next,D.next=v),m.pending=v}A!==0&&Pp(f,v,A)}}function qf(i,a,f,m){fs[Sl++]=i,fs[Sl++]=a,fs[Sl++]=f,fs[Sl++]=m,c0|=m,i.lanes|=m,i=i.alternate,i!==null&&(i.lanes|=m)}function u0(i,a,f,m){return qf(i,a,f,m),Yf(i)}function Cl(i,a){return qf(i,null,null,a),Yf(i)}function Pp(i,a,f){i.lanes|=f;var m=i.alternate;m!==null&&(m.lanes|=f);for(var v=!1,A=i.return;A!==null;)A.childLanes|=f,m=A.alternate,m!==null&&(m.childLanes|=f),A.tag===22&&(i=A.stateNode,i===null||i._visibility&1||(v=!0)),i=A,A=A.return;return i.tag===3?(A=i.stateNode,v&&a!==null&&(v=31-Tt(f),i=A.hiddenUpdates,m=i[v],m===null?i[v]=[a]:m.push(a),a.lane=f|536870912),A):null}function Yf(i){if(50<bu)throw bu=0,p1=null,Error(r(185));for(var a=i.return;a!==null;)i=a,a=i.return;return i.tag===3?i.stateNode:null}var Al={};function NC(i,a,f,m){this.tag=i,this.key=f,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=m,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Qi(i,a,f,m){return new NC(i,a,f,m)}function f0(i){return i=i.prototype,!(!i||!i.isReactComponent)}function Tr(i,a){var f=i.alternate;return f===null?(f=Qi(i.tag,a,i.key,i.mode),f.elementType=i.elementType,f.type=i.type,f.stateNode=i.stateNode,f.alternate=i,i.alternate=f):(f.pendingProps=a,f.type=i.type,f.flags=0,f.subtreeFlags=0,f.deletions=null),f.flags=i.flags&65011712,f.childLanes=i.childLanes,f.lanes=i.lanes,f.child=i.child,f.memoizedProps=i.memoizedProps,f.memoizedState=i.memoizedState,f.updateQueue=i.updateQueue,a=i.dependencies,f.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},f.sibling=i.sibling,f.index=i.index,f.ref=i.ref,f.refCleanup=i.refCleanup,f}function Up(i,a){i.flags&=65011714;var f=i.alternate;return f===null?(i.childLanes=0,i.lanes=a,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=f.childLanes,i.lanes=f.lanes,i.child=f.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=f.memoizedProps,i.memoizedState=f.memoizedState,i.updateQueue=f.updateQueue,i.type=f.type,a=f.dependencies,i.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),i}function Xf(i,a,f,m,v,A){var D=0;if(m=i,typeof i=="function")f0(i)&&(D=1);else if(typeof i=="string")D=OA(i,f,Me.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case ee:return i=Qi(31,f,a,v),i.elementType=ee,i.lanes=A,i;case M:return wo(f.children,v,A,a);case B:D=8,v|=24;break;case j:return i=Qi(12,f,a,v|2),i.elementType=j,i.lanes=A,i;case W:return i=Qi(13,f,a,v),i.elementType=W,i.lanes=A,i;case ne:return i=Qi(19,f,a,v),i.elementType=ne,i.lanes=A,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case V:case U:D=10;break e;case $:D=9;break e;case q:D=11;break e;case X:D=14;break e;case oe:D=16,m=null;break e}D=29,f=Error(r(130,i===null?"null":typeof i,"")),m=null}return a=Qi(D,f,a,v),a.elementType=i,a.type=m,a.lanes=A,a}function wo(i,a,f,m){return i=Qi(7,i,m,a),i.lanes=f,i}function d0(i,a,f){return i=Qi(6,i,null,a),i.lanes=f,i}function h0(i,a,f){return a=Qi(4,i.children!==null?i.children:[],i.key,a),a.lanes=f,a.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},a}var Tl=[],_l=0,Wf=null,Kf=0,ds=[],hs=0,vo=null,_r=1,Nr="";function Eo(i,a){Tl[_l++]=Kf,Tl[_l++]=Wf,Wf=i,Kf=a}function Fp(i,a,f){ds[hs++]=_r,ds[hs++]=Nr,ds[hs++]=vo,vo=i;var m=_r;i=Nr;var v=32-Tt(m)-1;m&=~(1<<v),f+=1;var A=32-Tt(a)+v;if(30<A){var D=v-v%5;A=(m&(1<<D)-1).toString(32),m>>=D,v-=D,_r=1<<32-Tt(a)+v|f<<v|m,Nr=A+i}else _r=1<<A|f<<v|m,Nr=i}function g0(i){i.return!==null&&(Eo(i,1),Fp(i,1,0))}function m0(i){for(;i===Wf;)Wf=Tl[--_l],Tl[_l]=null,Kf=Tl[--_l],Tl[_l]=null;for(;i===vo;)vo=ds[--hs],ds[hs]=null,Nr=ds[--hs],ds[hs]=null,_r=ds[--hs],ds[hs]=null}var Ni=null,Sn=null,Bt=!1,So=null,sr=!1,p0=Error(r(519));function Co(i){var a=Error(r(418,""));throw Zc(us(a,i)),p0}function Vp(i){var a=i.stateNode,f=i.type,m=i.memoizedProps;switch(a[Jn]=i,a[wn]=m,f){case"dialog":St("cancel",a),St("close",a);break;case"iframe":case"object":case"embed":St("load",a);break;case"video":case"audio":for(f=0;f<vu.length;f++)St(vu[f],a);break;case"source":St("error",a);break;case"img":case"image":case"link":St("error",a),St("load",a);break;case"details":St("toggle",a);break;case"input":St("invalid",a),$n(a,m.value,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name,!0),hl(a);break;case"select":St("invalid",a);break;case"textarea":St("invalid",a),Rn(a,m.value,m.defaultValue,m.children),hl(a)}f=m.children,typeof f!="string"&&typeof f!="number"&&typeof f!="bigint"||a.textContent===""+f||m.suppressHydrationWarning===!0||s2(a.textContent,f)?(m.popover!=null&&(St("beforetoggle",a),St("toggle",a)),m.onScroll!=null&&St("scroll",a),m.onScrollEnd!=null&&St("scrollend",a),m.onClick!=null&&(a.onclick=Od),a=!0):a=!1,a||Co(i)}function zp(i){for(Ni=i.return;Ni;)switch(Ni.tag){case 5:case 13:sr=!1;return;case 27:case 3:sr=!0;return;default:Ni=Ni.return}}function Wc(i){if(i!==Ni)return!1;if(!Bt)return zp(i),Bt=!0,!1;var a=i.tag,f;if((f=a!==3&&a!==27)&&((f=a===5)&&(f=i.type,f=!(f!=="form"&&f!=="button")||M1(i.type,i.memoizedProps)),f=!f),f&&Sn&&Co(i),zp(i),a===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));e:{for(i=i.nextSibling,a=0;i;){if(i.nodeType===8)if(f=i.data,f==="/$"){if(a===0){Sn=Ms(i.nextSibling);break e}a--}else f!=="$"&&f!=="$!"&&f!=="$?"||a++;i=i.nextSibling}Sn=null}}else a===27?(a=Sn,Na(i.type)?(i=j1,j1=null,Sn=i):Sn=a):Sn=Ni?Ms(i.stateNode.nextSibling):null;return!0}function Kc(){Sn=Ni=null,Bt=!1}function Hp(){var i=So;return i!==null&&(Fi===null?Fi=i:Fi.push.apply(Fi,i),So=null),i}function Zc(i){So===null?So=[i]:So.push(i)}var x0=te(null),Ao=null,Rr=null;function ha(i,a,f){ye(x0,a._currentValue),a._currentValue=f}function Or(i){i._currentValue=x0.current,xe(x0)}function y0(i,a,f){for(;i!==null;){var m=i.alternate;if((i.childLanes&a)!==a?(i.childLanes|=a,m!==null&&(m.childLanes|=a)):m!==null&&(m.childLanes&a)!==a&&(m.childLanes|=a),i===f)break;i=i.return}}function b0(i,a,f,m){var v=i.child;for(v!==null&&(v.return=i);v!==null;){var A=v.dependencies;if(A!==null){var D=v.child;A=A.firstContext;e:for(;A!==null;){var F=A;A=v;for(var Y=0;Y<a.length;Y++)if(F.context===a[Y]){A.lanes|=f,F=A.alternate,F!==null&&(F.lanes|=f),y0(A.return,f,i),m||(D=null);break e}A=F.next}}else if(v.tag===18){if(D=v.return,D===null)throw Error(r(341));D.lanes|=f,A=D.alternate,A!==null&&(A.lanes|=f),y0(D,f,i),D=null}else D=v.child;if(D!==null)D.return=v;else for(D=v;D!==null;){if(D===i){D=null;break}if(v=D.sibling,v!==null){v.return=D.return,D=v;break}D=D.return}v=D}}function Qc(i,a,f,m){i=null;for(var v=a,A=!1;v!==null;){if(!A){if((v.flags&524288)!==0)A=!0;else if((v.flags&262144)!==0)break}if(v.tag===10){var D=v.alternate;if(D===null)throw Error(r(387));if(D=D.memoizedProps,D!==null){var F=v.type;d(v.pendingProps.value,D.value)||(i!==null?i.push(F):i=[F])}}else if(v===lt.current){if(D=v.alternate,D===null)throw Error(r(387));D.memoizedState.memoizedState!==v.memoizedState.memoizedState&&(i!==null?i.push(_u):i=[_u])}v=v.return}i!==null&&b0(a,i,f,m),a.flags|=262144}function Zf(i){for(i=i.firstContext;i!==null;){if(!d(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function To(i){Ao=i,Rr=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function bi(i){return $p(Ao,i)}function Qf(i,a){return Ao===null&&To(i),$p(i,a)}function $p(i,a){var f=a._currentValue;if(a={context:a,memoizedValue:f,next:null},Rr===null){if(i===null)throw Error(r(308));Rr=a,i.dependencies={lanes:0,firstContext:a},i.flags|=524288}else Rr=Rr.next=a;return f}var RC=typeof AbortController<"u"?AbortController:function(){var i=[],a=this.signal={aborted:!1,addEventListener:function(f,m){i.push(m)}};this.abort=function(){a.aborted=!0,i.forEach(function(f){return f()})}},OC=t.unstable_scheduleCallback,IC=t.unstable_NormalPriority,Xn={$$typeof:U,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function w0(){return{controller:new RC,data:new Map,refCount:0}}function Jc(i){i.refCount--,i.refCount===0&&OC(IC,function(){i.controller.abort()})}var eu=null,v0=0,Nl=0,Rl=null;function MC(i,a){if(eu===null){var f=eu=[];v0=0,Nl=S1(),Rl={status:"pending",value:void 0,then:function(m){f.push(m)}}}return v0++,a.then(Gp,Gp),a}function Gp(){if(--v0===0&&eu!==null){Rl!==null&&(Rl.status="fulfilled");var i=eu;eu=null,Nl=0,Rl=null;for(var a=0;a<i.length;a++)(0,i[a])()}}function DC(i,a){var f=[],m={status:"pending",value:null,reason:null,then:function(v){f.push(v)}};return i.then(function(){m.status="fulfilled",m.value=a;for(var v=0;v<f.length;v++)(0,f[v])(a)},function(v){for(m.status="rejected",m.reason=v,v=0;v<f.length;v++)(0,f[v])(void 0)}),m}var qp=se.S;se.S=function(i,a){typeof a=="object"&&a!==null&&typeof a.then=="function"&&MC(i,a),qp!==null&&qp(i,a)};var _o=te(null);function E0(){var i=_o.current;return i!==null?i:an.pooledCache}function Jf(i,a){a===null?ye(_o,_o.current):ye(_o,a.pool)}function Yp(){var i=E0();return i===null?null:{parent:Xn._currentValue,pool:i}}var tu=Error(r(460)),Xp=Error(r(474)),ed=Error(r(542)),S0={then:function(){}};function Wp(i){return i=i.status,i==="fulfilled"||i==="rejected"}function td(){}function Kp(i,a,f){switch(f=i[f],f===void 0?i.push(a):f!==a&&(a.then(td,td),a=f),a.status){case"fulfilled":return a.value;case"rejected":throw i=a.reason,Qp(i),i;default:if(typeof a.status=="string")a.then(td,td);else{if(i=an,i!==null&&100<i.shellSuspendCounter)throw Error(r(482));i=a,i.status="pending",i.then(function(m){if(a.status==="pending"){var v=a;v.status="fulfilled",v.value=m}},function(m){if(a.status==="pending"){var v=a;v.status="rejected",v.reason=m}})}switch(a.status){case"fulfilled":return a.value;case"rejected":throw i=a.reason,Qp(i),i}throw nu=a,tu}}var nu=null;function Zp(){if(nu===null)throw Error(r(459));var i=nu;return nu=null,i}function Qp(i){if(i===tu||i===ed)throw Error(r(483))}var ga=!1;function C0(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function A0(i,a){i=i.updateQueue,a.updateQueue===i&&(a.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function ma(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function pa(i,a,f){var m=i.updateQueue;if(m===null)return null;if(m=m.shared,(Gt&2)!==0){var v=m.pending;return v===null?a.next=a:(a.next=v.next,v.next=a),m.pending=a,a=Yf(i),Pp(i,null,f),a}return qf(i,m,a,f),Yf(i)}function iu(i,a,f){if(a=a.updateQueue,a!==null&&(a=a.shared,(f&4194048)!==0)){var m=a.lanes;m&=i.pendingLanes,f|=m,a.lanes=f,Li(i,f)}}function T0(i,a){var f=i.updateQueue,m=i.alternate;if(m!==null&&(m=m.updateQueue,f===m)){var v=null,A=null;if(f=f.firstBaseUpdate,f!==null){do{var D={lane:f.lane,tag:f.tag,payload:f.payload,callback:null,next:null};A===null?v=A=D:A=A.next=D,f=f.next}while(f!==null);A===null?v=A=a:A=A.next=a}else v=A=a;f={baseState:m.baseState,firstBaseUpdate:v,lastBaseUpdate:A,shared:m.shared,callbacks:m.callbacks},i.updateQueue=f;return}i=f.lastBaseUpdate,i===null?f.firstBaseUpdate=a:i.next=a,f.lastBaseUpdate=a}var _0=!1;function su(){if(_0){var i=Rl;if(i!==null)throw i}}function ru(i,a,f,m){_0=!1;var v=i.updateQueue;ga=!1;var A=v.firstBaseUpdate,D=v.lastBaseUpdate,F=v.shared.pending;if(F!==null){v.shared.pending=null;var Y=F,fe=Y.next;Y.next=null,D===null?A=fe:D.next=fe,D=Y;var Se=i.alternate;Se!==null&&(Se=Se.updateQueue,F=Se.lastBaseUpdate,F!==D&&(F===null?Se.firstBaseUpdate=fe:F.next=fe,Se.lastBaseUpdate=Y))}if(A!==null){var Te=v.baseState;D=0,Se=fe=Y=null,F=A;do{var de=F.lane&-536870913,ge=de!==F.lane;if(ge?(Ot&de)===de:(m&de)===de){de!==0&&de===Nl&&(_0=!0),Se!==null&&(Se=Se.next={lane:0,tag:F.tag,payload:F.payload,callback:null,next:null});e:{var et=i,Ze=F;de=a;var Qt=f;switch(Ze.tag){case 1:if(et=Ze.payload,typeof et=="function"){Te=et.call(Qt,Te,de);break e}Te=et;break e;case 3:et.flags=et.flags&-65537|128;case 0:if(et=Ze.payload,de=typeof et=="function"?et.call(Qt,Te,de):et,de==null)break e;Te=E({},Te,de);break e;case 2:ga=!0}}de=F.callback,de!==null&&(i.flags|=64,ge&&(i.flags|=8192),ge=v.callbacks,ge===null?v.callbacks=[de]:ge.push(de))}else ge={lane:de,tag:F.tag,payload:F.payload,callback:F.callback,next:null},Se===null?(fe=Se=ge,Y=Te):Se=Se.next=ge,D|=de;if(F=F.next,F===null){if(F=v.shared.pending,F===null)break;ge=F,F=ge.next,ge.next=null,v.lastBaseUpdate=ge,v.shared.pending=null}}while(!0);Se===null&&(Y=Te),v.baseState=Y,v.firstBaseUpdate=fe,v.lastBaseUpdate=Se,A===null&&(v.shared.lanes=0),Ca|=D,i.lanes=D,i.memoizedState=Te}}function Jp(i,a){if(typeof i!="function")throw Error(r(191,i));i.call(a)}function ex(i,a){var f=i.callbacks;if(f!==null)for(i.callbacks=null,i=0;i<f.length;i++)Jp(f[i],a)}var Ol=te(null),nd=te(0);function tx(i,a){i=Br,ye(nd,i),ye(Ol,a),Br=i|a.baseLanes}function N0(){ye(nd,Br),ye(Ol,Ol.current)}function R0(){Br=nd.current,xe(Ol),xe(nd)}var xa=0,pt=null,Kt=null,Pn=null,id=!1,Il=!1,No=!1,sd=0,au=0,Ml=null,LC=0;function Mn(){throw Error(r(321))}function O0(i,a){if(a===null)return!1;for(var f=0;f<a.length&&f<i.length;f++)if(!d(i[f],a[f]))return!1;return!0}function I0(i,a,f,m,v,A){return xa=A,pt=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,se.H=i===null||i.memoizedState===null?Px:Ux,No=!1,A=f(m,v),No=!1,Il&&(A=ix(a,f,m,v)),nx(i),A}function nx(i){se.H=ud;var a=Kt!==null&&Kt.next!==null;if(xa=0,Pn=Kt=pt=null,id=!1,au=0,Ml=null,a)throw Error(r(300));i===null||ni||(i=i.dependencies,i!==null&&Zf(i)&&(ni=!0))}function ix(i,a,f,m){pt=i;var v=0;do{if(Il&&(Ml=null),au=0,Il=!1,25<=v)throw Error(r(301));if(v+=1,Pn=Kt=null,i.updateQueue!=null){var A=i.updateQueue;A.lastEffect=null,A.events=null,A.stores=null,A.memoCache!=null&&(A.memoCache.index=0)}se.H=VC,A=a(f,m)}while(Il);return A}function kC(){var i=se.H,a=i.useState()[0];return a=typeof a.then=="function"?ou(a):a,i=i.useState()[0],(Kt!==null?Kt.memoizedState:null)!==i&&(pt.flags|=1024),a}function M0(){var i=sd!==0;return sd=0,i}function D0(i,a,f){a.updateQueue=i.updateQueue,a.flags&=-2053,i.lanes&=~f}function L0(i){if(id){for(i=i.memoizedState;i!==null;){var a=i.queue;a!==null&&(a.pending=null),i=i.next}id=!1}xa=0,Pn=Kt=pt=null,Il=!1,au=sd=0,Ml=null}function Pi(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Pn===null?pt.memoizedState=Pn=i:Pn=Pn.next=i,Pn}function Un(){if(Kt===null){var i=pt.alternate;i=i!==null?i.memoizedState:null}else i=Kt.next;var a=Pn===null?pt.memoizedState:Pn.next;if(a!==null)Pn=a,Kt=i;else{if(i===null)throw pt.alternate===null?Error(r(467)):Error(r(310));Kt=i,i={memoizedState:Kt.memoizedState,baseState:Kt.baseState,baseQueue:Kt.baseQueue,queue:Kt.queue,next:null},Pn===null?pt.memoizedState=Pn=i:Pn=Pn.next=i}return Pn}function k0(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ou(i){var a=au;return au+=1,Ml===null&&(Ml=[]),i=Kp(Ml,i,a),a=pt,(Pn===null?a.memoizedState:Pn.next)===null&&(a=a.alternate,se.H=a===null||a.memoizedState===null?Px:Ux),i}function rd(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return ou(i);if(i.$$typeof===U)return bi(i)}throw Error(r(438,String(i)))}function j0(i){var a=null,f=pt.updateQueue;if(f!==null&&(a=f.memoCache),a==null){var m=pt.alternate;m!==null&&(m=m.updateQueue,m!==null&&(m=m.memoCache,m!=null&&(a={data:m.data.map(function(v){return v.slice()}),index:0})))}if(a==null&&(a={data:[],index:0}),f===null&&(f=k0(),pt.updateQueue=f),f.memoCache=a,f=a.data[a.index],f===void 0)for(f=a.data[a.index]=Array(i),m=0;m<i;m++)f[m]=pe;return a.index++,f}function Ir(i,a){return typeof a=="function"?a(i):a}function ad(i){var a=Un();return B0(a,Kt,i)}function B0(i,a,f){var m=i.queue;if(m===null)throw Error(r(311));m.lastRenderedReducer=f;var v=i.baseQueue,A=m.pending;if(A!==null){if(v!==null){var D=v.next;v.next=A.next,A.next=D}a.baseQueue=v=A,m.pending=null}if(A=i.baseState,v===null)i.memoizedState=A;else{a=v.next;var F=D=null,Y=null,fe=a,Se=!1;do{var Te=fe.lane&-536870913;if(Te!==fe.lane?(Ot&Te)===Te:(xa&Te)===Te){var de=fe.revertLane;if(de===0)Y!==null&&(Y=Y.next={lane:0,revertLane:0,action:fe.action,hasEagerState:fe.hasEagerState,eagerState:fe.eagerState,next:null}),Te===Nl&&(Se=!0);else if((xa&de)===de){fe=fe.next,de===Nl&&(Se=!0);continue}else Te={lane:0,revertLane:fe.revertLane,action:fe.action,hasEagerState:fe.hasEagerState,eagerState:fe.eagerState,next:null},Y===null?(F=Y=Te,D=A):Y=Y.next=Te,pt.lanes|=de,Ca|=de;Te=fe.action,No&&f(A,Te),A=fe.hasEagerState?fe.eagerState:f(A,Te)}else de={lane:Te,revertLane:fe.revertLane,action:fe.action,hasEagerState:fe.hasEagerState,eagerState:fe.eagerState,next:null},Y===null?(F=Y=de,D=A):Y=Y.next=de,pt.lanes|=Te,Ca|=Te;fe=fe.next}while(fe!==null&&fe!==a);if(Y===null?D=A:Y.next=F,!d(A,i.memoizedState)&&(ni=!0,Se&&(f=Rl,f!==null)))throw f;i.memoizedState=A,i.baseState=D,i.baseQueue=Y,m.lastRenderedState=A}return v===null&&(m.lanes=0),[i.memoizedState,m.dispatch]}function P0(i){var a=Un(),f=a.queue;if(f===null)throw Error(r(311));f.lastRenderedReducer=i;var m=f.dispatch,v=f.pending,A=a.memoizedState;if(v!==null){f.pending=null;var D=v=v.next;do A=i(A,D.action),D=D.next;while(D!==v);d(A,a.memoizedState)||(ni=!0),a.memoizedState=A,a.baseQueue===null&&(a.baseState=A),f.lastRenderedState=A}return[A,m]}function sx(i,a,f){var m=pt,v=Un(),A=Bt;if(A){if(f===void 0)throw Error(r(407));f=f()}else f=a();var D=!d((Kt||v).memoizedState,f);D&&(v.memoizedState=f,ni=!0),v=v.queue;var F=ox.bind(null,m,v,i);if(lu(2048,8,F,[i]),v.getSnapshot!==a||D||Pn!==null&&Pn.memoizedState.tag&1){if(m.flags|=2048,Dl(9,od(),ax.bind(null,m,v,f,a),null),an===null)throw Error(r(349));A||(xa&124)!==0||rx(m,a,f)}return f}function rx(i,a,f){i.flags|=16384,i={getSnapshot:a,value:f},a=pt.updateQueue,a===null?(a=k0(),pt.updateQueue=a,a.stores=[i]):(f=a.stores,f===null?a.stores=[i]:f.push(i))}function ax(i,a,f,m){a.value=f,a.getSnapshot=m,lx(a)&&cx(i)}function ox(i,a,f){return f(function(){lx(a)&&cx(i)})}function lx(i){var a=i.getSnapshot;i=i.value;try{var f=a();return!d(i,f)}catch{return!0}}function cx(i){var a=Cl(i,2);a!==null&&is(a,i,2)}function U0(i){var a=Pi();if(typeof i=="function"){var f=i;if(i=f(),No){bn(!0);try{f()}finally{bn(!1)}}}return a.memoizedState=a.baseState=i,a.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ir,lastRenderedState:i},a}function ux(i,a,f,m){return i.baseState=f,B0(i,Kt,typeof m=="function"?m:Ir)}function jC(i,a,f,m,v){if(cd(i))throw Error(r(485));if(i=a.action,i!==null){var A={payload:v,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(D){A.listeners.push(D)}};se.T!==null?f(!0):A.isTransition=!1,m(A),f=a.pending,f===null?(A.next=a.pending=A,fx(a,A)):(A.next=f.next,a.pending=f.next=A)}}function fx(i,a){var f=a.action,m=a.payload,v=i.state;if(a.isTransition){var A=se.T,D={};se.T=D;try{var F=f(v,m),Y=se.S;Y!==null&&Y(D,F),dx(i,a,F)}catch(fe){F0(i,a,fe)}finally{se.T=A}}else try{A=f(v,m),dx(i,a,A)}catch(fe){F0(i,a,fe)}}function dx(i,a,f){f!==null&&typeof f=="object"&&typeof f.then=="function"?f.then(function(m){hx(i,a,m)},function(m){return F0(i,a,m)}):hx(i,a,f)}function hx(i,a,f){a.status="fulfilled",a.value=f,gx(a),i.state=f,a=i.pending,a!==null&&(f=a.next,f===a?i.pending=null:(f=f.next,a.next=f,fx(i,f)))}function F0(i,a,f){var m=i.pending;if(i.pending=null,m!==null){m=m.next;do a.status="rejected",a.reason=f,gx(a),a=a.next;while(a!==m)}i.action=null}function gx(i){i=i.listeners;for(var a=0;a<i.length;a++)(0,i[a])()}function mx(i,a){return a}function px(i,a){if(Bt){var f=an.formState;if(f!==null){e:{var m=pt;if(Bt){if(Sn){t:{for(var v=Sn,A=sr;v.nodeType!==8;){if(!A){v=null;break t}if(v=Ms(v.nextSibling),v===null){v=null;break t}}A=v.data,v=A==="F!"||A==="F"?v:null}if(v){Sn=Ms(v.nextSibling),m=v.data==="F!";break e}}Co(m)}m=!1}m&&(a=f[0])}}return f=Pi(),f.memoizedState=f.baseState=a,m={pending:null,lanes:0,dispatch:null,lastRenderedReducer:mx,lastRenderedState:a},f.queue=m,f=kx.bind(null,pt,m),m.dispatch=f,m=U0(!1),A=G0.bind(null,pt,!1,m.queue),m=Pi(),v={state:a,dispatch:null,action:i,pending:null},m.queue=v,f=jC.bind(null,pt,v,A,f),v.dispatch=f,m.memoizedState=i,[a,f,!1]}function xx(i){var a=Un();return yx(a,Kt,i)}function yx(i,a,f){if(a=B0(i,a,mx)[0],i=ad(Ir)[0],typeof a=="object"&&a!==null&&typeof a.then=="function")try{var m=ou(a)}catch(D){throw D===tu?ed:D}else m=a;a=Un();var v=a.queue,A=v.dispatch;return f!==a.memoizedState&&(pt.flags|=2048,Dl(9,od(),BC.bind(null,v,f),null)),[m,A,i]}function BC(i,a){i.action=a}function bx(i){var a=Un(),f=Kt;if(f!==null)return yx(a,f,i);Un(),a=a.memoizedState,f=Un();var m=f.queue.dispatch;return f.memoizedState=i,[a,m,!1]}function Dl(i,a,f,m){return i={tag:i,create:f,deps:m,inst:a,next:null},a=pt.updateQueue,a===null&&(a=k0(),pt.updateQueue=a),f=a.lastEffect,f===null?a.lastEffect=i.next=i:(m=f.next,f.next=i,i.next=m,a.lastEffect=i),i}function od(){return{destroy:void 0,resource:void 0}}function wx(){return Un().memoizedState}function ld(i,a,f,m){var v=Pi();m=m===void 0?null:m,pt.flags|=i,v.memoizedState=Dl(1|a,od(),f,m)}function lu(i,a,f,m){var v=Un();m=m===void 0?null:m;var A=v.memoizedState.inst;Kt!==null&&m!==null&&O0(m,Kt.memoizedState.deps)?v.memoizedState=Dl(a,A,f,m):(pt.flags|=i,v.memoizedState=Dl(1|a,A,f,m))}function vx(i,a){ld(8390656,8,i,a)}function Ex(i,a){lu(2048,8,i,a)}function Sx(i,a){return lu(4,2,i,a)}function Cx(i,a){return lu(4,4,i,a)}function Ax(i,a){if(typeof a=="function"){i=i();var f=a(i);return function(){typeof f=="function"?f():a(null)}}if(a!=null)return i=i(),a.current=i,function(){a.current=null}}function Tx(i,a,f){f=f!=null?f.concat([i]):null,lu(4,4,Ax.bind(null,a,i),f)}function V0(){}function _x(i,a){var f=Un();a=a===void 0?null:a;var m=f.memoizedState;return a!==null&&O0(a,m[1])?m[0]:(f.memoizedState=[i,a],i)}function Nx(i,a){var f=Un();a=a===void 0?null:a;var m=f.memoizedState;if(a!==null&&O0(a,m[1]))return m[0];if(m=i(),No){bn(!0);try{i()}finally{bn(!1)}}return f.memoizedState=[m,a],m}function z0(i,a,f){return f===void 0||(xa&1073741824)!==0?i.memoizedState=a:(i.memoizedState=f,i=Iy(),pt.lanes|=i,Ca|=i,f)}function Rx(i,a,f,m){return d(f,a)?f:Ol.current!==null?(i=z0(i,f,m),d(i,a)||(ni=!0),i):(xa&42)===0?(ni=!0,i.memoizedState=f):(i=Iy(),pt.lanes|=i,Ca|=i,a)}function Ox(i,a,f,m,v){var A=le.p;le.p=A!==0&&8>A?A:8;var D=se.T,F={};se.T=F,G0(i,!1,a,f);try{var Y=v(),fe=se.S;if(fe!==null&&fe(F,Y),Y!==null&&typeof Y=="object"&&typeof Y.then=="function"){var Se=DC(Y,m);cu(i,a,Se,ns(i))}else cu(i,a,m,ns(i))}catch(Te){cu(i,a,{then:function(){},status:"rejected",reason:Te},ns())}finally{le.p=A,se.T=D}}function PC(){}function H0(i,a,f,m){if(i.tag!==5)throw Error(r(476));var v=Ix(i).queue;Ox(i,v,a,Le,f===null?PC:function(){return Mx(i),f(m)})}function Ix(i){var a=i.memoizedState;if(a!==null)return a;a={memoizedState:Le,baseState:Le,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ir,lastRenderedState:Le},next:null};var f={};return a.next={memoizedState:f,baseState:f,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ir,lastRenderedState:f},next:null},i.memoizedState=a,i=i.alternate,i!==null&&(i.memoizedState=a),a}function Mx(i){var a=Ix(i).next.queue;cu(i,a,{},ns())}function $0(){return bi(_u)}function Dx(){return Un().memoizedState}function Lx(){return Un().memoizedState}function UC(i){for(var a=i.return;a!==null;){switch(a.tag){case 24:case 3:var f=ns();i=ma(f);var m=pa(a,i,f);m!==null&&(is(m,a,f),iu(m,a,f)),a={cache:w0()},i.payload=a;return}a=a.return}}function FC(i,a,f){var m=ns();f={lane:m,revertLane:0,action:f,hasEagerState:!1,eagerState:null,next:null},cd(i)?jx(a,f):(f=u0(i,a,f,m),f!==null&&(is(f,i,m),Bx(f,a,m)))}function kx(i,a,f){var m=ns();cu(i,a,f,m)}function cu(i,a,f,m){var v={lane:m,revertLane:0,action:f,hasEagerState:!1,eagerState:null,next:null};if(cd(i))jx(a,v);else{var A=i.alternate;if(i.lanes===0&&(A===null||A.lanes===0)&&(A=a.lastRenderedReducer,A!==null))try{var D=a.lastRenderedState,F=A(D,f);if(v.hasEagerState=!0,v.eagerState=F,d(F,D))return qf(i,a,v,0),an===null&&Gf(),!1}catch{}finally{}if(f=u0(i,a,v,m),f!==null)return is(f,i,m),Bx(f,a,m),!0}return!1}function G0(i,a,f,m){if(m={lane:2,revertLane:S1(),action:m,hasEagerState:!1,eagerState:null,next:null},cd(i)){if(a)throw Error(r(479))}else a=u0(i,f,m,2),a!==null&&is(a,i,2)}function cd(i){var a=i.alternate;return i===pt||a!==null&&a===pt}function jx(i,a){Il=id=!0;var f=i.pending;f===null?a.next=a:(a.next=f.next,f.next=a),i.pending=a}function Bx(i,a,f){if((f&4194048)!==0){var m=a.lanes;m&=i.pendingLanes,f|=m,a.lanes=f,Li(i,f)}}var ud={readContext:bi,use:rd,useCallback:Mn,useContext:Mn,useEffect:Mn,useImperativeHandle:Mn,useLayoutEffect:Mn,useInsertionEffect:Mn,useMemo:Mn,useReducer:Mn,useRef:Mn,useState:Mn,useDebugValue:Mn,useDeferredValue:Mn,useTransition:Mn,useSyncExternalStore:Mn,useId:Mn,useHostTransitionStatus:Mn,useFormState:Mn,useActionState:Mn,useOptimistic:Mn,useMemoCache:Mn,useCacheRefresh:Mn},Px={readContext:bi,use:rd,useCallback:function(i,a){return Pi().memoizedState=[i,a===void 0?null:a],i},useContext:bi,useEffect:vx,useImperativeHandle:function(i,a,f){f=f!=null?f.concat([i]):null,ld(4194308,4,Ax.bind(null,a,i),f)},useLayoutEffect:function(i,a){return ld(4194308,4,i,a)},useInsertionEffect:function(i,a){ld(4,2,i,a)},useMemo:function(i,a){var f=Pi();a=a===void 0?null:a;var m=i();if(No){bn(!0);try{i()}finally{bn(!1)}}return f.memoizedState=[m,a],m},useReducer:function(i,a,f){var m=Pi();if(f!==void 0){var v=f(a);if(No){bn(!0);try{f(a)}finally{bn(!1)}}}else v=a;return m.memoizedState=m.baseState=v,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:v},m.queue=i,i=i.dispatch=FC.bind(null,pt,i),[m.memoizedState,i]},useRef:function(i){var a=Pi();return i={current:i},a.memoizedState=i},useState:function(i){i=U0(i);var a=i.queue,f=kx.bind(null,pt,a);return a.dispatch=f,[i.memoizedState,f]},useDebugValue:V0,useDeferredValue:function(i,a){var f=Pi();return z0(f,i,a)},useTransition:function(){var i=U0(!1);return i=Ox.bind(null,pt,i.queue,!0,!1),Pi().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,a,f){var m=pt,v=Pi();if(Bt){if(f===void 0)throw Error(r(407));f=f()}else{if(f=a(),an===null)throw Error(r(349));(Ot&124)!==0||rx(m,a,f)}v.memoizedState=f;var A={value:f,getSnapshot:a};return v.queue=A,vx(ox.bind(null,m,A,i),[i]),m.flags|=2048,Dl(9,od(),ax.bind(null,m,A,f,a),null),f},useId:function(){var i=Pi(),a=an.identifierPrefix;if(Bt){var f=Nr,m=_r;f=(m&~(1<<32-Tt(m)-1)).toString(32)+f,a="«"+a+"R"+f,f=sd++,0<f&&(a+="H"+f.toString(32)),a+="»"}else f=LC++,a="«"+a+"r"+f.toString(32)+"»";return i.memoizedState=a},useHostTransitionStatus:$0,useFormState:px,useActionState:px,useOptimistic:function(i){var a=Pi();a.memoizedState=a.baseState=i;var f={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return a.queue=f,a=G0.bind(null,pt,!0,f),f.dispatch=a,[i,a]},useMemoCache:j0,useCacheRefresh:function(){return Pi().memoizedState=UC.bind(null,pt)}},Ux={readContext:bi,use:rd,useCallback:_x,useContext:bi,useEffect:Ex,useImperativeHandle:Tx,useInsertionEffect:Sx,useLayoutEffect:Cx,useMemo:Nx,useReducer:ad,useRef:wx,useState:function(){return ad(Ir)},useDebugValue:V0,useDeferredValue:function(i,a){var f=Un();return Rx(f,Kt.memoizedState,i,a)},useTransition:function(){var i=ad(Ir)[0],a=Un().memoizedState;return[typeof i=="boolean"?i:ou(i),a]},useSyncExternalStore:sx,useId:Dx,useHostTransitionStatus:$0,useFormState:xx,useActionState:xx,useOptimistic:function(i,a){var f=Un();return ux(f,Kt,i,a)},useMemoCache:j0,useCacheRefresh:Lx},VC={readContext:bi,use:rd,useCallback:_x,useContext:bi,useEffect:Ex,useImperativeHandle:Tx,useInsertionEffect:Sx,useLayoutEffect:Cx,useMemo:Nx,useReducer:P0,useRef:wx,useState:function(){return P0(Ir)},useDebugValue:V0,useDeferredValue:function(i,a){var f=Un();return Kt===null?z0(f,i,a):Rx(f,Kt.memoizedState,i,a)},useTransition:function(){var i=P0(Ir)[0],a=Un().memoizedState;return[typeof i=="boolean"?i:ou(i),a]},useSyncExternalStore:sx,useId:Dx,useHostTransitionStatus:$0,useFormState:bx,useActionState:bx,useOptimistic:function(i,a){var f=Un();return Kt!==null?ux(f,Kt,i,a):(f.baseState=i,[i,f.queue.dispatch])},useMemoCache:j0,useCacheRefresh:Lx},Ll=null,uu=0;function fd(i){var a=uu;return uu+=1,Ll===null&&(Ll=[]),Kp(Ll,i,a)}function fu(i,a){a=a.props.ref,i.ref=a!==void 0?a:null}function dd(i,a){throw a.$$typeof===C?Error(r(525)):(i=Object.prototype.toString.call(a),Error(r(31,i==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":i)))}function Fx(i){var a=i._init;return a(i._payload)}function Vx(i){function a(ie,J){if(i){var ue=ie.deletions;ue===null?(ie.deletions=[J],ie.flags|=16):ue.push(J)}}function f(ie,J){if(!i)return null;for(;J!==null;)a(ie,J),J=J.sibling;return null}function m(ie){for(var J=new Map;ie!==null;)ie.key!==null?J.set(ie.key,ie):J.set(ie.index,ie),ie=ie.sibling;return J}function v(ie,J){return ie=Tr(ie,J),ie.index=0,ie.sibling=null,ie}function A(ie,J,ue){return ie.index=ue,i?(ue=ie.alternate,ue!==null?(ue=ue.index,ue<J?(ie.flags|=67108866,J):ue):(ie.flags|=67108866,J)):(ie.flags|=1048576,J)}function D(ie){return i&&ie.alternate===null&&(ie.flags|=67108866),ie}function F(ie,J,ue,Ae){return J===null||J.tag!==6?(J=d0(ue,ie.mode,Ae),J.return=ie,J):(J=v(J,ue),J.return=ie,J)}function Y(ie,J,ue,Ae){var $e=ue.type;return $e===M?Se(ie,J,ue.props.children,Ae,ue.key):J!==null&&(J.elementType===$e||typeof $e=="object"&&$e!==null&&$e.$$typeof===oe&&Fx($e)===J.type)?(J=v(J,ue.props),fu(J,ue),J.return=ie,J):(J=Xf(ue.type,ue.key,ue.props,null,ie.mode,Ae),fu(J,ue),J.return=ie,J)}function fe(ie,J,ue,Ae){return J===null||J.tag!==4||J.stateNode.containerInfo!==ue.containerInfo||J.stateNode.implementation!==ue.implementation?(J=h0(ue,ie.mode,Ae),J.return=ie,J):(J=v(J,ue.children||[]),J.return=ie,J)}function Se(ie,J,ue,Ae,$e){return J===null||J.tag!==7?(J=wo(ue,ie.mode,Ae,$e),J.return=ie,J):(J=v(J,ue),J.return=ie,J)}function Te(ie,J,ue){if(typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint")return J=d0(""+J,ie.mode,ue),J.return=ie,J;if(typeof J=="object"&&J!==null){switch(J.$$typeof){case N:return ue=Xf(J.type,J.key,J.props,null,ie.mode,ue),fu(ue,J),ue.return=ie,ue;case O:return J=h0(J,ie.mode,ue),J.return=ie,J;case oe:var Ae=J._init;return J=Ae(J._payload),Te(ie,J,ue)}if(re(J)||be(J))return J=wo(J,ie.mode,ue,null),J.return=ie,J;if(typeof J.then=="function")return Te(ie,fd(J),ue);if(J.$$typeof===U)return Te(ie,Qf(ie,J),ue);dd(ie,J)}return null}function de(ie,J,ue,Ae){var $e=J!==null?J.key:null;if(typeof ue=="string"&&ue!==""||typeof ue=="number"||typeof ue=="bigint")return $e!==null?null:F(ie,J,""+ue,Ae);if(typeof ue=="object"&&ue!==null){switch(ue.$$typeof){case N:return ue.key===$e?Y(ie,J,ue,Ae):null;case O:return ue.key===$e?fe(ie,J,ue,Ae):null;case oe:return $e=ue._init,ue=$e(ue._payload),de(ie,J,ue,Ae)}if(re(ue)||be(ue))return $e!==null?null:Se(ie,J,ue,Ae,null);if(typeof ue.then=="function")return de(ie,J,fd(ue),Ae);if(ue.$$typeof===U)return de(ie,J,Qf(ie,ue),Ae);dd(ie,ue)}return null}function ge(ie,J,ue,Ae,$e){if(typeof Ae=="string"&&Ae!==""||typeof Ae=="number"||typeof Ae=="bigint")return ie=ie.get(ue)||null,F(J,ie,""+Ae,$e);if(typeof Ae=="object"&&Ae!==null){switch(Ae.$$typeof){case N:return ie=ie.get(Ae.key===null?ue:Ae.key)||null,Y(J,ie,Ae,$e);case O:return ie=ie.get(Ae.key===null?ue:Ae.key)||null,fe(J,ie,Ae,$e);case oe:var bt=Ae._init;return Ae=bt(Ae._payload),ge(ie,J,ue,Ae,$e)}if(re(Ae)||be(Ae))return ie=ie.get(ue)||null,Se(J,ie,Ae,$e,null);if(typeof Ae.then=="function")return ge(ie,J,ue,fd(Ae),$e);if(Ae.$$typeof===U)return ge(ie,J,ue,Qf(J,Ae),$e);dd(J,Ae)}return null}function et(ie,J,ue,Ae){for(var $e=null,bt=null,Ye=J,Qe=J=0,si=null;Ye!==null&&Qe<ue.length;Qe++){Ye.index>Qe?(si=Ye,Ye=null):si=Ye.sibling;var Lt=de(ie,Ye,ue[Qe],Ae);if(Lt===null){Ye===null&&(Ye=si);break}i&&Ye&&Lt.alternate===null&&a(ie,Ye),J=A(Lt,J,Qe),bt===null?$e=Lt:bt.sibling=Lt,bt=Lt,Ye=si}if(Qe===ue.length)return f(ie,Ye),Bt&&Eo(ie,Qe),$e;if(Ye===null){for(;Qe<ue.length;Qe++)Ye=Te(ie,ue[Qe],Ae),Ye!==null&&(J=A(Ye,J,Qe),bt===null?$e=Ye:bt.sibling=Ye,bt=Ye);return Bt&&Eo(ie,Qe),$e}for(Ye=m(Ye);Qe<ue.length;Qe++)si=ge(Ye,ie,Qe,ue[Qe],Ae),si!==null&&(i&&si.alternate!==null&&Ye.delete(si.key===null?Qe:si.key),J=A(si,J,Qe),bt===null?$e=si:bt.sibling=si,bt=si);return i&&Ye.forEach(function(Da){return a(ie,Da)}),Bt&&Eo(ie,Qe),$e}function Ze(ie,J,ue,Ae){if(ue==null)throw Error(r(151));for(var $e=null,bt=null,Ye=J,Qe=J=0,si=null,Lt=ue.next();Ye!==null&&!Lt.done;Qe++,Lt=ue.next()){Ye.index>Qe?(si=Ye,Ye=null):si=Ye.sibling;var Da=de(ie,Ye,Lt.value,Ae);if(Da===null){Ye===null&&(Ye=si);break}i&&Ye&&Da.alternate===null&&a(ie,Ye),J=A(Da,J,Qe),bt===null?$e=Da:bt.sibling=Da,bt=Da,Ye=si}if(Lt.done)return f(ie,Ye),Bt&&Eo(ie,Qe),$e;if(Ye===null){for(;!Lt.done;Qe++,Lt=ue.next())Lt=Te(ie,Lt.value,Ae),Lt!==null&&(J=A(Lt,J,Qe),bt===null?$e=Lt:bt.sibling=Lt,bt=Lt);return Bt&&Eo(ie,Qe),$e}for(Ye=m(Ye);!Lt.done;Qe++,Lt=ue.next())Lt=ge(Ye,ie,Qe,Lt.value,Ae),Lt!==null&&(i&&Lt.alternate!==null&&Ye.delete(Lt.key===null?Qe:Lt.key),J=A(Lt,J,Qe),bt===null?$e=Lt:bt.sibling=Lt,bt=Lt);return i&&Ye.forEach(function(zA){return a(ie,zA)}),Bt&&Eo(ie,Qe),$e}function Qt(ie,J,ue,Ae){if(typeof ue=="object"&&ue!==null&&ue.type===M&&ue.key===null&&(ue=ue.props.children),typeof ue=="object"&&ue!==null){switch(ue.$$typeof){case N:e:{for(var $e=ue.key;J!==null;){if(J.key===$e){if($e=ue.type,$e===M){if(J.tag===7){f(ie,J.sibling),Ae=v(J,ue.props.children),Ae.return=ie,ie=Ae;break e}}else if(J.elementType===$e||typeof $e=="object"&&$e!==null&&$e.$$typeof===oe&&Fx($e)===J.type){f(ie,J.sibling),Ae=v(J,ue.props),fu(Ae,ue),Ae.return=ie,ie=Ae;break e}f(ie,J);break}else a(ie,J);J=J.sibling}ue.type===M?(Ae=wo(ue.props.children,ie.mode,Ae,ue.key),Ae.return=ie,ie=Ae):(Ae=Xf(ue.type,ue.key,ue.props,null,ie.mode,Ae),fu(Ae,ue),Ae.return=ie,ie=Ae)}return D(ie);case O:e:{for($e=ue.key;J!==null;){if(J.key===$e)if(J.tag===4&&J.stateNode.containerInfo===ue.containerInfo&&J.stateNode.implementation===ue.implementation){f(ie,J.sibling),Ae=v(J,ue.children||[]),Ae.return=ie,ie=Ae;break e}else{f(ie,J);break}else a(ie,J);J=J.sibling}Ae=h0(ue,ie.mode,Ae),Ae.return=ie,ie=Ae}return D(ie);case oe:return $e=ue._init,ue=$e(ue._payload),Qt(ie,J,ue,Ae)}if(re(ue))return et(ie,J,ue,Ae);if(be(ue)){if($e=be(ue),typeof $e!="function")throw Error(r(150));return ue=$e.call(ue),Ze(ie,J,ue,Ae)}if(typeof ue.then=="function")return Qt(ie,J,fd(ue),Ae);if(ue.$$typeof===U)return Qt(ie,J,Qf(ie,ue),Ae);dd(ie,ue)}return typeof ue=="string"&&ue!==""||typeof ue=="number"||typeof ue=="bigint"?(ue=""+ue,J!==null&&J.tag===6?(f(ie,J.sibling),Ae=v(J,ue),Ae.return=ie,ie=Ae):(f(ie,J),Ae=d0(ue,ie.mode,Ae),Ae.return=ie,ie=Ae),D(ie)):f(ie,J)}return function(ie,J,ue,Ae){try{uu=0;var $e=Qt(ie,J,ue,Ae);return Ll=null,$e}catch(Ye){if(Ye===tu||Ye===ed)throw Ye;var bt=Qi(29,Ye,null,ie.mode);return bt.lanes=Ae,bt.return=ie,bt}finally{}}}var kl=Vx(!0),zx=Vx(!1),gs=te(null),rr=null;function ya(i){var a=i.alternate;ye(Wn,Wn.current&1),ye(gs,i),rr===null&&(a===null||Ol.current!==null||a.memoizedState!==null)&&(rr=i)}function Hx(i){if(i.tag===22){if(ye(Wn,Wn.current),ye(gs,i),rr===null){var a=i.alternate;a!==null&&a.memoizedState!==null&&(rr=i)}}else ba()}function ba(){ye(Wn,Wn.current),ye(gs,gs.current)}function Mr(i){xe(gs),rr===i&&(rr=null),xe(Wn)}var Wn=te(0);function hd(i){for(var a=i;a!==null;){if(a.tag===13){var f=a.memoizedState;if(f!==null&&(f=f.dehydrated,f===null||f.data==="$?"||k1(f)))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===i)break;for(;a.sibling===null;){if(a.return===null||a.return===i)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}function q0(i,a,f,m){a=i.memoizedState,f=f(m,a),f=f==null?a:E({},a,f),i.memoizedState=f,i.lanes===0&&(i.updateQueue.baseState=f)}var Y0={enqueueSetState:function(i,a,f){i=i._reactInternals;var m=ns(),v=ma(m);v.payload=a,f!=null&&(v.callback=f),a=pa(i,v,m),a!==null&&(is(a,i,m),iu(a,i,m))},enqueueReplaceState:function(i,a,f){i=i._reactInternals;var m=ns(),v=ma(m);v.tag=1,v.payload=a,f!=null&&(v.callback=f),a=pa(i,v,m),a!==null&&(is(a,i,m),iu(a,i,m))},enqueueForceUpdate:function(i,a){i=i._reactInternals;var f=ns(),m=ma(f);m.tag=2,a!=null&&(m.callback=a),a=pa(i,m,f),a!==null&&(is(a,i,f),iu(a,i,f))}};function $x(i,a,f,m,v,A,D){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(m,A,D):a.prototype&&a.prototype.isPureReactComponent?!h(f,m)||!h(v,A):!0}function Gx(i,a,f,m){i=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(f,m),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(f,m),a.state!==i&&Y0.enqueueReplaceState(a,a.state,null)}function Ro(i,a){var f=a;if("ref"in a){f={};for(var m in a)m!=="ref"&&(f[m]=a[m])}if(i=i.defaultProps){f===a&&(f=E({},f));for(var v in i)f[v]===void 0&&(f[v]=i[v])}return f}var gd=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var a=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(a))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)};function qx(i){gd(i)}function Yx(i){console.error(i)}function Xx(i){gd(i)}function md(i,a){try{var f=i.onUncaughtError;f(a.value,{componentStack:a.stack})}catch(m){setTimeout(function(){throw m})}}function Wx(i,a,f){try{var m=i.onCaughtError;m(f.value,{componentStack:f.stack,errorBoundary:a.tag===1?a.stateNode:null})}catch(v){setTimeout(function(){throw v})}}function X0(i,a,f){return f=ma(f),f.tag=3,f.payload={element:null},f.callback=function(){md(i,a)},f}function Kx(i){return i=ma(i),i.tag=3,i}function Zx(i,a,f,m){var v=f.type.getDerivedStateFromError;if(typeof v=="function"){var A=m.value;i.payload=function(){return v(A)},i.callback=function(){Wx(a,f,m)}}var D=f.stateNode;D!==null&&typeof D.componentDidCatch=="function"&&(i.callback=function(){Wx(a,f,m),typeof v!="function"&&(Aa===null?Aa=new Set([this]):Aa.add(this));var F=m.stack;this.componentDidCatch(m.value,{componentStack:F!==null?F:""})})}function zC(i,a,f,m,v){if(f.flags|=32768,m!==null&&typeof m=="object"&&typeof m.then=="function"){if(a=f.alternate,a!==null&&Qc(a,f,v,!0),f=gs.current,f!==null){switch(f.tag){case 13:return rr===null?y1():f.alternate===null&&Cn===0&&(Cn=3),f.flags&=-257,f.flags|=65536,f.lanes=v,m===S0?f.flags|=16384:(a=f.updateQueue,a===null?f.updateQueue=new Set([m]):a.add(m),w1(i,m,v)),!1;case 22:return f.flags|=65536,m===S0?f.flags|=16384:(a=f.updateQueue,a===null?(a={transitions:null,markerInstances:null,retryQueue:new Set([m])},f.updateQueue=a):(f=a.retryQueue,f===null?a.retryQueue=new Set([m]):f.add(m)),w1(i,m,v)),!1}throw Error(r(435,f.tag))}return w1(i,m,v),y1(),!1}if(Bt)return a=gs.current,a!==null?((a.flags&65536)===0&&(a.flags|=256),a.flags|=65536,a.lanes=v,m!==p0&&(i=Error(r(422),{cause:m}),Zc(us(i,f)))):(m!==p0&&(a=Error(r(423),{cause:m}),Zc(us(a,f))),i=i.current.alternate,i.flags|=65536,v&=-v,i.lanes|=v,m=us(m,f),v=X0(i.stateNode,m,v),T0(i,v),Cn!==4&&(Cn=2)),!1;var A=Error(r(520),{cause:m});if(A=us(A,f),yu===null?yu=[A]:yu.push(A),Cn!==4&&(Cn=2),a===null)return!0;m=us(m,f),f=a;do{switch(f.tag){case 3:return f.flags|=65536,i=v&-v,f.lanes|=i,i=X0(f.stateNode,m,i),T0(f,i),!1;case 1:if(a=f.type,A=f.stateNode,(f.flags&128)===0&&(typeof a.getDerivedStateFromError=="function"||A!==null&&typeof A.componentDidCatch=="function"&&(Aa===null||!Aa.has(A))))return f.flags|=65536,v&=-v,f.lanes|=v,v=Kx(v),Zx(v,i,f,m),T0(f,v),!1}f=f.return}while(f!==null);return!1}var Qx=Error(r(461)),ni=!1;function ci(i,a,f,m){a.child=i===null?zx(a,null,f,m):kl(a,i.child,f,m)}function Jx(i,a,f,m,v){f=f.render;var A=a.ref;if("ref"in m){var D={};for(var F in m)F!=="ref"&&(D[F]=m[F])}else D=m;return To(a),m=I0(i,a,f,D,A,v),F=M0(),i!==null&&!ni?(D0(i,a,v),Dr(i,a,v)):(Bt&&F&&g0(a),a.flags|=1,ci(i,a,m,v),a.child)}function ey(i,a,f,m,v){if(i===null){var A=f.type;return typeof A=="function"&&!f0(A)&&A.defaultProps===void 0&&f.compare===null?(a.tag=15,a.type=A,ty(i,a,A,m,v)):(i=Xf(f.type,null,m,a,a.mode,v),i.ref=a.ref,i.return=a,a.child=i)}if(A=i.child,!n1(i,v)){var D=A.memoizedProps;if(f=f.compare,f=f!==null?f:h,f(D,m)&&i.ref===a.ref)return Dr(i,a,v)}return a.flags|=1,i=Tr(A,m),i.ref=a.ref,i.return=a,a.child=i}function ty(i,a,f,m,v){if(i!==null){var A=i.memoizedProps;if(h(A,m)&&i.ref===a.ref)if(ni=!1,a.pendingProps=m=A,n1(i,v))(i.flags&131072)!==0&&(ni=!0);else return a.lanes=i.lanes,Dr(i,a,v)}return W0(i,a,f,m,v)}function ny(i,a,f){var m=a.pendingProps,v=m.children,A=i!==null?i.memoizedState:null;if(m.mode==="hidden"){if((a.flags&128)!==0){if(m=A!==null?A.baseLanes|f:f,i!==null){for(v=a.child=i.child,A=0;v!==null;)A=A|v.lanes|v.childLanes,v=v.sibling;a.childLanes=A&~m}else a.childLanes=0,a.child=null;return iy(i,a,m,f)}if((f&536870912)!==0)a.memoizedState={baseLanes:0,cachePool:null},i!==null&&Jf(a,A!==null?A.cachePool:null),A!==null?tx(a,A):N0(),Hx(a);else return a.lanes=a.childLanes=536870912,iy(i,a,A!==null?A.baseLanes|f:f,f)}else A!==null?(Jf(a,A.cachePool),tx(a,A),ba(),a.memoizedState=null):(i!==null&&Jf(a,null),N0(),ba());return ci(i,a,v,f),a.child}function iy(i,a,f,m){var v=E0();return v=v===null?null:{parent:Xn._currentValue,pool:v},a.memoizedState={baseLanes:f,cachePool:v},i!==null&&Jf(a,null),N0(),Hx(a),i!==null&&Qc(i,a,m,!0),null}function pd(i,a){var f=a.ref;if(f===null)i!==null&&i.ref!==null&&(a.flags|=4194816);else{if(typeof f!="function"&&typeof f!="object")throw Error(r(284));(i===null||i.ref!==f)&&(a.flags|=4194816)}}function W0(i,a,f,m,v){return To(a),f=I0(i,a,f,m,void 0,v),m=M0(),i!==null&&!ni?(D0(i,a,v),Dr(i,a,v)):(Bt&&m&&g0(a),a.flags|=1,ci(i,a,f,v),a.child)}function sy(i,a,f,m,v,A){return To(a),a.updateQueue=null,f=ix(a,m,f,v),nx(i),m=M0(),i!==null&&!ni?(D0(i,a,A),Dr(i,a,A)):(Bt&&m&&g0(a),a.flags|=1,ci(i,a,f,A),a.child)}function ry(i,a,f,m,v){if(To(a),a.stateNode===null){var A=Al,D=f.contextType;typeof D=="object"&&D!==null&&(A=bi(D)),A=new f(m,A),a.memoizedState=A.state!==null&&A.state!==void 0?A.state:null,A.updater=Y0,a.stateNode=A,A._reactInternals=a,A=a.stateNode,A.props=m,A.state=a.memoizedState,A.refs={},C0(a),D=f.contextType,A.context=typeof D=="object"&&D!==null?bi(D):Al,A.state=a.memoizedState,D=f.getDerivedStateFromProps,typeof D=="function"&&(q0(a,f,D,m),A.state=a.memoizedState),typeof f.getDerivedStateFromProps=="function"||typeof A.getSnapshotBeforeUpdate=="function"||typeof A.UNSAFE_componentWillMount!="function"&&typeof A.componentWillMount!="function"||(D=A.state,typeof A.componentWillMount=="function"&&A.componentWillMount(),typeof A.UNSAFE_componentWillMount=="function"&&A.UNSAFE_componentWillMount(),D!==A.state&&Y0.enqueueReplaceState(A,A.state,null),ru(a,m,A,v),su(),A.state=a.memoizedState),typeof A.componentDidMount=="function"&&(a.flags|=4194308),m=!0}else if(i===null){A=a.stateNode;var F=a.memoizedProps,Y=Ro(f,F);A.props=Y;var fe=A.context,Se=f.contextType;D=Al,typeof Se=="object"&&Se!==null&&(D=bi(Se));var Te=f.getDerivedStateFromProps;Se=typeof Te=="function"||typeof A.getSnapshotBeforeUpdate=="function",F=a.pendingProps!==F,Se||typeof A.UNSAFE_componentWillReceiveProps!="function"&&typeof A.componentWillReceiveProps!="function"||(F||fe!==D)&&Gx(a,A,m,D),ga=!1;var de=a.memoizedState;A.state=de,ru(a,m,A,v),su(),fe=a.memoizedState,F||de!==fe||ga?(typeof Te=="function"&&(q0(a,f,Te,m),fe=a.memoizedState),(Y=ga||$x(a,f,Y,m,de,fe,D))?(Se||typeof A.UNSAFE_componentWillMount!="function"&&typeof A.componentWillMount!="function"||(typeof A.componentWillMount=="function"&&A.componentWillMount(),typeof A.UNSAFE_componentWillMount=="function"&&A.UNSAFE_componentWillMount()),typeof A.componentDidMount=="function"&&(a.flags|=4194308)):(typeof A.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=m,a.memoizedState=fe),A.props=m,A.state=fe,A.context=D,m=Y):(typeof A.componentDidMount=="function"&&(a.flags|=4194308),m=!1)}else{A=a.stateNode,A0(i,a),D=a.memoizedProps,Se=Ro(f,D),A.props=Se,Te=a.pendingProps,de=A.context,fe=f.contextType,Y=Al,typeof fe=="object"&&fe!==null&&(Y=bi(fe)),F=f.getDerivedStateFromProps,(fe=typeof F=="function"||typeof A.getSnapshotBeforeUpdate=="function")||typeof A.UNSAFE_componentWillReceiveProps!="function"&&typeof A.componentWillReceiveProps!="function"||(D!==Te||de!==Y)&&Gx(a,A,m,Y),ga=!1,de=a.memoizedState,A.state=de,ru(a,m,A,v),su();var ge=a.memoizedState;D!==Te||de!==ge||ga||i!==null&&i.dependencies!==null&&Zf(i.dependencies)?(typeof F=="function"&&(q0(a,f,F,m),ge=a.memoizedState),(Se=ga||$x(a,f,Se,m,de,ge,Y)||i!==null&&i.dependencies!==null&&Zf(i.dependencies))?(fe||typeof A.UNSAFE_componentWillUpdate!="function"&&typeof A.componentWillUpdate!="function"||(typeof A.componentWillUpdate=="function"&&A.componentWillUpdate(m,ge,Y),typeof A.UNSAFE_componentWillUpdate=="function"&&A.UNSAFE_componentWillUpdate(m,ge,Y)),typeof A.componentDidUpdate=="function"&&(a.flags|=4),typeof A.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof A.componentDidUpdate!="function"||D===i.memoizedProps&&de===i.memoizedState||(a.flags|=4),typeof A.getSnapshotBeforeUpdate!="function"||D===i.memoizedProps&&de===i.memoizedState||(a.flags|=1024),a.memoizedProps=m,a.memoizedState=ge),A.props=m,A.state=ge,A.context=Y,m=Se):(typeof A.componentDidUpdate!="function"||D===i.memoizedProps&&de===i.memoizedState||(a.flags|=4),typeof A.getSnapshotBeforeUpdate!="function"||D===i.memoizedProps&&de===i.memoizedState||(a.flags|=1024),m=!1)}return A=m,pd(i,a),m=(a.flags&128)!==0,A||m?(A=a.stateNode,f=m&&typeof f.getDerivedStateFromError!="function"?null:A.render(),a.flags|=1,i!==null&&m?(a.child=kl(a,i.child,null,v),a.child=kl(a,null,f,v)):ci(i,a,f,v),a.memoizedState=A.state,i=a.child):i=Dr(i,a,v),i}function ay(i,a,f,m){return Kc(),a.flags|=256,ci(i,a,f,m),a.child}var K0={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Z0(i){return{baseLanes:i,cachePool:Yp()}}function Q0(i,a,f){return i=i!==null?i.childLanes&~f:0,a&&(i|=ms),i}function oy(i,a,f){var m=a.pendingProps,v=!1,A=(a.flags&128)!==0,D;if((D=A)||(D=i!==null&&i.memoizedState===null?!1:(Wn.current&2)!==0),D&&(v=!0,a.flags&=-129),D=(a.flags&32)!==0,a.flags&=-33,i===null){if(Bt){if(v?ya(a):ba(),Bt){var F=Sn,Y;if(Y=F){e:{for(Y=F,F=sr;Y.nodeType!==8;){if(!F){F=null;break e}if(Y=Ms(Y.nextSibling),Y===null){F=null;break e}}F=Y}F!==null?(a.memoizedState={dehydrated:F,treeContext:vo!==null?{id:_r,overflow:Nr}:null,retryLane:536870912,hydrationErrors:null},Y=Qi(18,null,null,0),Y.stateNode=F,Y.return=a,a.child=Y,Ni=a,Sn=null,Y=!0):Y=!1}Y||Co(a)}if(F=a.memoizedState,F!==null&&(F=F.dehydrated,F!==null))return k1(F)?a.lanes=32:a.lanes=536870912,null;Mr(a)}return F=m.children,m=m.fallback,v?(ba(),v=a.mode,F=xd({mode:"hidden",children:F},v),m=wo(m,v,f,null),F.return=a,m.return=a,F.sibling=m,a.child=F,v=a.child,v.memoizedState=Z0(f),v.childLanes=Q0(i,D,f),a.memoizedState=K0,m):(ya(a),J0(a,F))}if(Y=i.memoizedState,Y!==null&&(F=Y.dehydrated,F!==null)){if(A)a.flags&256?(ya(a),a.flags&=-257,a=e1(i,a,f)):a.memoizedState!==null?(ba(),a.child=i.child,a.flags|=128,a=null):(ba(),v=m.fallback,F=a.mode,m=xd({mode:"visible",children:m.children},F),v=wo(v,F,f,null),v.flags|=2,m.return=a,v.return=a,m.sibling=v,a.child=m,kl(a,i.child,null,f),m=a.child,m.memoizedState=Z0(f),m.childLanes=Q0(i,D,f),a.memoizedState=K0,a=v);else if(ya(a),k1(F)){if(D=F.nextSibling&&F.nextSibling.dataset,D)var fe=D.dgst;D=fe,m=Error(r(419)),m.stack="",m.digest=D,Zc({value:m,source:null,stack:null}),a=e1(i,a,f)}else if(ni||Qc(i,a,f,!1),D=(f&i.childLanes)!==0,ni||D){if(D=an,D!==null&&(m=f&-f,m=(m&42)!==0?1:lo(m),m=(m&(D.suspendedLanes|f))!==0?0:m,m!==0&&m!==Y.retryLane))throw Y.retryLane=m,Cl(i,m),is(D,i,m),Qx;F.data==="$?"||y1(),a=e1(i,a,f)}else F.data==="$?"?(a.flags|=192,a.child=i.child,a=null):(i=Y.treeContext,Sn=Ms(F.nextSibling),Ni=a,Bt=!0,So=null,sr=!1,i!==null&&(ds[hs++]=_r,ds[hs++]=Nr,ds[hs++]=vo,_r=i.id,Nr=i.overflow,vo=a),a=J0(a,m.children),a.flags|=4096);return a}return v?(ba(),v=m.fallback,F=a.mode,Y=i.child,fe=Y.sibling,m=Tr(Y,{mode:"hidden",children:m.children}),m.subtreeFlags=Y.subtreeFlags&65011712,fe!==null?v=Tr(fe,v):(v=wo(v,F,f,null),v.flags|=2),v.return=a,m.return=a,m.sibling=v,a.child=m,m=v,v=a.child,F=i.child.memoizedState,F===null?F=Z0(f):(Y=F.cachePool,Y!==null?(fe=Xn._currentValue,Y=Y.parent!==fe?{parent:fe,pool:fe}:Y):Y=Yp(),F={baseLanes:F.baseLanes|f,cachePool:Y}),v.memoizedState=F,v.childLanes=Q0(i,D,f),a.memoizedState=K0,m):(ya(a),f=i.child,i=f.sibling,f=Tr(f,{mode:"visible",children:m.children}),f.return=a,f.sibling=null,i!==null&&(D=a.deletions,D===null?(a.deletions=[i],a.flags|=16):D.push(i)),a.child=f,a.memoizedState=null,f)}function J0(i,a){return a=xd({mode:"visible",children:a},i.mode),a.return=i,i.child=a}function xd(i,a){return i=Qi(22,i,null,a),i.lanes=0,i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},i}function e1(i,a,f){return kl(a,i.child,null,f),i=J0(a,a.pendingProps.children),i.flags|=2,a.memoizedState=null,i}function ly(i,a,f){i.lanes|=a;var m=i.alternate;m!==null&&(m.lanes|=a),y0(i.return,a,f)}function t1(i,a,f,m,v){var A=i.memoizedState;A===null?i.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:m,tail:f,tailMode:v}:(A.isBackwards=a,A.rendering=null,A.renderingStartTime=0,A.last=m,A.tail=f,A.tailMode=v)}function cy(i,a,f){var m=a.pendingProps,v=m.revealOrder,A=m.tail;if(ci(i,a,m.children,f),m=Wn.current,(m&2)!==0)m=m&1|2,a.flags|=128;else{if(i!==null&&(i.flags&128)!==0)e:for(i=a.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&ly(i,f,a);else if(i.tag===19)ly(i,f,a);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===a)break e;for(;i.sibling===null;){if(i.return===null||i.return===a)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}m&=1}switch(ye(Wn,m),v){case"forwards":for(f=a.child,v=null;f!==null;)i=f.alternate,i!==null&&hd(i)===null&&(v=f),f=f.sibling;f=v,f===null?(v=a.child,a.child=null):(v=f.sibling,f.sibling=null),t1(a,!1,v,f,A);break;case"backwards":for(f=null,v=a.child,a.child=null;v!==null;){if(i=v.alternate,i!==null&&hd(i)===null){a.child=v;break}i=v.sibling,v.sibling=f,f=v,v=i}t1(a,!0,f,null,A);break;case"together":t1(a,!1,null,null,void 0);break;default:a.memoizedState=null}return a.child}function Dr(i,a,f){if(i!==null&&(a.dependencies=i.dependencies),Ca|=a.lanes,(f&a.childLanes)===0)if(i!==null){if(Qc(i,a,f,!1),(f&a.childLanes)===0)return null}else return null;if(i!==null&&a.child!==i.child)throw Error(r(153));if(a.child!==null){for(i=a.child,f=Tr(i,i.pendingProps),a.child=f,f.return=a;i.sibling!==null;)i=i.sibling,f=f.sibling=Tr(i,i.pendingProps),f.return=a;f.sibling=null}return a.child}function n1(i,a){return(i.lanes&a)!==0?!0:(i=i.dependencies,!!(i!==null&&Zf(i)))}function HC(i,a,f){switch(a.tag){case 3:ve(a,a.stateNode.containerInfo),ha(a,Xn,i.memoizedState.cache),Kc();break;case 27:case 5:xt(a);break;case 4:ve(a,a.stateNode.containerInfo);break;case 10:ha(a,a.type,a.memoizedProps.value);break;case 13:var m=a.memoizedState;if(m!==null)return m.dehydrated!==null?(ya(a),a.flags|=128,null):(f&a.child.childLanes)!==0?oy(i,a,f):(ya(a),i=Dr(i,a,f),i!==null?i.sibling:null);ya(a);break;case 19:var v=(i.flags&128)!==0;if(m=(f&a.childLanes)!==0,m||(Qc(i,a,f,!1),m=(f&a.childLanes)!==0),v){if(m)return cy(i,a,f);a.flags|=128}if(v=a.memoizedState,v!==null&&(v.rendering=null,v.tail=null,v.lastEffect=null),ye(Wn,Wn.current),m)break;return null;case 22:case 23:return a.lanes=0,ny(i,a,f);case 24:ha(a,Xn,i.memoizedState.cache)}return Dr(i,a,f)}function uy(i,a,f){if(i!==null)if(i.memoizedProps!==a.pendingProps)ni=!0;else{if(!n1(i,f)&&(a.flags&128)===0)return ni=!1,HC(i,a,f);ni=(i.flags&131072)!==0}else ni=!1,Bt&&(a.flags&1048576)!==0&&Fp(a,Kf,a.index);switch(a.lanes=0,a.tag){case 16:e:{i=a.pendingProps;var m=a.elementType,v=m._init;if(m=v(m._payload),a.type=m,typeof m=="function")f0(m)?(i=Ro(m,i),a.tag=1,a=ry(null,a,m,i,f)):(a.tag=0,a=W0(null,a,m,i,f));else{if(m!=null){if(v=m.$$typeof,v===q){a.tag=11,a=Jx(null,a,m,i,f);break e}else if(v===X){a.tag=14,a=ey(null,a,m,i,f);break e}}throw a=Be(m)||m,Error(r(306,a,""))}}return a;case 0:return W0(i,a,a.type,a.pendingProps,f);case 1:return m=a.type,v=Ro(m,a.pendingProps),ry(i,a,m,v,f);case 3:e:{if(ve(a,a.stateNode.containerInfo),i===null)throw Error(r(387));m=a.pendingProps;var A=a.memoizedState;v=A.element,A0(i,a),ru(a,m,null,f);var D=a.memoizedState;if(m=D.cache,ha(a,Xn,m),m!==A.cache&&b0(a,[Xn],f,!0),su(),m=D.element,A.isDehydrated)if(A={element:m,isDehydrated:!1,cache:D.cache},a.updateQueue.baseState=A,a.memoizedState=A,a.flags&256){a=ay(i,a,m,f);break e}else if(m!==v){v=us(Error(r(424)),a),Zc(v),a=ay(i,a,m,f);break e}else{switch(i=a.stateNode.containerInfo,i.nodeType){case 9:i=i.body;break;default:i=i.nodeName==="HTML"?i.ownerDocument.body:i}for(Sn=Ms(i.firstChild),Ni=a,Bt=!0,So=null,sr=!0,f=zx(a,null,m,f),a.child=f;f;)f.flags=f.flags&-3|4096,f=f.sibling}else{if(Kc(),m===v){a=Dr(i,a,f);break e}ci(i,a,m,f)}a=a.child}return a;case 26:return pd(i,a),i===null?(f=g2(a.type,null,a.pendingProps,null))?a.memoizedState=f:Bt||(f=a.type,i=a.pendingProps,m=Id(we.current).createElement(f),m[Jn]=a,m[wn]=i,fi(m,f,i),zt(m),a.stateNode=m):a.memoizedState=g2(a.type,i.memoizedProps,a.pendingProps,i.memoizedState),null;case 27:return xt(a),i===null&&Bt&&(m=a.stateNode=f2(a.type,a.pendingProps,we.current),Ni=a,sr=!0,v=Sn,Na(a.type)?(j1=v,Sn=Ms(m.firstChild)):Sn=v),ci(i,a,a.pendingProps.children,f),pd(i,a),i===null&&(a.flags|=4194304),a.child;case 5:return i===null&&Bt&&((v=m=Sn)&&(m=xA(m,a.type,a.pendingProps,sr),m!==null?(a.stateNode=m,Ni=a,Sn=Ms(m.firstChild),sr=!1,v=!0):v=!1),v||Co(a)),xt(a),v=a.type,A=a.pendingProps,D=i!==null?i.memoizedProps:null,m=A.children,M1(v,A)?m=null:D!==null&&M1(v,D)&&(a.flags|=32),a.memoizedState!==null&&(v=I0(i,a,kC,null,null,f),_u._currentValue=v),pd(i,a),ci(i,a,m,f),a.child;case 6:return i===null&&Bt&&((i=f=Sn)&&(f=yA(f,a.pendingProps,sr),f!==null?(a.stateNode=f,Ni=a,Sn=null,i=!0):i=!1),i||Co(a)),null;case 13:return oy(i,a,f);case 4:return ve(a,a.stateNode.containerInfo),m=a.pendingProps,i===null?a.child=kl(a,null,m,f):ci(i,a,m,f),a.child;case 11:return Jx(i,a,a.type,a.pendingProps,f);case 7:return ci(i,a,a.pendingProps,f),a.child;case 8:return ci(i,a,a.pendingProps.children,f),a.child;case 12:return ci(i,a,a.pendingProps.children,f),a.child;case 10:return m=a.pendingProps,ha(a,a.type,m.value),ci(i,a,m.children,f),a.child;case 9:return v=a.type._context,m=a.pendingProps.children,To(a),v=bi(v),m=m(v),a.flags|=1,ci(i,a,m,f),a.child;case 14:return ey(i,a,a.type,a.pendingProps,f);case 15:return ty(i,a,a.type,a.pendingProps,f);case 19:return cy(i,a,f);case 31:return m=a.pendingProps,f=a.mode,m={mode:m.mode,children:m.children},i===null?(f=xd(m,f),f.ref=a.ref,a.child=f,f.return=a,a=f):(f=Tr(i.child,m),f.ref=a.ref,a.child=f,f.return=a,a=f),a;case 22:return ny(i,a,f);case 24:return To(a),m=bi(Xn),i===null?(v=E0(),v===null&&(v=an,A=w0(),v.pooledCache=A,A.refCount++,A!==null&&(v.pooledCacheLanes|=f),v=A),a.memoizedState={parent:m,cache:v},C0(a),ha(a,Xn,v)):((i.lanes&f)!==0&&(A0(i,a),ru(a,null,null,f),su()),v=i.memoizedState,A=a.memoizedState,v.parent!==m?(v={parent:m,cache:m},a.memoizedState=v,a.lanes===0&&(a.memoizedState=a.updateQueue.baseState=v),ha(a,Xn,m)):(m=A.cache,ha(a,Xn,m),m!==v.cache&&b0(a,[Xn],f,!0))),ci(i,a,a.pendingProps.children,f),a.child;case 29:throw a.pendingProps}throw Error(r(156,a.tag))}function Lr(i){i.flags|=4}function fy(i,a){if(a.type!=="stylesheet"||(a.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!b2(a)){if(a=gs.current,a!==null&&((Ot&4194048)===Ot?rr!==null:(Ot&62914560)!==Ot&&(Ot&536870912)===0||a!==rr))throw nu=S0,Xp;i.flags|=8192}}function yd(i,a){a!==null&&(i.flags|=4),i.flags&16384&&(a=i.tag!==22?Pc():536870912,i.lanes|=a,Ul|=a)}function du(i,a){if(!Bt)switch(i.tailMode){case"hidden":a=i.tail;for(var f=null;a!==null;)a.alternate!==null&&(f=a),a=a.sibling;f===null?i.tail=null:f.sibling=null;break;case"collapsed":f=i.tail;for(var m=null;f!==null;)f.alternate!==null&&(m=f),f=f.sibling;m===null?a||i.tail===null?i.tail=null:i.tail.sibling=null:m.sibling=null}}function xn(i){var a=i.alternate!==null&&i.alternate.child===i.child,f=0,m=0;if(a)for(var v=i.child;v!==null;)f|=v.lanes|v.childLanes,m|=v.subtreeFlags&65011712,m|=v.flags&65011712,v.return=i,v=v.sibling;else for(v=i.child;v!==null;)f|=v.lanes|v.childLanes,m|=v.subtreeFlags,m|=v.flags,v.return=i,v=v.sibling;return i.subtreeFlags|=m,i.childLanes=f,a}function $C(i,a,f){var m=a.pendingProps;switch(m0(a),a.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return xn(a),null;case 1:return xn(a),null;case 3:return f=a.stateNode,m=null,i!==null&&(m=i.memoizedState.cache),a.memoizedState.cache!==m&&(a.flags|=2048),Or(Xn),He(),f.pendingContext&&(f.context=f.pendingContext,f.pendingContext=null),(i===null||i.child===null)&&(Wc(a)?Lr(a):i===null||i.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,Hp())),xn(a),null;case 26:return f=a.memoizedState,i===null?(Lr(a),f!==null?(xn(a),fy(a,f)):(xn(a),a.flags&=-16777217)):f?f!==i.memoizedState?(Lr(a),xn(a),fy(a,f)):(xn(a),a.flags&=-16777217):(i.memoizedProps!==m&&Lr(a),xn(a),a.flags&=-16777217),null;case 27:ht(a),f=we.current;var v=a.type;if(i!==null&&a.stateNode!=null)i.memoizedProps!==m&&Lr(a);else{if(!m){if(a.stateNode===null)throw Error(r(166));return xn(a),null}i=Me.current,Wc(a)?Vp(a):(i=f2(v,m,f),a.stateNode=i,Lr(a))}return xn(a),null;case 5:if(ht(a),f=a.type,i!==null&&a.stateNode!=null)i.memoizedProps!==m&&Lr(a);else{if(!m){if(a.stateNode===null)throw Error(r(166));return xn(a),null}if(i=Me.current,Wc(a))Vp(a);else{switch(v=Id(we.current),i){case 1:i=v.createElementNS("http://www.w3.org/2000/svg",f);break;case 2:i=v.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;default:switch(f){case"svg":i=v.createElementNS("http://www.w3.org/2000/svg",f);break;case"math":i=v.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;case"script":i=v.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild);break;case"select":i=typeof m.is=="string"?v.createElement("select",{is:m.is}):v.createElement("select"),m.multiple?i.multiple=!0:m.size&&(i.size=m.size);break;default:i=typeof m.is=="string"?v.createElement(f,{is:m.is}):v.createElement(f)}}i[Jn]=a,i[wn]=m;e:for(v=a.child;v!==null;){if(v.tag===5||v.tag===6)i.appendChild(v.stateNode);else if(v.tag!==4&&v.tag!==27&&v.child!==null){v.child.return=v,v=v.child;continue}if(v===a)break e;for(;v.sibling===null;){if(v.return===null||v.return===a)break e;v=v.return}v.sibling.return=v.return,v=v.sibling}a.stateNode=i;e:switch(fi(i,f,m),f){case"button":case"input":case"select":case"textarea":i=!!m.autoFocus;break e;case"img":i=!0;break e;default:i=!1}i&&Lr(a)}}return xn(a),a.flags&=-16777217,null;case 6:if(i&&a.stateNode!=null)i.memoizedProps!==m&&Lr(a);else{if(typeof m!="string"&&a.stateNode===null)throw Error(r(166));if(i=we.current,Wc(a)){if(i=a.stateNode,f=a.memoizedProps,m=null,v=Ni,v!==null)switch(v.tag){case 27:case 5:m=v.memoizedProps}i[Jn]=a,i=!!(i.nodeValue===f||m!==null&&m.suppressHydrationWarning===!0||s2(i.nodeValue,f)),i||Co(a)}else i=Id(i).createTextNode(m),i[Jn]=a,a.stateNode=i}return xn(a),null;case 13:if(m=a.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(v=Wc(a),m!==null&&m.dehydrated!==null){if(i===null){if(!v)throw Error(r(318));if(v=a.memoizedState,v=v!==null?v.dehydrated:null,!v)throw Error(r(317));v[Jn]=a}else Kc(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;xn(a),v=!1}else v=Hp(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=v),v=!0;if(!v)return a.flags&256?(Mr(a),a):(Mr(a),null)}if(Mr(a),(a.flags&128)!==0)return a.lanes=f,a;if(f=m!==null,i=i!==null&&i.memoizedState!==null,f){m=a.child,v=null,m.alternate!==null&&m.alternate.memoizedState!==null&&m.alternate.memoizedState.cachePool!==null&&(v=m.alternate.memoizedState.cachePool.pool);var A=null;m.memoizedState!==null&&m.memoizedState.cachePool!==null&&(A=m.memoizedState.cachePool.pool),A!==v&&(m.flags|=2048)}return f!==i&&f&&(a.child.flags|=8192),yd(a,a.updateQueue),xn(a),null;case 4:return He(),i===null&&_1(a.stateNode.containerInfo),xn(a),null;case 10:return Or(a.type),xn(a),null;case 19:if(xe(Wn),v=a.memoizedState,v===null)return xn(a),null;if(m=(a.flags&128)!==0,A=v.rendering,A===null)if(m)du(v,!1);else{if(Cn!==0||i!==null&&(i.flags&128)!==0)for(i=a.child;i!==null;){if(A=hd(i),A!==null){for(a.flags|=128,du(v,!1),i=A.updateQueue,a.updateQueue=i,yd(a,i),a.subtreeFlags=0,i=f,f=a.child;f!==null;)Up(f,i),f=f.sibling;return ye(Wn,Wn.current&1|2),a.child}i=i.sibling}v.tail!==null&&kt()>vd&&(a.flags|=128,m=!0,du(v,!1),a.lanes=4194304)}else{if(!m)if(i=hd(A),i!==null){if(a.flags|=128,m=!0,i=i.updateQueue,a.updateQueue=i,yd(a,i),du(v,!0),v.tail===null&&v.tailMode==="hidden"&&!A.alternate&&!Bt)return xn(a),null}else 2*kt()-v.renderingStartTime>vd&&f!==536870912&&(a.flags|=128,m=!0,du(v,!1),a.lanes=4194304);v.isBackwards?(A.sibling=a.child,a.child=A):(i=v.last,i!==null?i.sibling=A:a.child=A,v.last=A)}return v.tail!==null?(a=v.tail,v.rendering=a,v.tail=a.sibling,v.renderingStartTime=kt(),a.sibling=null,i=Wn.current,ye(Wn,m?i&1|2:i&1),a):(xn(a),null);case 22:case 23:return Mr(a),R0(),m=a.memoizedState!==null,i!==null?i.memoizedState!==null!==m&&(a.flags|=8192):m&&(a.flags|=8192),m?(f&536870912)!==0&&(a.flags&128)===0&&(xn(a),a.subtreeFlags&6&&(a.flags|=8192)):xn(a),f=a.updateQueue,f!==null&&yd(a,f.retryQueue),f=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(f=i.memoizedState.cachePool.pool),m=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(m=a.memoizedState.cachePool.pool),m!==f&&(a.flags|=2048),i!==null&&xe(_o),null;case 24:return f=null,i!==null&&(f=i.memoizedState.cache),a.memoizedState.cache!==f&&(a.flags|=2048),Or(Xn),xn(a),null;case 25:return null;case 30:return null}throw Error(r(156,a.tag))}function GC(i,a){switch(m0(a),a.tag){case 1:return i=a.flags,i&65536?(a.flags=i&-65537|128,a):null;case 3:return Or(Xn),He(),i=a.flags,(i&65536)!==0&&(i&128)===0?(a.flags=i&-65537|128,a):null;case 26:case 27:case 5:return ht(a),null;case 13:if(Mr(a),i=a.memoizedState,i!==null&&i.dehydrated!==null){if(a.alternate===null)throw Error(r(340));Kc()}return i=a.flags,i&65536?(a.flags=i&-65537|128,a):null;case 19:return xe(Wn),null;case 4:return He(),null;case 10:return Or(a.type),null;case 22:case 23:return Mr(a),R0(),i!==null&&xe(_o),i=a.flags,i&65536?(a.flags=i&-65537|128,a):null;case 24:return Or(Xn),null;case 25:return null;default:return null}}function dy(i,a){switch(m0(a),a.tag){case 3:Or(Xn),He();break;case 26:case 27:case 5:ht(a);break;case 4:He();break;case 13:Mr(a);break;case 19:xe(Wn);break;case 10:Or(a.type);break;case 22:case 23:Mr(a),R0(),i!==null&&xe(_o);break;case 24:Or(Xn)}}function hu(i,a){try{var f=a.updateQueue,m=f!==null?f.lastEffect:null;if(m!==null){var v=m.next;f=v;do{if((f.tag&i)===i){m=void 0;var A=f.create,D=f.inst;m=A(),D.destroy=m}f=f.next}while(f!==v)}}catch(F){en(a,a.return,F)}}function wa(i,a,f){try{var m=a.updateQueue,v=m!==null?m.lastEffect:null;if(v!==null){var A=v.next;m=A;do{if((m.tag&i)===i){var D=m.inst,F=D.destroy;if(F!==void 0){D.destroy=void 0,v=a;var Y=f,fe=F;try{fe()}catch(Se){en(v,Y,Se)}}}m=m.next}while(m!==A)}}catch(Se){en(a,a.return,Se)}}function hy(i){var a=i.updateQueue;if(a!==null){var f=i.stateNode;try{ex(a,f)}catch(m){en(i,i.return,m)}}}function gy(i,a,f){f.props=Ro(i.type,i.memoizedProps),f.state=i.memoizedState;try{f.componentWillUnmount()}catch(m){en(i,a,m)}}function gu(i,a){try{var f=i.ref;if(f!==null){switch(i.tag){case 26:case 27:case 5:var m=i.stateNode;break;case 30:m=i.stateNode;break;default:m=i.stateNode}typeof f=="function"?i.refCleanup=f(m):f.current=m}}catch(v){en(i,a,v)}}function ar(i,a){var f=i.ref,m=i.refCleanup;if(f!==null)if(typeof m=="function")try{m()}catch(v){en(i,a,v)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof f=="function")try{f(null)}catch(v){en(i,a,v)}else f.current=null}function my(i){var a=i.type,f=i.memoizedProps,m=i.stateNode;try{e:switch(a){case"button":case"input":case"select":case"textarea":f.autoFocus&&m.focus();break e;case"img":f.src?m.src=f.src:f.srcSet&&(m.srcset=f.srcSet)}}catch(v){en(i,i.return,v)}}function i1(i,a,f){try{var m=i.stateNode;dA(m,i.type,f,a),m[wn]=a}catch(v){en(i,i.return,v)}}function py(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&Na(i.type)||i.tag===4}function s1(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||py(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&Na(i.type)||i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function r1(i,a,f){var m=i.tag;if(m===5||m===6)i=i.stateNode,a?(f.nodeType===9?f.body:f.nodeName==="HTML"?f.ownerDocument.body:f).insertBefore(i,a):(a=f.nodeType===9?f.body:f.nodeName==="HTML"?f.ownerDocument.body:f,a.appendChild(i),f=f._reactRootContainer,f!=null||a.onclick!==null||(a.onclick=Od));else if(m!==4&&(m===27&&Na(i.type)&&(f=i.stateNode,a=null),i=i.child,i!==null))for(r1(i,a,f),i=i.sibling;i!==null;)r1(i,a,f),i=i.sibling}function bd(i,a,f){var m=i.tag;if(m===5||m===6)i=i.stateNode,a?f.insertBefore(i,a):f.appendChild(i);else if(m!==4&&(m===27&&Na(i.type)&&(f=i.stateNode),i=i.child,i!==null))for(bd(i,a,f),i=i.sibling;i!==null;)bd(i,a,f),i=i.sibling}function xy(i){var a=i.stateNode,f=i.memoizedProps;try{for(var m=i.type,v=a.attributes;v.length;)a.removeAttributeNode(v[0]);fi(a,m,f),a[Jn]=i,a[wn]=f}catch(A){en(i,i.return,A)}}var kr=!1,Dn=!1,a1=!1,yy=typeof WeakSet=="function"?WeakSet:Set,ii=null;function qC(i,a){if(i=i.containerInfo,O1=Bd,i=_(i),I(i)){if("selectionStart"in i)var f={start:i.selectionStart,end:i.selectionEnd};else e:{f=(f=i.ownerDocument)&&f.defaultView||window;var m=f.getSelection&&f.getSelection();if(m&&m.rangeCount!==0){f=m.anchorNode;var v=m.anchorOffset,A=m.focusNode;m=m.focusOffset;try{f.nodeType,A.nodeType}catch{f=null;break e}var D=0,F=-1,Y=-1,fe=0,Se=0,Te=i,de=null;t:for(;;){for(var ge;Te!==f||v!==0&&Te.nodeType!==3||(F=D+v),Te!==A||m!==0&&Te.nodeType!==3||(Y=D+m),Te.nodeType===3&&(D+=Te.nodeValue.length),(ge=Te.firstChild)!==null;)de=Te,Te=ge;for(;;){if(Te===i)break t;if(de===f&&++fe===v&&(F=D),de===A&&++Se===m&&(Y=D),(ge=Te.nextSibling)!==null)break;Te=de,de=Te.parentNode}Te=ge}f=F===-1||Y===-1?null:{start:F,end:Y}}else f=null}f=f||{start:0,end:0}}else f=null;for(I1={focusedElem:i,selectionRange:f},Bd=!1,ii=a;ii!==null;)if(a=ii,i=a.child,(a.subtreeFlags&1024)!==0&&i!==null)i.return=a,ii=i;else for(;ii!==null;){switch(a=ii,A=a.alternate,i=a.flags,a.tag){case 0:break;case 11:case 15:break;case 1:if((i&1024)!==0&&A!==null){i=void 0,f=a,v=A.memoizedProps,A=A.memoizedState,m=f.stateNode;try{var et=Ro(f.type,v,f.elementType===f.type);i=m.getSnapshotBeforeUpdate(et,A),m.__reactInternalSnapshotBeforeUpdate=i}catch(Ze){en(f,f.return,Ze)}}break;case 3:if((i&1024)!==0){if(i=a.stateNode.containerInfo,f=i.nodeType,f===9)L1(i);else if(f===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":L1(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(r(163))}if(i=a.sibling,i!==null){i.return=a.return,ii=i;break}ii=a.return}}function by(i,a,f){var m=f.flags;switch(f.tag){case 0:case 11:case 15:va(i,f),m&4&&hu(5,f);break;case 1:if(va(i,f),m&4)if(i=f.stateNode,a===null)try{i.componentDidMount()}catch(D){en(f,f.return,D)}else{var v=Ro(f.type,a.memoizedProps);a=a.memoizedState;try{i.componentDidUpdate(v,a,i.__reactInternalSnapshotBeforeUpdate)}catch(D){en(f,f.return,D)}}m&64&&hy(f),m&512&&gu(f,f.return);break;case 3:if(va(i,f),m&64&&(i=f.updateQueue,i!==null)){if(a=null,f.child!==null)switch(f.child.tag){case 27:case 5:a=f.child.stateNode;break;case 1:a=f.child.stateNode}try{ex(i,a)}catch(D){en(f,f.return,D)}}break;case 27:a===null&&m&4&&xy(f);case 26:case 5:va(i,f),a===null&&m&4&&my(f),m&512&&gu(f,f.return);break;case 12:va(i,f);break;case 13:va(i,f),m&4&&Ey(i,f),m&64&&(i=f.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(f=tA.bind(null,f),bA(i,f))));break;case 22:if(m=f.memoizedState!==null||kr,!m){a=a!==null&&a.memoizedState!==null||Dn,v=kr;var A=Dn;kr=m,(Dn=a)&&!A?Ea(i,f,(f.subtreeFlags&8772)!==0):va(i,f),kr=v,Dn=A}break;case 30:break;default:va(i,f)}}function wy(i){var a=i.alternate;a!==null&&(i.alternate=null,wy(a)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(a=i.stateNode,a!==null&&co(a)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var hn=null,Ui=!1;function jr(i,a,f){for(f=f.child;f!==null;)vy(i,a,f),f=f.sibling}function vy(i,a,f){if(un&&typeof un.onCommitFiberUnmount=="function")try{un.onCommitFiberUnmount(nn,f)}catch{}switch(f.tag){case 26:Dn||ar(f,a),jr(i,a,f),f.memoizedState?f.memoizedState.count--:f.stateNode&&(f=f.stateNode,f.parentNode.removeChild(f));break;case 27:Dn||ar(f,a);var m=hn,v=Ui;Na(f.type)&&(hn=f.stateNode,Ui=!1),jr(i,a,f),Su(f.stateNode),hn=m,Ui=v;break;case 5:Dn||ar(f,a);case 6:if(m=hn,v=Ui,hn=null,jr(i,a,f),hn=m,Ui=v,hn!==null)if(Ui)try{(hn.nodeType===9?hn.body:hn.nodeName==="HTML"?hn.ownerDocument.body:hn).removeChild(f.stateNode)}catch(A){en(f,a,A)}else try{hn.removeChild(f.stateNode)}catch(A){en(f,a,A)}break;case 18:hn!==null&&(Ui?(i=hn,c2(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,f.stateNode),Iu(i)):c2(hn,f.stateNode));break;case 4:m=hn,v=Ui,hn=f.stateNode.containerInfo,Ui=!0,jr(i,a,f),hn=m,Ui=v;break;case 0:case 11:case 14:case 15:Dn||wa(2,f,a),Dn||wa(4,f,a),jr(i,a,f);break;case 1:Dn||(ar(f,a),m=f.stateNode,typeof m.componentWillUnmount=="function"&&gy(f,a,m)),jr(i,a,f);break;case 21:jr(i,a,f);break;case 22:Dn=(m=Dn)||f.memoizedState!==null,jr(i,a,f),Dn=m;break;default:jr(i,a,f)}}function Ey(i,a){if(a.memoizedState===null&&(i=a.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{Iu(i)}catch(f){en(a,a.return,f)}}function YC(i){switch(i.tag){case 13:case 19:var a=i.stateNode;return a===null&&(a=i.stateNode=new yy),a;case 22:return i=i.stateNode,a=i._retryCache,a===null&&(a=i._retryCache=new yy),a;default:throw Error(r(435,i.tag))}}function o1(i,a){var f=YC(i);a.forEach(function(m){var v=nA.bind(null,i,m);f.has(m)||(f.add(m),m.then(v,v))})}function Ji(i,a){var f=a.deletions;if(f!==null)for(var m=0;m<f.length;m++){var v=f[m],A=i,D=a,F=D;e:for(;F!==null;){switch(F.tag){case 27:if(Na(F.type)){hn=F.stateNode,Ui=!1;break e}break;case 5:hn=F.stateNode,Ui=!1;break e;case 3:case 4:hn=F.stateNode.containerInfo,Ui=!0;break e}F=F.return}if(hn===null)throw Error(r(160));vy(A,D,v),hn=null,Ui=!1,A=v.alternate,A!==null&&(A.return=null),v.return=null}if(a.subtreeFlags&13878)for(a=a.child;a!==null;)Sy(a,i),a=a.sibling}var Is=null;function Sy(i,a){var f=i.alternate,m=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:Ji(a,i),es(i),m&4&&(wa(3,i,i.return),hu(3,i),wa(5,i,i.return));break;case 1:Ji(a,i),es(i),m&512&&(Dn||f===null||ar(f,f.return)),m&64&&kr&&(i=i.updateQueue,i!==null&&(m=i.callbacks,m!==null&&(f=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=f===null?m:f.concat(m))));break;case 26:var v=Is;if(Ji(a,i),es(i),m&512&&(Dn||f===null||ar(f,f.return)),m&4){var A=f!==null?f.memoizedState:null;if(m=i.memoizedState,f===null)if(m===null)if(i.stateNode===null){e:{m=i.type,f=i.memoizedProps,v=v.ownerDocument||v;t:switch(m){case"title":A=v.getElementsByTagName("title")[0],(!A||A[ls]||A[Jn]||A.namespaceURI==="http://www.w3.org/2000/svg"||A.hasAttribute("itemprop"))&&(A=v.createElement(m),v.head.insertBefore(A,v.querySelector("head > title"))),fi(A,m,f),A[Jn]=i,zt(A),m=A;break e;case"link":var D=x2("link","href",v).get(m+(f.href||""));if(D){for(var F=0;F<D.length;F++)if(A=D[F],A.getAttribute("href")===(f.href==null||f.href===""?null:f.href)&&A.getAttribute("rel")===(f.rel==null?null:f.rel)&&A.getAttribute("title")===(f.title==null?null:f.title)&&A.getAttribute("crossorigin")===(f.crossOrigin==null?null:f.crossOrigin)){D.splice(F,1);break t}}A=v.createElement(m),fi(A,m,f),v.head.appendChild(A);break;case"meta":if(D=x2("meta","content",v).get(m+(f.content||""))){for(F=0;F<D.length;F++)if(A=D[F],A.getAttribute("content")===(f.content==null?null:""+f.content)&&A.getAttribute("name")===(f.name==null?null:f.name)&&A.getAttribute("property")===(f.property==null?null:f.property)&&A.getAttribute("http-equiv")===(f.httpEquiv==null?null:f.httpEquiv)&&A.getAttribute("charset")===(f.charSet==null?null:f.charSet)){D.splice(F,1);break t}}A=v.createElement(m),fi(A,m,f),v.head.appendChild(A);break;default:throw Error(r(468,m))}A[Jn]=i,zt(A),m=A}i.stateNode=m}else y2(v,i.type,i.stateNode);else i.stateNode=p2(v,m,i.memoizedProps);else A!==m?(A===null?f.stateNode!==null&&(f=f.stateNode,f.parentNode.removeChild(f)):A.count--,m===null?y2(v,i.type,i.stateNode):p2(v,m,i.memoizedProps)):m===null&&i.stateNode!==null&&i1(i,i.memoizedProps,f.memoizedProps)}break;case 27:Ji(a,i),es(i),m&512&&(Dn||f===null||ar(f,f.return)),f!==null&&m&4&&i1(i,i.memoizedProps,f.memoizedProps);break;case 5:if(Ji(a,i),es(i),m&512&&(Dn||f===null||ar(f,f.return)),i.flags&32){v=i.stateNode;try{Gn(v,"")}catch(ge){en(i,i.return,ge)}}m&4&&i.stateNode!=null&&(v=i.memoizedProps,i1(i,v,f!==null?f.memoizedProps:v)),m&1024&&(a1=!0);break;case 6:if(Ji(a,i),es(i),m&4){if(i.stateNode===null)throw Error(r(162));m=i.memoizedProps,f=i.stateNode;try{f.nodeValue=m}catch(ge){en(i,i.return,ge)}}break;case 3:if(Ld=null,v=Is,Is=Md(a.containerInfo),Ji(a,i),Is=v,es(i),m&4&&f!==null&&f.memoizedState.isDehydrated)try{Iu(a.containerInfo)}catch(ge){en(i,i.return,ge)}a1&&(a1=!1,Cy(i));break;case 4:m=Is,Is=Md(i.stateNode.containerInfo),Ji(a,i),es(i),Is=m;break;case 12:Ji(a,i),es(i);break;case 13:Ji(a,i),es(i),i.child.flags&8192&&i.memoizedState!==null!=(f!==null&&f.memoizedState!==null)&&(h1=kt()),m&4&&(m=i.updateQueue,m!==null&&(i.updateQueue=null,o1(i,m)));break;case 22:v=i.memoizedState!==null;var Y=f!==null&&f.memoizedState!==null,fe=kr,Se=Dn;if(kr=fe||v,Dn=Se||Y,Ji(a,i),Dn=Se,kr=fe,es(i),m&8192)e:for(a=i.stateNode,a._visibility=v?a._visibility&-2:a._visibility|1,v&&(f===null||Y||kr||Dn||Oo(i)),f=null,a=i;;){if(a.tag===5||a.tag===26){if(f===null){Y=f=a;try{if(A=Y.stateNode,v)D=A.style,typeof D.setProperty=="function"?D.setProperty("display","none","important"):D.display="none";else{F=Y.stateNode;var Te=Y.memoizedProps.style,de=Te!=null&&Te.hasOwnProperty("display")?Te.display:null;F.style.display=de==null||typeof de=="boolean"?"":(""+de).trim()}}catch(ge){en(Y,Y.return,ge)}}}else if(a.tag===6){if(f===null){Y=a;try{Y.stateNode.nodeValue=v?"":Y.memoizedProps}catch(ge){en(Y,Y.return,ge)}}}else if((a.tag!==22&&a.tag!==23||a.memoizedState===null||a===i)&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===i)break e;for(;a.sibling===null;){if(a.return===null||a.return===i)break e;f===a&&(f=null),a=a.return}f===a&&(f=null),a.sibling.return=a.return,a=a.sibling}m&4&&(m=i.updateQueue,m!==null&&(f=m.retryQueue,f!==null&&(m.retryQueue=null,o1(i,f))));break;case 19:Ji(a,i),es(i),m&4&&(m=i.updateQueue,m!==null&&(i.updateQueue=null,o1(i,m)));break;case 30:break;case 21:break;default:Ji(a,i),es(i)}}function es(i){var a=i.flags;if(a&2){try{for(var f,m=i.return;m!==null;){if(py(m)){f=m;break}m=m.return}if(f==null)throw Error(r(160));switch(f.tag){case 27:var v=f.stateNode,A=s1(i);bd(i,A,v);break;case 5:var D=f.stateNode;f.flags&32&&(Gn(D,""),f.flags&=-33);var F=s1(i);bd(i,F,D);break;case 3:case 4:var Y=f.stateNode.containerInfo,fe=s1(i);r1(i,fe,Y);break;default:throw Error(r(161))}}catch(Se){en(i,i.return,Se)}i.flags&=-3}a&4096&&(i.flags&=-4097)}function Cy(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var a=i;Cy(a),a.tag===5&&a.flags&1024&&a.stateNode.reset(),i=i.sibling}}function va(i,a){if(a.subtreeFlags&8772)for(a=a.child;a!==null;)by(i,a.alternate,a),a=a.sibling}function Oo(i){for(i=i.child;i!==null;){var a=i;switch(a.tag){case 0:case 11:case 14:case 15:wa(4,a,a.return),Oo(a);break;case 1:ar(a,a.return);var f=a.stateNode;typeof f.componentWillUnmount=="function"&&gy(a,a.return,f),Oo(a);break;case 27:Su(a.stateNode);case 26:case 5:ar(a,a.return),Oo(a);break;case 22:a.memoizedState===null&&Oo(a);break;case 30:Oo(a);break;default:Oo(a)}i=i.sibling}}function Ea(i,a,f){for(f=f&&(a.subtreeFlags&8772)!==0,a=a.child;a!==null;){var m=a.alternate,v=i,A=a,D=A.flags;switch(A.tag){case 0:case 11:case 15:Ea(v,A,f),hu(4,A);break;case 1:if(Ea(v,A,f),m=A,v=m.stateNode,typeof v.componentDidMount=="function")try{v.componentDidMount()}catch(fe){en(m,m.return,fe)}if(m=A,v=m.updateQueue,v!==null){var F=m.stateNode;try{var Y=v.shared.hiddenCallbacks;if(Y!==null)for(v.shared.hiddenCallbacks=null,v=0;v<Y.length;v++)Jp(Y[v],F)}catch(fe){en(m,m.return,fe)}}f&&D&64&&hy(A),gu(A,A.return);break;case 27:xy(A);case 26:case 5:Ea(v,A,f),f&&m===null&&D&4&&my(A),gu(A,A.return);break;case 12:Ea(v,A,f);break;case 13:Ea(v,A,f),f&&D&4&&Ey(v,A);break;case 22:A.memoizedState===null&&Ea(v,A,f),gu(A,A.return);break;case 30:break;default:Ea(v,A,f)}a=a.sibling}}function l1(i,a){var f=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(f=i.memoizedState.cachePool.pool),i=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(i=a.memoizedState.cachePool.pool),i!==f&&(i!=null&&i.refCount++,f!=null&&Jc(f))}function c1(i,a){i=null,a.alternate!==null&&(i=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==i&&(a.refCount++,i!=null&&Jc(i))}function or(i,a,f,m){if(a.subtreeFlags&10256)for(a=a.child;a!==null;)Ay(i,a,f,m),a=a.sibling}function Ay(i,a,f,m){var v=a.flags;switch(a.tag){case 0:case 11:case 15:or(i,a,f,m),v&2048&&hu(9,a);break;case 1:or(i,a,f,m);break;case 3:or(i,a,f,m),v&2048&&(i=null,a.alternate!==null&&(i=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==i&&(a.refCount++,i!=null&&Jc(i)));break;case 12:if(v&2048){or(i,a,f,m),i=a.stateNode;try{var A=a.memoizedProps,D=A.id,F=A.onPostCommit;typeof F=="function"&&F(D,a.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(Y){en(a,a.return,Y)}}else or(i,a,f,m);break;case 13:or(i,a,f,m);break;case 23:break;case 22:A=a.stateNode,D=a.alternate,a.memoizedState!==null?A._visibility&2?or(i,a,f,m):mu(i,a):A._visibility&2?or(i,a,f,m):(A._visibility|=2,jl(i,a,f,m,(a.subtreeFlags&10256)!==0)),v&2048&&l1(D,a);break;case 24:or(i,a,f,m),v&2048&&c1(a.alternate,a);break;default:or(i,a,f,m)}}function jl(i,a,f,m,v){for(v=v&&(a.subtreeFlags&10256)!==0,a=a.child;a!==null;){var A=i,D=a,F=f,Y=m,fe=D.flags;switch(D.tag){case 0:case 11:case 15:jl(A,D,F,Y,v),hu(8,D);break;case 23:break;case 22:var Se=D.stateNode;D.memoizedState!==null?Se._visibility&2?jl(A,D,F,Y,v):mu(A,D):(Se._visibility|=2,jl(A,D,F,Y,v)),v&&fe&2048&&l1(D.alternate,D);break;case 24:jl(A,D,F,Y,v),v&&fe&2048&&c1(D.alternate,D);break;default:jl(A,D,F,Y,v)}a=a.sibling}}function mu(i,a){if(a.subtreeFlags&10256)for(a=a.child;a!==null;){var f=i,m=a,v=m.flags;switch(m.tag){case 22:mu(f,m),v&2048&&l1(m.alternate,m);break;case 24:mu(f,m),v&2048&&c1(m.alternate,m);break;default:mu(f,m)}a=a.sibling}}var pu=8192;function Bl(i){if(i.subtreeFlags&pu)for(i=i.child;i!==null;)Ty(i),i=i.sibling}function Ty(i){switch(i.tag){case 26:Bl(i),i.flags&pu&&i.memoizedState!==null&&MA(Is,i.memoizedState,i.memoizedProps);break;case 5:Bl(i);break;case 3:case 4:var a=Is;Is=Md(i.stateNode.containerInfo),Bl(i),Is=a;break;case 22:i.memoizedState===null&&(a=i.alternate,a!==null&&a.memoizedState!==null?(a=pu,pu=16777216,Bl(i),pu=a):Bl(i));break;default:Bl(i)}}function _y(i){var a=i.alternate;if(a!==null&&(i=a.child,i!==null)){a.child=null;do a=i.sibling,i.sibling=null,i=a;while(i!==null)}}function xu(i){var a=i.deletions;if((i.flags&16)!==0){if(a!==null)for(var f=0;f<a.length;f++){var m=a[f];ii=m,Ry(m,i)}_y(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)Ny(i),i=i.sibling}function Ny(i){switch(i.tag){case 0:case 11:case 15:xu(i),i.flags&2048&&wa(9,i,i.return);break;case 3:xu(i);break;case 12:xu(i);break;case 22:var a=i.stateNode;i.memoizedState!==null&&a._visibility&2&&(i.return===null||i.return.tag!==13)?(a._visibility&=-3,wd(i)):xu(i);break;default:xu(i)}}function wd(i){var a=i.deletions;if((i.flags&16)!==0){if(a!==null)for(var f=0;f<a.length;f++){var m=a[f];ii=m,Ry(m,i)}_y(i)}for(i=i.child;i!==null;){switch(a=i,a.tag){case 0:case 11:case 15:wa(8,a,a.return),wd(a);break;case 22:f=a.stateNode,f._visibility&2&&(f._visibility&=-3,wd(a));break;default:wd(a)}i=i.sibling}}function Ry(i,a){for(;ii!==null;){var f=ii;switch(f.tag){case 0:case 11:case 15:wa(8,f,a);break;case 23:case 22:if(f.memoizedState!==null&&f.memoizedState.cachePool!==null){var m=f.memoizedState.cachePool.pool;m!=null&&m.refCount++}break;case 24:Jc(f.memoizedState.cache)}if(m=f.child,m!==null)m.return=f,ii=m;else e:for(f=i;ii!==null;){m=ii;var v=m.sibling,A=m.return;if(wy(m),m===f){ii=null;break e}if(v!==null){v.return=A,ii=v;break e}ii=A}}}var XC={getCacheForType:function(i){var a=bi(Xn),f=a.data.get(i);return f===void 0&&(f=i(),a.data.set(i,f)),f}},WC=typeof WeakMap=="function"?WeakMap:Map,Gt=0,an=null,Et=null,Ot=0,qt=0,ts=null,Sa=!1,Pl=!1,u1=!1,Br=0,Cn=0,Ca=0,Io=0,f1=0,ms=0,Ul=0,yu=null,Fi=null,d1=!1,h1=0,vd=1/0,Ed=null,Aa=null,ui=0,Ta=null,Fl=null,Vl=0,g1=0,m1=null,Oy=null,bu=0,p1=null;function ns(){if((Gt&2)!==0&&Ot!==0)return Ot&-Ot;if(se.T!==null){var i=Nl;return i!==0?i:S1()}return br()}function Iy(){ms===0&&(ms=(Ot&536870912)===0||Bt?cl():536870912);var i=gs.current;return i!==null&&(i.flags|=32),ms}function is(i,a,f){(i===an&&(qt===2||qt===9)||i.cancelPendingCommit!==null)&&(zl(i,0),_a(i,Ot,ms,!1)),Xi(i,f),((Gt&2)===0||i!==an)&&(i===an&&((Gt&2)===0&&(Io|=f),Cn===4&&_a(i,Ot,ms,!1)),lr(i))}function My(i,a,f){if((Gt&6)!==0)throw Error(r(327));var m=!f&&(a&124)===0&&(a&i.expiredLanes)===0||Wt(i,a),v=m?QC(i,a):b1(i,a,!0),A=m;do{if(v===0){Pl&&!m&&_a(i,a,0,!1);break}else{if(f=i.current.alternate,A&&!KC(f)){v=b1(i,a,!1),A=!1;continue}if(v===2){if(A=a,i.errorRecoveryDisabledLanes&A)var D=0;else D=i.pendingLanes&-536870913,D=D!==0?D:D&536870912?536870912:0;if(D!==0){a=D;e:{var F=i;v=yu;var Y=F.current.memoizedState.isDehydrated;if(Y&&(zl(F,D).flags|=256),D=b1(F,D,!1),D!==2){if(u1&&!Y){F.errorRecoveryDisabledLanes|=A,Io|=A,v=4;break e}A=Fi,Fi=v,A!==null&&(Fi===null?Fi=A:Fi.push.apply(Fi,A))}v=D}if(A=!1,v!==2)continue}}if(v===1){zl(i,0),_a(i,a,0,!0);break}e:{switch(m=i,A=v,A){case 0:case 1:throw Error(r(345));case 4:if((a&4194048)!==a)break;case 6:_a(m,a,ms,!Sa);break e;case 2:Fi=null;break;case 3:case 5:break;default:throw Error(r(329))}if((a&62914560)===a&&(v=h1+300-kt(),10<v)){if(_a(m,a,ms,!Sa),wt(m,0,!0)!==0)break e;m.timeoutHandle=o2(Dy.bind(null,m,f,Fi,Ed,d1,a,ms,Io,Ul,Sa,A,2,-0,0),v);break e}Dy(m,f,Fi,Ed,d1,a,ms,Io,Ul,Sa,A,0,-0,0)}}break}while(!0);lr(i)}function Dy(i,a,f,m,v,A,D,F,Y,fe,Se,Te,de,ge){if(i.timeoutHandle=-1,Te=a.subtreeFlags,(Te&8192||(Te&16785408)===16785408)&&(Tu={stylesheets:null,count:0,unsuspend:IA},Ty(a),Te=DA(),Te!==null)){i.cancelPendingCommit=Te(Fy.bind(null,i,a,A,f,m,v,D,F,Y,Se,1,de,ge)),_a(i,A,D,!fe);return}Fy(i,a,A,f,m,v,D,F,Y)}function KC(i){for(var a=i;;){var f=a.tag;if((f===0||f===11||f===15)&&a.flags&16384&&(f=a.updateQueue,f!==null&&(f=f.stores,f!==null)))for(var m=0;m<f.length;m++){var v=f[m],A=v.getSnapshot;v=v.value;try{if(!d(A(),v))return!1}catch{return!1}}if(f=a.child,a.subtreeFlags&16384&&f!==null)f.return=a,a=f;else{if(a===i)break;for(;a.sibling===null;){if(a.return===null||a.return===i)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function _a(i,a,f,m){a&=~f1,a&=~Io,i.suspendedLanes|=a,i.pingedLanes&=~a,m&&(i.warmLanes|=a),m=i.expirationTimes;for(var v=a;0<v;){var A=31-Tt(v),D=1<<A;m[A]=-1,v&=~D}f!==0&&Uc(i,f,a)}function Sd(){return(Gt&6)===0?(wu(0),!1):!0}function x1(){if(Et!==null){if(qt===0)var i=Et.return;else i=Et,Rr=Ao=null,L0(i),Ll=null,uu=0,i=Et;for(;i!==null;)dy(i.alternate,i),i=i.return;Et=null}}function zl(i,a){var f=i.timeoutHandle;f!==-1&&(i.timeoutHandle=-1,gA(f)),f=i.cancelPendingCommit,f!==null&&(i.cancelPendingCommit=null,f()),x1(),an=i,Et=f=Tr(i.current,null),Ot=a,qt=0,ts=null,Sa=!1,Pl=Wt(i,a),u1=!1,Ul=ms=f1=Io=Ca=Cn=0,Fi=yu=null,d1=!1,(a&8)!==0&&(a|=a&32);var m=i.entangledLanes;if(m!==0)for(i=i.entanglements,m&=a;0<m;){var v=31-Tt(m),A=1<<v;a|=i[v],m&=~A}return Br=a,Gf(),f}function Ly(i,a){pt=null,se.H=ud,a===tu||a===ed?(a=Zp(),qt=3):a===Xp?(a=Zp(),qt=4):qt=a===Qx?8:a!==null&&typeof a=="object"&&typeof a.then=="function"?6:1,ts=a,Et===null&&(Cn=1,md(i,us(a,i.current)))}function ky(){var i=se.H;return se.H=ud,i===null?ud:i}function jy(){var i=se.A;return se.A=XC,i}function y1(){Cn=4,Sa||(Ot&4194048)!==Ot&&gs.current!==null||(Pl=!0),(Ca&134217727)===0&&(Io&134217727)===0||an===null||_a(an,Ot,ms,!1)}function b1(i,a,f){var m=Gt;Gt|=2;var v=ky(),A=jy();(an!==i||Ot!==a)&&(Ed=null,zl(i,a)),a=!1;var D=Cn;e:do try{if(qt!==0&&Et!==null){var F=Et,Y=ts;switch(qt){case 8:x1(),D=6;break e;case 3:case 2:case 9:case 6:gs.current===null&&(a=!0);var fe=qt;if(qt=0,ts=null,Hl(i,F,Y,fe),f&&Pl){D=0;break e}break;default:fe=qt,qt=0,ts=null,Hl(i,F,Y,fe)}}ZC(),D=Cn;break}catch(Se){Ly(i,Se)}while(!0);return a&&i.shellSuspendCounter++,Rr=Ao=null,Gt=m,se.H=v,se.A=A,Et===null&&(an=null,Ot=0,Gf()),D}function ZC(){for(;Et!==null;)By(Et)}function QC(i,a){var f=Gt;Gt|=2;var m=ky(),v=jy();an!==i||Ot!==a?(Ed=null,vd=kt()+500,zl(i,a)):Pl=Wt(i,a);e:do try{if(qt!==0&&Et!==null){a=Et;var A=ts;t:switch(qt){case 1:qt=0,ts=null,Hl(i,a,A,1);break;case 2:case 9:if(Wp(A)){qt=0,ts=null,Py(a);break}a=function(){qt!==2&&qt!==9||an!==i||(qt=7),lr(i)},A.then(a,a);break e;case 3:qt=7;break e;case 4:qt=5;break e;case 7:Wp(A)?(qt=0,ts=null,Py(a)):(qt=0,ts=null,Hl(i,a,A,7));break;case 5:var D=null;switch(Et.tag){case 26:D=Et.memoizedState;case 5:case 27:var F=Et;if(!D||b2(D)){qt=0,ts=null;var Y=F.sibling;if(Y!==null)Et=Y;else{var fe=F.return;fe!==null?(Et=fe,Cd(fe)):Et=null}break t}}qt=0,ts=null,Hl(i,a,A,5);break;case 6:qt=0,ts=null,Hl(i,a,A,6);break;case 8:x1(),Cn=6;break e;default:throw Error(r(462))}}JC();break}catch(Se){Ly(i,Se)}while(!0);return Rr=Ao=null,se.H=m,se.A=v,Gt=f,Et!==null?0:(an=null,Ot=0,Gf(),Cn)}function JC(){for(;Et!==null&&!Ai();)By(Et)}function By(i){var a=uy(i.alternate,i,Br);i.memoizedProps=i.pendingProps,a===null?Cd(i):Et=a}function Py(i){var a=i,f=a.alternate;switch(a.tag){case 15:case 0:a=sy(f,a,a.pendingProps,a.type,void 0,Ot);break;case 11:a=sy(f,a,a.pendingProps,a.type.render,a.ref,Ot);break;case 5:L0(a);default:dy(f,a),a=Et=Up(a,Br),a=uy(f,a,Br)}i.memoizedProps=i.pendingProps,a===null?Cd(i):Et=a}function Hl(i,a,f,m){Rr=Ao=null,L0(a),Ll=null,uu=0;var v=a.return;try{if(zC(i,v,a,f,Ot)){Cn=1,md(i,us(f,i.current)),Et=null;return}}catch(A){if(v!==null)throw Et=v,A;Cn=1,md(i,us(f,i.current)),Et=null;return}a.flags&32768?(Bt||m===1?i=!0:Pl||(Ot&536870912)!==0?i=!1:(Sa=i=!0,(m===2||m===9||m===3||m===6)&&(m=gs.current,m!==null&&m.tag===13&&(m.flags|=16384))),Uy(a,i)):Cd(a)}function Cd(i){var a=i;do{if((a.flags&32768)!==0){Uy(a,Sa);return}i=a.return;var f=$C(a.alternate,a,Br);if(f!==null){Et=f;return}if(a=a.sibling,a!==null){Et=a;return}Et=a=i}while(a!==null);Cn===0&&(Cn=5)}function Uy(i,a){do{var f=GC(i.alternate,i);if(f!==null){f.flags&=32767,Et=f;return}if(f=i.return,f!==null&&(f.flags|=32768,f.subtreeFlags=0,f.deletions=null),!a&&(i=i.sibling,i!==null)){Et=i;return}Et=i=f}while(i!==null);Cn=6,Et=null}function Fy(i,a,f,m,v,A,D,F,Y){i.cancelPendingCommit=null;do Ad();while(ui!==0);if((Gt&6)!==0)throw Error(r(327));if(a!==null){if(a===i.current)throw Error(r(177));if(A=a.lanes|a.childLanes,A|=c0,Lf(i,f,A,D,F,Y),i===an&&(Et=an=null,Ot=0),Fl=a,Ta=i,Vl=f,g1=A,m1=v,Oy=m,(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,iA(Ne,function(){return Gy(),null})):(i.callbackNode=null,i.callbackPriority=0),m=(a.flags&13878)!==0,(a.subtreeFlags&13878)!==0||m){m=se.T,se.T=null,v=le.p,le.p=2,D=Gt,Gt|=4;try{qC(i,a,f)}finally{Gt=D,le.p=v,se.T=m}}ui=1,Vy(),zy(),Hy()}}function Vy(){if(ui===1){ui=0;var i=Ta,a=Fl,f=(a.flags&13878)!==0;if((a.subtreeFlags&13878)!==0||f){f=se.T,se.T=null;var m=le.p;le.p=2;var v=Gt;Gt|=4;try{Sy(a,i);var A=I1,D=_(i.containerInfo),F=A.focusedElem,Y=A.selectionRange;if(D!==F&&F&&F.ownerDocument&&S(F.ownerDocument.documentElement,F)){if(Y!==null&&I(F)){var fe=Y.start,Se=Y.end;if(Se===void 0&&(Se=fe),"selectionStart"in F)F.selectionStart=fe,F.selectionEnd=Math.min(Se,F.value.length);else{var Te=F.ownerDocument||document,de=Te&&Te.defaultView||window;if(de.getSelection){var ge=de.getSelection(),et=F.textContent.length,Ze=Math.min(Y.start,et),Qt=Y.end===void 0?Ze:Math.min(Y.end,et);!ge.extend&&Ze>Qt&&(D=Qt,Qt=Ze,Ze=D);var ie=w(F,Ze),J=w(F,Qt);if(ie&&J&&(ge.rangeCount!==1||ge.anchorNode!==ie.node||ge.anchorOffset!==ie.offset||ge.focusNode!==J.node||ge.focusOffset!==J.offset)){var ue=Te.createRange();ue.setStart(ie.node,ie.offset),ge.removeAllRanges(),Ze>Qt?(ge.addRange(ue),ge.extend(J.node,J.offset)):(ue.setEnd(J.node,J.offset),ge.addRange(ue))}}}}for(Te=[],ge=F;ge=ge.parentNode;)ge.nodeType===1&&Te.push({element:ge,left:ge.scrollLeft,top:ge.scrollTop});for(typeof F.focus=="function"&&F.focus(),F=0;F<Te.length;F++){var Ae=Te[F];Ae.element.scrollLeft=Ae.left,Ae.element.scrollTop=Ae.top}}Bd=!!O1,I1=O1=null}finally{Gt=v,le.p=m,se.T=f}}i.current=a,ui=2}}function zy(){if(ui===2){ui=0;var i=Ta,a=Fl,f=(a.flags&8772)!==0;if((a.subtreeFlags&8772)!==0||f){f=se.T,se.T=null;var m=le.p;le.p=2;var v=Gt;Gt|=4;try{by(i,a.alternate,a)}finally{Gt=v,le.p=m,se.T=f}}ui=3}}function Hy(){if(ui===4||ui===3){ui=0,$s();var i=Ta,a=Fl,f=Vl,m=Oy;(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?ui=5:(ui=0,Fl=Ta=null,$y(i,i.pendingLanes));var v=i.pendingLanes;if(v===0&&(Aa=null),jn(f),a=a.stateNode,un&&typeof un.onCommitFiberRoot=="function")try{un.onCommitFiberRoot(nn,a,void 0,(a.current.flags&128)===128)}catch{}if(m!==null){a=se.T,v=le.p,le.p=2,se.T=null;try{for(var A=i.onRecoverableError,D=0;D<m.length;D++){var F=m[D];A(F.value,{componentStack:F.stack})}}finally{se.T=a,le.p=v}}(Vl&3)!==0&&Ad(),lr(i),v=i.pendingLanes,(f&4194090)!==0&&(v&42)!==0?i===p1?bu++:(bu=0,p1=i):bu=0,wu(0)}}function $y(i,a){(i.pooledCacheLanes&=a)===0&&(a=i.pooledCache,a!=null&&(i.pooledCache=null,Jc(a)))}function Ad(i){return Vy(),zy(),Hy(),Gy()}function Gy(){if(ui!==5)return!1;var i=Ta,a=g1;g1=0;var f=jn(Vl),m=se.T,v=le.p;try{le.p=32>f?32:f,se.T=null,f=m1,m1=null;var A=Ta,D=Vl;if(ui=0,Fl=Ta=null,Vl=0,(Gt&6)!==0)throw Error(r(331));var F=Gt;if(Gt|=4,Ny(A.current),Ay(A,A.current,D,f),Gt=F,wu(0,!1),un&&typeof un.onPostCommitFiberRoot=="function")try{un.onPostCommitFiberRoot(nn,A)}catch{}return!0}finally{le.p=v,se.T=m,$y(i,a)}}function qy(i,a,f){a=us(f,a),a=X0(i.stateNode,a,2),i=pa(i,a,2),i!==null&&(Xi(i,2),lr(i))}function en(i,a,f){if(i.tag===3)qy(i,i,f);else for(;a!==null;){if(a.tag===3){qy(a,i,f);break}else if(a.tag===1){var m=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof m.componentDidCatch=="function"&&(Aa===null||!Aa.has(m))){i=us(f,i),f=Kx(2),m=pa(a,f,2),m!==null&&(Zx(f,m,a,i),Xi(m,2),lr(m));break}}a=a.return}}function w1(i,a,f){var m=i.pingCache;if(m===null){m=i.pingCache=new WC;var v=new Set;m.set(a,v)}else v=m.get(a),v===void 0&&(v=new Set,m.set(a,v));v.has(f)||(u1=!0,v.add(f),i=eA.bind(null,i,a,f),a.then(i,i))}function eA(i,a,f){var m=i.pingCache;m!==null&&m.delete(a),i.pingedLanes|=i.suspendedLanes&f,i.warmLanes&=~f,an===i&&(Ot&f)===f&&(Cn===4||Cn===3&&(Ot&62914560)===Ot&&300>kt()-h1?(Gt&2)===0&&zl(i,0):f1|=f,Ul===Ot&&(Ul=0)),lr(i)}function Yy(i,a){a===0&&(a=Pc()),i=Cl(i,a),i!==null&&(Xi(i,a),lr(i))}function tA(i){var a=i.memoizedState,f=0;a!==null&&(f=a.retryLane),Yy(i,f)}function nA(i,a){var f=0;switch(i.tag){case 13:var m=i.stateNode,v=i.memoizedState;v!==null&&(f=v.retryLane);break;case 19:m=i.stateNode;break;case 22:m=i.stateNode._retryCache;break;default:throw Error(r(314))}m!==null&&m.delete(a),Yy(i,f)}function iA(i,a){return Je(i,a)}var Td=null,$l=null,v1=!1,_d=!1,E1=!1,Mo=0;function lr(i){i!==$l&&i.next===null&&($l===null?Td=$l=i:$l=$l.next=i),_d=!0,v1||(v1=!0,rA())}function wu(i,a){if(!E1&&_d){E1=!0;do for(var f=!1,m=Td;m!==null;){if(i!==0){var v=m.pendingLanes;if(v===0)var A=0;else{var D=m.suspendedLanes,F=m.pingedLanes;A=(1<<31-Tt(42|i)+1)-1,A&=v&~(D&~F),A=A&201326741?A&201326741|1:A?A|2:0}A!==0&&(f=!0,Zy(m,A))}else A=Ot,A=wt(m,m===an?A:0,m.cancelPendingCommit!==null||m.timeoutHandle!==-1),(A&3)===0||Wt(m,A)||(f=!0,Zy(m,A));m=m.next}while(f);E1=!1}}function sA(){Xy()}function Xy(){_d=v1=!1;var i=0;Mo!==0&&(hA()&&(i=Mo),Mo=0);for(var a=kt(),f=null,m=Td;m!==null;){var v=m.next,A=Wy(m,a);A===0?(m.next=null,f===null?Td=v:f.next=v,v===null&&($l=f)):(f=m,(i!==0||(A&3)!==0)&&(_d=!0)),m=v}wu(i)}function Wy(i,a){for(var f=i.suspendedLanes,m=i.pingedLanes,v=i.expirationTimes,A=i.pendingLanes&-62914561;0<A;){var D=31-Tt(A),F=1<<D,Y=v[D];Y===-1?((F&f)===0||(F&m)!==0)&&(v[D]=oo(F,a)):Y<=a&&(i.expiredLanes|=F),A&=~F}if(a=an,f=Ot,f=wt(i,i===a?f:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),m=i.callbackNode,f===0||i===a&&(qt===2||qt===9)||i.cancelPendingCommit!==null)return m!==null&&m!==null&&Di(m),i.callbackNode=null,i.callbackPriority=0;if((f&3)===0||Wt(i,f)){if(a=f&-f,a===i.callbackPriority)return a;switch(m!==null&&Di(m),jn(f)){case 2:case 8:f=yt;break;case 32:f=Ne;break;case 268435456:f=It;break;default:f=Ne}return m=Ky.bind(null,i),f=Je(f,m),i.callbackPriority=a,i.callbackNode=f,a}return m!==null&&m!==null&&Di(m),i.callbackPriority=2,i.callbackNode=null,2}function Ky(i,a){if(ui!==0&&ui!==5)return i.callbackNode=null,i.callbackPriority=0,null;var f=i.callbackNode;if(Ad()&&i.callbackNode!==f)return null;var m=Ot;return m=wt(i,i===an?m:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),m===0?null:(My(i,m,a),Wy(i,kt()),i.callbackNode!=null&&i.callbackNode===f?Ky.bind(null,i):null)}function Zy(i,a){if(Ad())return null;My(i,a,!0)}function rA(){mA(function(){(Gt&6)!==0?Je(Ee,sA):Xy()})}function S1(){return Mo===0&&(Mo=cl()),Mo}function Qy(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:ml(""+i)}function Jy(i,a){var f=a.ownerDocument.createElement("input");return f.name=a.name,f.value=a.value,i.id&&f.setAttribute("form",i.id),a.parentNode.insertBefore(f,a),i=new FormData(i),f.parentNode.removeChild(f),i}function aA(i,a,f,m,v){if(a==="submit"&&f&&f.stateNode===v){var A=Qy((v[wn]||null).action),D=m.submitter;D&&(a=(a=D[wn]||null)?Qy(a.formAction):D.getAttribute("formAction"),a!==null&&(A=a,D=null));var F=new er("action","action",null,m,v);i.push({event:F,listeners:[{instance:null,listener:function(){if(m.defaultPrevented){if(Mo!==0){var Y=D?Jy(v,D):new FormData(v);H0(f,{pending:!0,data:Y,method:v.method,action:A},null,Y)}}else typeof A=="function"&&(F.preventDefault(),Y=D?Jy(v,D):new FormData(v),H0(f,{pending:!0,data:Y,method:v.method,action:A},A,Y))},currentTarget:v}]})}}for(var C1=0;C1<ir.length;C1++){var A1=ir[C1],oA=A1.toLowerCase(),lA=A1[0].toUpperCase()+A1.slice(1);Zi(oA,"on"+lA)}Zi(rt,"onAnimationEnd"),Zi(li,"onAnimationIteration"),Zi(Bi,"onAnimationStart"),Zi("dblclick","onDoubleClick"),Zi("focusin","onFocus"),Zi("focusout","onBlur"),Zi(xi,"onTransitionRun"),Zi($t,"onTransitionStart"),Zi(Yn,"onTransitionCancel"),Zi(yi,"onTransitionEnd"),vn("onMouseEnter",["mouseout","mouseover"]),vn("onMouseLeave",["mouseout","mouseover"]),vn("onPointerEnter",["pointerout","pointerover"]),vn("onPointerLeave",["pointerout","pointerover"]),ti("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ti("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ti("onBeforeInput",["compositionend","keypress","textInput","paste"]),ti("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ti("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ti("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var vu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),cA=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(vu));function e2(i,a){a=(a&4)!==0;for(var f=0;f<i.length;f++){var m=i[f],v=m.event;m=m.listeners;e:{var A=void 0;if(a)for(var D=m.length-1;0<=D;D--){var F=m[D],Y=F.instance,fe=F.currentTarget;if(F=F.listener,Y!==A&&v.isPropagationStopped())break e;A=F,v.currentTarget=fe;try{A(v)}catch(Se){gd(Se)}v.currentTarget=null,A=Y}else for(D=0;D<m.length;D++){if(F=m[D],Y=F.instance,fe=F.currentTarget,F=F.listener,Y!==A&&v.isPropagationStopped())break e;A=F,v.currentTarget=fe;try{A(v)}catch(Se){gd(Se)}v.currentTarget=null,A=Y}}}}function St(i,a){var f=a[ei];f===void 0&&(f=a[ei]=new Set);var m=i+"__bubble";f.has(m)||(t2(a,i,2,!1),f.add(m))}function T1(i,a,f){var m=0;a&&(m|=4),t2(f,i,m,a)}var Nd="_reactListening"+Math.random().toString(36).slice(2);function _1(i){if(!i[Nd]){i[Nd]=!0,kf.forEach(function(f){f!=="selectionchange"&&(cA.has(f)||T1(f,!1,i),T1(f,!0,i))});var a=i.nodeType===9?i:i.ownerDocument;a===null||a[Nd]||(a[Nd]=!0,T1("selectionchange",!1,a))}}function t2(i,a,f,m){switch(A2(a)){case 2:var v=jA;break;case 8:v=BA;break;default:v=V1}f=v.bind(null,a,f,i),v=void 0,!at||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(v=!0),m?v!==void 0?i.addEventListener(a,f,{capture:!0,passive:v}):i.addEventListener(a,f,!0):v!==void 0?i.addEventListener(a,f,{passive:v}):i.addEventListener(a,f,!1)}function N1(i,a,f,m,v){var A=m;if((a&1)===0&&(a&2)===0&&m!==null)e:for(;;){if(m===null)return;var D=m.tag;if(D===3||D===4){var F=m.stateNode.containerInfo;if(F===v)break;if(D===4)for(D=m.return;D!==null;){var Y=D.tag;if((Y===3||Y===4)&&D.stateNode.containerInfo===v)return;D=D.return}for(;F!==null;){if(D=Nn(F),D===null)return;if(Y=D.tag,Y===5||Y===6||Y===26||Y===27){m=A=D;continue e}F=F.parentNode}}m=m.return}Ns(function(){var fe=A,Se=na(f),Te=[];e:{var de=Ar.get(i);if(de!==void 0){var ge=er,et=i;switch(i){case"keypress":if(pl(f)===0)break e;case"keydown":case"keyup":ge=Hc;break;case"focusin":et="focus",ge=aa;break;case"focusout":et="blur",ge=aa;break;case"beforeblur":case"afterblur":ge=aa;break;case"click":if(f.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ge=Uf;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ge=Ft;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ge=Ht;break;case rt:case li:case Bi:ge=t0;break;case yi:ge=r0;break;case"scroll":case"scrollend":ge=mi;break;case"wheel":ge=Sr;break;case"copy":case"cut":case"paste":ge=ut;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ge=po;break;case"toggle":case"beforetoggle":ge=a0}var Ze=(a&4)!==0,Qt=!Ze&&(i==="scroll"||i==="scrollend"),ie=Ze?de!==null?de+"Capture":null:de;Ze=[];for(var J=fe,ue;J!==null;){var Ae=J;if(ue=Ae.stateNode,Ae=Ae.tag,Ae!==5&&Ae!==26&&Ae!==27||ue===null||ie===null||(Ae=Xe(J,ie),Ae!=null&&Ze.push(Eu(J,Ae,ue))),Qt)break;J=J.return}0<Ze.length&&(de=new ge(de,et,null,f,Se),Te.push({event:de,listeners:Ze}))}}if((a&7)===0){e:{if(de=i==="mouseover"||i==="pointerover",ge=i==="mouseout"||i==="pointerout",de&&f!==uo&&(et=f.relatedTarget||f.fromElement)&&(Nn(et)||et[Gs]))break e;if((ge||de)&&(de=Se.window===Se?Se:(de=Se.ownerDocument)?de.defaultView||de.parentWindow:window,ge?(et=f.relatedTarget||f.toElement,ge=fe,et=et?Nn(et):null,et!==null&&(Qt=u(et),Ze=et.tag,et!==Qt||Ze!==5&&Ze!==27&&Ze!==6)&&(et=null)):(ge=null,et=fe),ge!==et)){if(Ze=Uf,Ae="onMouseLeave",ie="onMouseEnter",J="mouse",(i==="pointerout"||i==="pointerover")&&(Ze=po,Ae="onPointerLeave",ie="onPointerEnter",J="pointer"),Qt=ge==null?de:qs(ge),ue=et==null?de:qs(et),de=new Ze(Ae,J+"leave",ge,f,Se),de.target=Qt,de.relatedTarget=ue,Ae=null,Nn(Se)===fe&&(Ze=new Ze(ie,J+"enter",et,f,Se),Ze.target=ue,Ze.relatedTarget=Qt,Ae=Ze),Qt=Ae,ge&&et)t:{for(Ze=ge,ie=et,J=0,ue=Ze;ue;ue=Gl(ue))J++;for(ue=0,Ae=ie;Ae;Ae=Gl(Ae))ue++;for(;0<J-ue;)Ze=Gl(Ze),J--;for(;0<ue-J;)ie=Gl(ie),ue--;for(;J--;){if(Ze===ie||ie!==null&&Ze===ie.alternate)break t;Ze=Gl(Ze),ie=Gl(ie)}Ze=null}else Ze=null;ge!==null&&n2(Te,de,ge,Ze,!1),et!==null&&Qt!==null&&n2(Te,Qt,et,Ze,!0)}}e:{if(de=fe?qs(fe):window,ge=de.nodeName&&de.nodeName.toLowerCase(),ge==="select"||ge==="input"&&de.type==="file")var $e=Hf;else if(bo(de))if(Yc)$e=o;else{$e=L;var bt=El}else ge=de.nodeName,!ge||ge.toLowerCase()!=="input"||de.type!=="checkbox"&&de.type!=="radio"?fe&&qe(fe.elementType)&&($e=Hf):$e=s;if($e&&($e=$e(i,fe))){_i(Te,$e,f,Se);break e}bt&&bt(i,de,fe),i==="focusout"&&fe&&de.type==="number"&&fe.memoizedProps.value!=null&&ce(de,"number",de.value)}switch(bt=fe?qs(fe):window,i){case"focusin":(bo(bt)||bt.contentEditable==="true")&&(P=bt,G=fe,K=null);break;case"focusout":K=G=P=null;break;case"mousedown":Q=!0;break;case"contextmenu":case"mouseup":case"dragend":Q=!1,ae(Te,f,Se);break;case"selectionchange":if(k)break;case"keydown":case"keyup":ae(Te,f,Se)}var Ye;if(xo)e:{switch(i){case"compositionstart":var Qe="onCompositionStart";break e;case"compositionend":Qe="onCompositionEnd";break e;case"compositionupdate":Qe="onCompositionUpdate";break e}Qe=void 0}else ca?Cr(i,f)&&(Qe="onCompositionEnd"):i==="keydown"&&f.keyCode===229&&(Qe="onCompositionStart");Qe&&(Gc&&f.locale!=="ko"&&(ca||Qe!=="onCompositionStart"?Qe==="onCompositionEnd"&&ca&&(Ye=Zs()):(Ks=Se,fo="value"in Ks?Ks.value:Ks.textContent,ca=!0)),bt=Rd(fe,Qe),0<bt.length&&(Qe=new go(Qe,i,null,f,Se),Te.push({event:Qe,listeners:bt}),Ye?Qe.data=Ye:(Ye=wl(f),Ye!==null&&(Qe.data=Ye)))),(Ye=$c?yo(i,f):o0(i,f))&&(Qe=Rd(fe,"onBeforeInput"),0<Qe.length&&(bt=new go("onBeforeInput","beforeinput",null,f,Se),Te.push({event:bt,listeners:Qe}),bt.data=Ye)),aA(Te,i,fe,f,Se)}e2(Te,a)})}function Eu(i,a,f){return{instance:i,listener:a,currentTarget:f}}function Rd(i,a){for(var f=a+"Capture",m=[];i!==null;){var v=i,A=v.stateNode;if(v=v.tag,v!==5&&v!==26&&v!==27||A===null||(v=Xe(i,f),v!=null&&m.unshift(Eu(i,v,A)),v=Xe(i,a),v!=null&&m.push(Eu(i,v,A))),i.tag===3)return m;i=i.return}return[]}function Gl(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function n2(i,a,f,m,v){for(var A=a._reactName,D=[];f!==null&&f!==m;){var F=f,Y=F.alternate,fe=F.stateNode;if(F=F.tag,Y!==null&&Y===m)break;F!==5&&F!==26&&F!==27||fe===null||(Y=fe,v?(fe=Xe(f,A),fe!=null&&D.unshift(Eu(f,fe,Y))):v||(fe=Xe(f,A),fe!=null&&D.push(Eu(f,fe,Y)))),f=f.return}D.length!==0&&i.push({event:a,listeners:D})}var uA=/\r\n?/g,fA=/\u0000|\uFFFD/g;function i2(i){return(typeof i=="string"?i:""+i).replace(uA,`
`).replace(fA,"")}function s2(i,a){return a=i2(a),i2(i)===a}function Od(){}function Zt(i,a,f,m,v,A){switch(f){case"children":typeof m=="string"?a==="body"||a==="textarea"&&m===""||Gn(i,m):(typeof m=="number"||typeof m=="bigint")&&a!=="body"&&Gn(i,""+m);break;case"className":fl(i,"class",m);break;case"tabIndex":fl(i,"tabindex",m);break;case"dir":case"role":case"viewBox":case"width":case"height":fl(i,f,m);break;case"style":Ti(i,m,A);break;case"data":if(a!=="object"){fl(i,"data",m);break}case"src":case"href":if(m===""&&(a!=="a"||f!=="href")){i.removeAttribute(f);break}if(m==null||typeof m=="function"||typeof m=="symbol"||typeof m=="boolean"){i.removeAttribute(f);break}m=ml(""+m),i.setAttribute(f,m);break;case"action":case"formAction":if(typeof m=="function"){i.setAttribute(f,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof A=="function"&&(f==="formAction"?(a!=="input"&&Zt(i,a,"name",v.name,v,null),Zt(i,a,"formEncType",v.formEncType,v,null),Zt(i,a,"formMethod",v.formMethod,v,null),Zt(i,a,"formTarget",v.formTarget,v,null)):(Zt(i,a,"encType",v.encType,v,null),Zt(i,a,"method",v.method,v,null),Zt(i,a,"target",v.target,v,null)));if(m==null||typeof m=="symbol"||typeof m=="boolean"){i.removeAttribute(f);break}m=ml(""+m),i.setAttribute(f,m);break;case"onClick":m!=null&&(i.onclick=Od);break;case"onScroll":m!=null&&St("scroll",i);break;case"onScrollEnd":m!=null&&St("scrollend",i);break;case"dangerouslySetInnerHTML":if(m!=null){if(typeof m!="object"||!("__html"in m))throw Error(r(61));if(f=m.__html,f!=null){if(v.children!=null)throw Error(r(60));i.innerHTML=f}}break;case"multiple":i.multiple=m&&typeof m!="function"&&typeof m!="symbol";break;case"muted":i.muted=m&&typeof m!="function"&&typeof m!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(m==null||typeof m=="function"||typeof m=="boolean"||typeof m=="symbol"){i.removeAttribute("xlink:href");break}f=ml(""+m),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",f);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":m!=null&&typeof m!="function"&&typeof m!="symbol"?i.setAttribute(f,""+m):i.removeAttribute(f);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":m&&typeof m!="function"&&typeof m!="symbol"?i.setAttribute(f,""):i.removeAttribute(f);break;case"capture":case"download":m===!0?i.setAttribute(f,""):m!==!1&&m!=null&&typeof m!="function"&&typeof m!="symbol"?i.setAttribute(f,m):i.removeAttribute(f);break;case"cols":case"rows":case"size":case"span":m!=null&&typeof m!="function"&&typeof m!="symbol"&&!isNaN(m)&&1<=m?i.setAttribute(f,m):i.removeAttribute(f);break;case"rowSpan":case"start":m==null||typeof m=="function"||typeof m=="symbol"||isNaN(m)?i.removeAttribute(f):i.setAttribute(f,m);break;case"popover":St("beforetoggle",i),St("toggle",i),_e(i,"popover",m);break;case"xlinkActuate":Dt(i,"http://www.w3.org/1999/xlink","xlink:actuate",m);break;case"xlinkArcrole":Dt(i,"http://www.w3.org/1999/xlink","xlink:arcrole",m);break;case"xlinkRole":Dt(i,"http://www.w3.org/1999/xlink","xlink:role",m);break;case"xlinkShow":Dt(i,"http://www.w3.org/1999/xlink","xlink:show",m);break;case"xlinkTitle":Dt(i,"http://www.w3.org/1999/xlink","xlink:title",m);break;case"xlinkType":Dt(i,"http://www.w3.org/1999/xlink","xlink:type",m);break;case"xmlBase":Dt(i,"http://www.w3.org/XML/1998/namespace","xml:base",m);break;case"xmlLang":Dt(i,"http://www.w3.org/XML/1998/namespace","xml:lang",m);break;case"xmlSpace":Dt(i,"http://www.w3.org/XML/1998/namespace","xml:space",m);break;case"is":_e(i,"is",m);break;case"innerText":case"textContent":break;default:(!(2<f.length)||f[0]!=="o"&&f[0]!=="O"||f[1]!=="n"&&f[1]!=="N")&&(f=ln.get(f)||f,_e(i,f,m))}}function R1(i,a,f,m,v,A){switch(f){case"style":Ti(i,m,A);break;case"dangerouslySetInnerHTML":if(m!=null){if(typeof m!="object"||!("__html"in m))throw Error(r(61));if(f=m.__html,f!=null){if(v.children!=null)throw Error(r(60));i.innerHTML=f}}break;case"children":typeof m=="string"?Gn(i,m):(typeof m=="number"||typeof m=="bigint")&&Gn(i,""+m);break;case"onScroll":m!=null&&St("scroll",i);break;case"onScrollEnd":m!=null&&St("scrollend",i);break;case"onClick":m!=null&&(i.onclick=Od);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!jf.hasOwnProperty(f))e:{if(f[0]==="o"&&f[1]==="n"&&(v=f.endsWith("Capture"),a=f.slice(2,v?f.length-7:void 0),A=i[wn]||null,A=A!=null?A[f]:null,typeof A=="function"&&i.removeEventListener(a,A,v),typeof m=="function")){typeof A!="function"&&A!==null&&(f in i?i[f]=null:i.hasAttribute(f)&&i.removeAttribute(f)),i.addEventListener(a,m,v);break e}f in i?i[f]=m:m===!0?i.setAttribute(f,""):_e(i,f,m)}}}function fi(i,a,f){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":St("error",i),St("load",i);var m=!1,v=!1,A;for(A in f)if(f.hasOwnProperty(A)){var D=f[A];if(D!=null)switch(A){case"src":m=!0;break;case"srcSet":v=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,a));default:Zt(i,a,A,D,f,null)}}v&&Zt(i,a,"srcSet",f.srcSet,f,null),m&&Zt(i,a,"src",f.src,f,null);return;case"input":St("invalid",i);var F=A=D=v=null,Y=null,fe=null;for(m in f)if(f.hasOwnProperty(m)){var Se=f[m];if(Se!=null)switch(m){case"name":v=Se;break;case"type":D=Se;break;case"checked":Y=Se;break;case"defaultChecked":fe=Se;break;case"value":A=Se;break;case"defaultValue":F=Se;break;case"children":case"dangerouslySetInnerHTML":if(Se!=null)throw Error(r(137,a));break;default:Zt(i,a,m,Se,f,null)}}$n(i,A,F,Y,fe,D,v,!1),hl(i);return;case"select":St("invalid",i),m=D=A=null;for(v in f)if(f.hasOwnProperty(v)&&(F=f[v],F!=null))switch(v){case"value":A=F;break;case"defaultValue":D=F;break;case"multiple":m=F;default:Zt(i,a,v,F,f,null)}a=A,f=D,i.multiple=!!m,a!=null?H(i,!!m,a,!1):f!=null&&H(i,!!m,f,!0);return;case"textarea":St("invalid",i),A=v=m=null;for(D in f)if(f.hasOwnProperty(D)&&(F=f[D],F!=null))switch(D){case"value":m=F;break;case"defaultValue":v=F;break;case"children":A=F;break;case"dangerouslySetInnerHTML":if(F!=null)throw Error(r(91));break;default:Zt(i,a,D,F,f,null)}Rn(i,m,v,A),hl(i);return;case"option":for(Y in f)if(f.hasOwnProperty(Y)&&(m=f[Y],m!=null))switch(Y){case"selected":i.selected=m&&typeof m!="function"&&typeof m!="symbol";break;default:Zt(i,a,Y,m,f,null)}return;case"dialog":St("beforetoggle",i),St("toggle",i),St("cancel",i),St("close",i);break;case"iframe":case"object":St("load",i);break;case"video":case"audio":for(m=0;m<vu.length;m++)St(vu[m],i);break;case"image":St("error",i),St("load",i);break;case"details":St("toggle",i);break;case"embed":case"source":case"link":St("error",i),St("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(fe in f)if(f.hasOwnProperty(fe)&&(m=f[fe],m!=null))switch(fe){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,a));default:Zt(i,a,fe,m,f,null)}return;default:if(qe(a)){for(Se in f)f.hasOwnProperty(Se)&&(m=f[Se],m!==void 0&&R1(i,a,Se,m,f,void 0));return}}for(F in f)f.hasOwnProperty(F)&&(m=f[F],m!=null&&Zt(i,a,F,m,f,null))}function dA(i,a,f,m){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var v=null,A=null,D=null,F=null,Y=null,fe=null,Se=null;for(ge in f){var Te=f[ge];if(f.hasOwnProperty(ge)&&Te!=null)switch(ge){case"checked":break;case"value":break;case"defaultValue":Y=Te;default:m.hasOwnProperty(ge)||Zt(i,a,ge,null,m,Te)}}for(var de in m){var ge=m[de];if(Te=f[de],m.hasOwnProperty(de)&&(ge!=null||Te!=null))switch(de){case"type":A=ge;break;case"name":v=ge;break;case"checked":fe=ge;break;case"defaultChecked":Se=ge;break;case"value":D=ge;break;case"defaultValue":F=ge;break;case"children":case"dangerouslySetInnerHTML":if(ge!=null)throw Error(r(137,a));break;default:ge!==Te&&Zt(i,a,de,ge,m,Te)}}Ut(i,D,F,Y,fe,Se,A,v);return;case"select":ge=D=F=de=null;for(A in f)if(Y=f[A],f.hasOwnProperty(A)&&Y!=null)switch(A){case"value":break;case"multiple":ge=Y;default:m.hasOwnProperty(A)||Zt(i,a,A,null,m,Y)}for(v in m)if(A=m[v],Y=f[v],m.hasOwnProperty(v)&&(A!=null||Y!=null))switch(v){case"value":de=A;break;case"defaultValue":F=A;break;case"multiple":D=A;default:A!==Y&&Zt(i,a,v,A,m,Y)}a=F,f=D,m=ge,de!=null?H(i,!!f,de,!1):!!m!=!!f&&(a!=null?H(i,!!f,a,!0):H(i,!!f,f?[]:"",!1));return;case"textarea":ge=de=null;for(F in f)if(v=f[F],f.hasOwnProperty(F)&&v!=null&&!m.hasOwnProperty(F))switch(F){case"value":break;case"children":break;default:Zt(i,a,F,null,m,v)}for(D in m)if(v=m[D],A=f[D],m.hasOwnProperty(D)&&(v!=null||A!=null))switch(D){case"value":de=v;break;case"defaultValue":ge=v;break;case"children":break;case"dangerouslySetInnerHTML":if(v!=null)throw Error(r(91));break;default:v!==A&&Zt(i,a,D,v,m,A)}Ge(i,de,ge);return;case"option":for(var et in f)if(de=f[et],f.hasOwnProperty(et)&&de!=null&&!m.hasOwnProperty(et))switch(et){case"selected":i.selected=!1;break;default:Zt(i,a,et,null,m,de)}for(Y in m)if(de=m[Y],ge=f[Y],m.hasOwnProperty(Y)&&de!==ge&&(de!=null||ge!=null))switch(Y){case"selected":i.selected=de&&typeof de!="function"&&typeof de!="symbol";break;default:Zt(i,a,Y,de,m,ge)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ze in f)de=f[Ze],f.hasOwnProperty(Ze)&&de!=null&&!m.hasOwnProperty(Ze)&&Zt(i,a,Ze,null,m,de);for(fe in m)if(de=m[fe],ge=f[fe],m.hasOwnProperty(fe)&&de!==ge&&(de!=null||ge!=null))switch(fe){case"children":case"dangerouslySetInnerHTML":if(de!=null)throw Error(r(137,a));break;default:Zt(i,a,fe,de,m,ge)}return;default:if(qe(a)){for(var Qt in f)de=f[Qt],f.hasOwnProperty(Qt)&&de!==void 0&&!m.hasOwnProperty(Qt)&&R1(i,a,Qt,void 0,m,de);for(Se in m)de=m[Se],ge=f[Se],!m.hasOwnProperty(Se)||de===ge||de===void 0&&ge===void 0||R1(i,a,Se,de,m,ge);return}}for(var ie in f)de=f[ie],f.hasOwnProperty(ie)&&de!=null&&!m.hasOwnProperty(ie)&&Zt(i,a,ie,null,m,de);for(Te in m)de=m[Te],ge=f[Te],!m.hasOwnProperty(Te)||de===ge||de==null&&ge==null||Zt(i,a,Te,de,m,ge)}var O1=null,I1=null;function Id(i){return i.nodeType===9?i:i.ownerDocument}function r2(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function a2(i,a){if(i===0)switch(a){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&a==="foreignObject"?0:i}function M1(i,a){return i==="textarea"||i==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.children=="bigint"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var D1=null;function hA(){var i=window.event;return i&&i.type==="popstate"?i===D1?!1:(D1=i,!0):(D1=null,!1)}var o2=typeof setTimeout=="function"?setTimeout:void 0,gA=typeof clearTimeout=="function"?clearTimeout:void 0,l2=typeof Promise=="function"?Promise:void 0,mA=typeof queueMicrotask=="function"?queueMicrotask:typeof l2<"u"?function(i){return l2.resolve(null).then(i).catch(pA)}:o2;function pA(i){setTimeout(function(){throw i})}function Na(i){return i==="head"}function c2(i,a){var f=a,m=0,v=0;do{var A=f.nextSibling;if(i.removeChild(f),A&&A.nodeType===8)if(f=A.data,f==="/$"){if(0<m&&8>m){f=m;var D=i.ownerDocument;if(f&1&&Su(D.documentElement),f&2&&Su(D.body),f&4)for(f=D.head,Su(f),D=f.firstChild;D;){var F=D.nextSibling,Y=D.nodeName;D[ls]||Y==="SCRIPT"||Y==="STYLE"||Y==="LINK"&&D.rel.toLowerCase()==="stylesheet"||f.removeChild(D),D=F}}if(v===0){i.removeChild(A),Iu(a);return}v--}else f==="$"||f==="$?"||f==="$!"?v++:m=f.charCodeAt(0)-48;else m=0;f=A}while(f);Iu(a)}function L1(i){var a=i.firstChild;for(a&&a.nodeType===10&&(a=a.nextSibling);a;){var f=a;switch(a=a.nextSibling,f.nodeName){case"HTML":case"HEAD":case"BODY":L1(f),co(f);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(f.rel.toLowerCase()==="stylesheet")continue}i.removeChild(f)}}function xA(i,a,f,m){for(;i.nodeType===1;){var v=f;if(i.nodeName.toLowerCase()!==a.toLowerCase()){if(!m&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(m){if(!i[ls])switch(a){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(A=i.getAttribute("rel"),A==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(A!==v.rel||i.getAttribute("href")!==(v.href==null||v.href===""?null:v.href)||i.getAttribute("crossorigin")!==(v.crossOrigin==null?null:v.crossOrigin)||i.getAttribute("title")!==(v.title==null?null:v.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(A=i.getAttribute("src"),(A!==(v.src==null?null:v.src)||i.getAttribute("type")!==(v.type==null?null:v.type)||i.getAttribute("crossorigin")!==(v.crossOrigin==null?null:v.crossOrigin))&&A&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(a==="input"&&i.type==="hidden"){var A=v.name==null?null:""+v.name;if(v.type==="hidden"&&i.getAttribute("name")===A)return i}else return i;if(i=Ms(i.nextSibling),i===null)break}return null}function yA(i,a,f){if(a==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!f||(i=Ms(i.nextSibling),i===null))return null;return i}function k1(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState==="complete"}function bA(i,a){var f=i.ownerDocument;if(i.data!=="$?"||f.readyState==="complete")a();else{var m=function(){a(),f.removeEventListener("DOMContentLoaded",m)};f.addEventListener("DOMContentLoaded",m),i._reactRetry=m}}function Ms(i){for(;i!=null;i=i.nextSibling){var a=i.nodeType;if(a===1||a===3)break;if(a===8){if(a=i.data,a==="$"||a==="$!"||a==="$?"||a==="F!"||a==="F")break;if(a==="/$")return null}}return i}var j1=null;function u2(i){i=i.previousSibling;for(var a=0;i;){if(i.nodeType===8){var f=i.data;if(f==="$"||f==="$!"||f==="$?"){if(a===0)return i;a--}else f==="/$"&&a++}i=i.previousSibling}return null}function f2(i,a,f){switch(a=Id(f),i){case"html":if(i=a.documentElement,!i)throw Error(r(452));return i;case"head":if(i=a.head,!i)throw Error(r(453));return i;case"body":if(i=a.body,!i)throw Error(r(454));return i;default:throw Error(r(451))}}function Su(i){for(var a=i.attributes;a.length;)i.removeAttributeNode(a[0]);co(i)}var ps=new Map,d2=new Set;function Md(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var Pr=le.d;le.d={f:wA,r:vA,D:EA,C:SA,L:CA,m:AA,X:_A,S:TA,M:NA};function wA(){var i=Pr.f(),a=Sd();return i||a}function vA(i){var a=Wi(i);a!==null&&a.tag===5&&a.type==="form"?Mx(a):Pr.r(i)}var ql=typeof document>"u"?null:document;function h2(i,a,f){var m=ql;if(m&&typeof a=="string"&&a){var v=Hn(a);v='link[rel="'+i+'"][href="'+v+'"]',typeof f=="string"&&(v+='[crossorigin="'+f+'"]'),d2.has(v)||(d2.add(v),i={rel:i,crossOrigin:f,href:a},m.querySelector(v)===null&&(a=m.createElement("link"),fi(a,"link",i),zt(a),m.head.appendChild(a)))}}function EA(i){Pr.D(i),h2("dns-prefetch",i,null)}function SA(i,a){Pr.C(i,a),h2("preconnect",i,a)}function CA(i,a,f){Pr.L(i,a,f);var m=ql;if(m&&i&&a){var v='link[rel="preload"][as="'+Hn(a)+'"]';a==="image"&&f&&f.imageSrcSet?(v+='[imagesrcset="'+Hn(f.imageSrcSet)+'"]',typeof f.imageSizes=="string"&&(v+='[imagesizes="'+Hn(f.imageSizes)+'"]')):v+='[href="'+Hn(i)+'"]';var A=v;switch(a){case"style":A=Yl(i);break;case"script":A=Xl(i)}ps.has(A)||(i=E({rel:"preload",href:a==="image"&&f&&f.imageSrcSet?void 0:i,as:a},f),ps.set(A,i),m.querySelector(v)!==null||a==="style"&&m.querySelector(Cu(A))||a==="script"&&m.querySelector(Au(A))||(a=m.createElement("link"),fi(a,"link",i),zt(a),m.head.appendChild(a)))}}function AA(i,a){Pr.m(i,a);var f=ql;if(f&&i){var m=a&&typeof a.as=="string"?a.as:"script",v='link[rel="modulepreload"][as="'+Hn(m)+'"][href="'+Hn(i)+'"]',A=v;switch(m){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":A=Xl(i)}if(!ps.has(A)&&(i=E({rel:"modulepreload",href:i},a),ps.set(A,i),f.querySelector(v)===null)){switch(m){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(f.querySelector(Au(A)))return}m=f.createElement("link"),fi(m,"link",i),zt(m),f.head.appendChild(m)}}}function TA(i,a,f){Pr.S(i,a,f);var m=ql;if(m&&i){var v=Ts(m).hoistableStyles,A=Yl(i);a=a||"default";var D=v.get(A);if(!D){var F={loading:0,preload:null};if(D=m.querySelector(Cu(A)))F.loading=5;else{i=E({rel:"stylesheet",href:i,"data-precedence":a},f),(f=ps.get(A))&&B1(i,f);var Y=D=m.createElement("link");zt(Y),fi(Y,"link",i),Y._p=new Promise(function(fe,Se){Y.onload=fe,Y.onerror=Se}),Y.addEventListener("load",function(){F.loading|=1}),Y.addEventListener("error",function(){F.loading|=2}),F.loading|=4,Dd(D,a,m)}D={type:"stylesheet",instance:D,count:1,state:F},v.set(A,D)}}}function _A(i,a){Pr.X(i,a);var f=ql;if(f&&i){var m=Ts(f).hoistableScripts,v=Xl(i),A=m.get(v);A||(A=f.querySelector(Au(v)),A||(i=E({src:i,async:!0},a),(a=ps.get(v))&&P1(i,a),A=f.createElement("script"),zt(A),fi(A,"link",i),f.head.appendChild(A)),A={type:"script",instance:A,count:1,state:null},m.set(v,A))}}function NA(i,a){Pr.M(i,a);var f=ql;if(f&&i){var m=Ts(f).hoistableScripts,v=Xl(i),A=m.get(v);A||(A=f.querySelector(Au(v)),A||(i=E({src:i,async:!0,type:"module"},a),(a=ps.get(v))&&P1(i,a),A=f.createElement("script"),zt(A),fi(A,"link",i),f.head.appendChild(A)),A={type:"script",instance:A,count:1,state:null},m.set(v,A))}}function g2(i,a,f,m){var v=(v=we.current)?Md(v):null;if(!v)throw Error(r(446));switch(i){case"meta":case"title":return null;case"style":return typeof f.precedence=="string"&&typeof f.href=="string"?(a=Yl(f.href),f=Ts(v).hoistableStyles,m=f.get(a),m||(m={type:"style",instance:null,count:0,state:null},f.set(a,m)),m):{type:"void",instance:null,count:0,state:null};case"link":if(f.rel==="stylesheet"&&typeof f.href=="string"&&typeof f.precedence=="string"){i=Yl(f.href);var A=Ts(v).hoistableStyles,D=A.get(i);if(D||(v=v.ownerDocument||v,D={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},A.set(i,D),(A=v.querySelector(Cu(i)))&&!A._p&&(D.instance=A,D.state.loading=5),ps.has(i)||(f={rel:"preload",as:"style",href:f.href,crossOrigin:f.crossOrigin,integrity:f.integrity,media:f.media,hrefLang:f.hrefLang,referrerPolicy:f.referrerPolicy},ps.set(i,f),A||RA(v,i,f,D.state))),a&&m===null)throw Error(r(528,""));return D}if(a&&m!==null)throw Error(r(529,""));return null;case"script":return a=f.async,f=f.src,typeof f=="string"&&a&&typeof a!="function"&&typeof a!="symbol"?(a=Xl(f),f=Ts(v).hoistableScripts,m=f.get(a),m||(m={type:"script",instance:null,count:0,state:null},f.set(a,m)),m):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,i))}}function Yl(i){return'href="'+Hn(i)+'"'}function Cu(i){return'link[rel="stylesheet"]['+i+"]"}function m2(i){return E({},i,{"data-precedence":i.precedence,precedence:null})}function RA(i,a,f,m){i.querySelector('link[rel="preload"][as="style"]['+a+"]")?m.loading=1:(a=i.createElement("link"),m.preload=a,a.addEventListener("load",function(){return m.loading|=1}),a.addEventListener("error",function(){return m.loading|=2}),fi(a,"link",f),zt(a),i.head.appendChild(a))}function Xl(i){return'[src="'+Hn(i)+'"]'}function Au(i){return"script[async]"+i}function p2(i,a,f){if(a.count++,a.instance===null)switch(a.type){case"style":var m=i.querySelector('style[data-href~="'+Hn(f.href)+'"]');if(m)return a.instance=m,zt(m),m;var v=E({},f,{"data-href":f.href,"data-precedence":f.precedence,href:null,precedence:null});return m=(i.ownerDocument||i).createElement("style"),zt(m),fi(m,"style",v),Dd(m,f.precedence,i),a.instance=m;case"stylesheet":v=Yl(f.href);var A=i.querySelector(Cu(v));if(A)return a.state.loading|=4,a.instance=A,zt(A),A;m=m2(f),(v=ps.get(v))&&B1(m,v),A=(i.ownerDocument||i).createElement("link"),zt(A);var D=A;return D._p=new Promise(function(F,Y){D.onload=F,D.onerror=Y}),fi(A,"link",m),a.state.loading|=4,Dd(A,f.precedence,i),a.instance=A;case"script":return A=Xl(f.src),(v=i.querySelector(Au(A)))?(a.instance=v,zt(v),v):(m=f,(v=ps.get(A))&&(m=E({},f),P1(m,v)),i=i.ownerDocument||i,v=i.createElement("script"),zt(v),fi(v,"link",m),i.head.appendChild(v),a.instance=v);case"void":return null;default:throw Error(r(443,a.type))}else a.type==="stylesheet"&&(a.state.loading&4)===0&&(m=a.instance,a.state.loading|=4,Dd(m,f.precedence,i));return a.instance}function Dd(i,a,f){for(var m=f.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),v=m.length?m[m.length-1]:null,A=v,D=0;D<m.length;D++){var F=m[D];if(F.dataset.precedence===a)A=F;else if(A!==v)break}A?A.parentNode.insertBefore(i,A.nextSibling):(a=f.nodeType===9?f.head:f,a.insertBefore(i,a.firstChild))}function B1(i,a){i.crossOrigin==null&&(i.crossOrigin=a.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=a.referrerPolicy),i.title==null&&(i.title=a.title)}function P1(i,a){i.crossOrigin==null&&(i.crossOrigin=a.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=a.referrerPolicy),i.integrity==null&&(i.integrity=a.integrity)}var Ld=null;function x2(i,a,f){if(Ld===null){var m=new Map,v=Ld=new Map;v.set(f,m)}else v=Ld,m=v.get(f),m||(m=new Map,v.set(f,m));if(m.has(i))return m;for(m.set(i,null),f=f.getElementsByTagName(i),v=0;v<f.length;v++){var A=f[v];if(!(A[ls]||A[Jn]||i==="link"&&A.getAttribute("rel")==="stylesheet")&&A.namespaceURI!=="http://www.w3.org/2000/svg"){var D=A.getAttribute(a)||"";D=i+D;var F=m.get(D);F?F.push(A):m.set(D,[A])}}return m}function y2(i,a,f){i=i.ownerDocument||i,i.head.insertBefore(f,a==="title"?i.querySelector("head > title"):null)}function OA(i,a,f){if(f===1||a.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof a.precedence!="string"||typeof a.href!="string"||a.href==="")break;return!0;case"link":if(typeof a.rel!="string"||typeof a.href!="string"||a.href===""||a.onLoad||a.onError)break;switch(a.rel){case"stylesheet":return i=a.disabled,typeof a.precedence=="string"&&i==null;default:return!0}case"script":if(a.async&&typeof a.async!="function"&&typeof a.async!="symbol"&&!a.onLoad&&!a.onError&&a.src&&typeof a.src=="string")return!0}return!1}function b2(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}var Tu=null;function IA(){}function MA(i,a,f){if(Tu===null)throw Error(r(475));var m=Tu;if(a.type==="stylesheet"&&(typeof f.media!="string"||matchMedia(f.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var v=Yl(f.href),A=i.querySelector(Cu(v));if(A){i=A._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(m.count++,m=kd.bind(m),i.then(m,m)),a.state.loading|=4,a.instance=A,zt(A);return}A=i.ownerDocument||i,f=m2(f),(v=ps.get(v))&&B1(f,v),A=A.createElement("link"),zt(A);var D=A;D._p=new Promise(function(F,Y){D.onload=F,D.onerror=Y}),fi(A,"link",f),a.instance=A}m.stylesheets===null&&(m.stylesheets=new Map),m.stylesheets.set(a,i),(i=a.state.preload)&&(a.state.loading&3)===0&&(m.count++,a=kd.bind(m),i.addEventListener("load",a),i.addEventListener("error",a))}}function DA(){if(Tu===null)throw Error(r(475));var i=Tu;return i.stylesheets&&i.count===0&&U1(i,i.stylesheets),0<i.count?function(a){var f=setTimeout(function(){if(i.stylesheets&&U1(i,i.stylesheets),i.unsuspend){var m=i.unsuspend;i.unsuspend=null,m()}},6e4);return i.unsuspend=a,function(){i.unsuspend=null,clearTimeout(f)}}:null}function kd(){if(this.count--,this.count===0){if(this.stylesheets)U1(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var jd=null;function U1(i,a){i.stylesheets=null,i.unsuspend!==null&&(i.count++,jd=new Map,a.forEach(LA,i),jd=null,kd.call(i))}function LA(i,a){if(!(a.state.loading&4)){var f=jd.get(i);if(f)var m=f.get(null);else{f=new Map,jd.set(i,f);for(var v=i.querySelectorAll("link[data-precedence],style[data-precedence]"),A=0;A<v.length;A++){var D=v[A];(D.nodeName==="LINK"||D.getAttribute("media")!=="not all")&&(f.set(D.dataset.precedence,D),m=D)}m&&f.set(null,m)}v=a.instance,D=v.getAttribute("data-precedence"),A=f.get(D)||m,A===m&&f.set(null,v),f.set(D,v),this.count++,m=kd.bind(this),v.addEventListener("load",m),v.addEventListener("error",m),A?A.parentNode.insertBefore(v,A.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(v,i.firstChild)),a.state.loading|=4}}var _u={$$typeof:U,Provider:null,Consumer:null,_currentValue:Le,_currentValue2:Le,_threadCount:0};function kA(i,a,f,m,v,A,D,F){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=_t(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=_t(0),this.hiddenUpdates=_t(null),this.identifierPrefix=m,this.onUncaughtError=v,this.onCaughtError=A,this.onRecoverableError=D,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=F,this.incompleteTransitions=new Map}function w2(i,a,f,m,v,A,D,F,Y,fe,Se,Te){return i=new kA(i,a,f,D,F,Y,fe,Te),a=1,A===!0&&(a|=24),A=Qi(3,null,null,a),i.current=A,A.stateNode=i,a=w0(),a.refCount++,i.pooledCache=a,a.refCount++,A.memoizedState={element:m,isDehydrated:f,cache:a},C0(A),i}function v2(i){return i?(i=Al,i):Al}function E2(i,a,f,m,v,A){v=v2(v),m.context===null?m.context=v:m.pendingContext=v,m=ma(a),m.payload={element:f},A=A===void 0?null:A,A!==null&&(m.callback=A),f=pa(i,m,a),f!==null&&(is(f,i,a),iu(f,i,a))}function S2(i,a){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var f=i.retryLane;i.retryLane=f!==0&&f<a?f:a}}function F1(i,a){S2(i,a),(i=i.alternate)&&S2(i,a)}function C2(i){if(i.tag===13){var a=Cl(i,67108864);a!==null&&is(a,i,67108864),F1(i,67108864)}}var Bd=!0;function jA(i,a,f,m){var v=se.T;se.T=null;var A=le.p;try{le.p=2,V1(i,a,f,m)}finally{le.p=A,se.T=v}}function BA(i,a,f,m){var v=se.T;se.T=null;var A=le.p;try{le.p=8,V1(i,a,f,m)}finally{le.p=A,se.T=v}}function V1(i,a,f,m){if(Bd){var v=z1(m);if(v===null)N1(i,a,m,Pd,f),T2(i,m);else if(UA(v,i,a,f,m))m.stopPropagation();else if(T2(i,m),a&4&&-1<PA.indexOf(i)){for(;v!==null;){var A=Wi(v);if(A!==null)switch(A.tag){case 3:if(A=A.stateNode,A.current.memoizedState.isDehydrated){var D=Pt(A.pendingLanes);if(D!==0){var F=A;for(F.pendingLanes|=2,F.entangledLanes|=2;D;){var Y=1<<31-Tt(D);F.entanglements[1]|=Y,D&=~Y}lr(A),(Gt&6)===0&&(vd=kt()+500,wu(0))}}break;case 13:F=Cl(A,2),F!==null&&is(F,A,2),Sd(),F1(A,2)}if(A=z1(m),A===null&&N1(i,a,m,Pd,f),A===v)break;v=A}v!==null&&m.stopPropagation()}else N1(i,a,m,null,f)}}function z1(i){return i=na(i),H1(i)}var Pd=null;function H1(i){if(Pd=null,i=Nn(i),i!==null){var a=u(i);if(a===null)i=null;else{var f=a.tag;if(f===13){if(i=g(a),i!==null)return i;i=null}else if(f===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;i=null}else a!==i&&(i=null)}}return Pd=i,null}function A2(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(jt()){case Ee:return 2;case yt:return 8;case Ne:case gt:return 32;case It:return 268435456;default:return 32}default:return 32}}var $1=!1,Ra=null,Oa=null,Ia=null,Nu=new Map,Ru=new Map,Ma=[],PA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function T2(i,a){switch(i){case"focusin":case"focusout":Ra=null;break;case"dragenter":case"dragleave":Oa=null;break;case"mouseover":case"mouseout":Ia=null;break;case"pointerover":case"pointerout":Nu.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ru.delete(a.pointerId)}}function Ou(i,a,f,m,v,A){return i===null||i.nativeEvent!==A?(i={blockedOn:a,domEventName:f,eventSystemFlags:m,nativeEvent:A,targetContainers:[v]},a!==null&&(a=Wi(a),a!==null&&C2(a)),i):(i.eventSystemFlags|=m,a=i.targetContainers,v!==null&&a.indexOf(v)===-1&&a.push(v),i)}function UA(i,a,f,m,v){switch(a){case"focusin":return Ra=Ou(Ra,i,a,f,m,v),!0;case"dragenter":return Oa=Ou(Oa,i,a,f,m,v),!0;case"mouseover":return Ia=Ou(Ia,i,a,f,m,v),!0;case"pointerover":var A=v.pointerId;return Nu.set(A,Ou(Nu.get(A)||null,i,a,f,m,v)),!0;case"gotpointercapture":return A=v.pointerId,Ru.set(A,Ou(Ru.get(A)||null,i,a,f,m,v)),!0}return!1}function _2(i){var a=Nn(i.target);if(a!==null){var f=u(a);if(f!==null){if(a=f.tag,a===13){if(a=g(f),a!==null){i.blockedOn=a,ul(i.priority,function(){if(f.tag===13){var m=ns();m=lo(m);var v=Cl(f,m);v!==null&&is(v,f,m),F1(f,m)}});return}}else if(a===3&&f.stateNode.current.memoizedState.isDehydrated){i.blockedOn=f.tag===3?f.stateNode.containerInfo:null;return}}}i.blockedOn=null}function Ud(i){if(i.blockedOn!==null)return!1;for(var a=i.targetContainers;0<a.length;){var f=z1(i.nativeEvent);if(f===null){f=i.nativeEvent;var m=new f.constructor(f.type,f);uo=m,f.target.dispatchEvent(m),uo=null}else return a=Wi(f),a!==null&&C2(a),i.blockedOn=f,!1;a.shift()}return!0}function N2(i,a,f){Ud(i)&&f.delete(a)}function FA(){$1=!1,Ra!==null&&Ud(Ra)&&(Ra=null),Oa!==null&&Ud(Oa)&&(Oa=null),Ia!==null&&Ud(Ia)&&(Ia=null),Nu.forEach(N2),Ru.forEach(N2)}function Fd(i,a){i.blockedOn===a&&(i.blockedOn=null,$1||($1=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,FA)))}var Vd=null;function R2(i){Vd!==i&&(Vd=i,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){Vd===i&&(Vd=null);for(var a=0;a<i.length;a+=3){var f=i[a],m=i[a+1],v=i[a+2];if(typeof m!="function"){if(H1(m||f)===null)continue;break}var A=Wi(f);A!==null&&(i.splice(a,3),a-=3,H0(A,{pending:!0,data:v,method:f.method,action:m},m,v))}}))}function Iu(i){function a(Y){return Fd(Y,i)}Ra!==null&&Fd(Ra,i),Oa!==null&&Fd(Oa,i),Ia!==null&&Fd(Ia,i),Nu.forEach(a),Ru.forEach(a);for(var f=0;f<Ma.length;f++){var m=Ma[f];m.blockedOn===i&&(m.blockedOn=null)}for(;0<Ma.length&&(f=Ma[0],f.blockedOn===null);)_2(f),f.blockedOn===null&&Ma.shift();if(f=(i.ownerDocument||i).$$reactFormReplay,f!=null)for(m=0;m<f.length;m+=3){var v=f[m],A=f[m+1],D=v[wn]||null;if(typeof A=="function")D||R2(f);else if(D){var F=null;if(A&&A.hasAttribute("formAction")){if(v=A,D=A[wn]||null)F=D.formAction;else if(H1(v)!==null)continue}else F=D.action;typeof F=="function"?f[m+1]=F:(f.splice(m,3),m-=3),R2(f)}}}function G1(i){this._internalRoot=i}zd.prototype.render=G1.prototype.render=function(i){var a=this._internalRoot;if(a===null)throw Error(r(409));var f=a.current,m=ns();E2(f,m,i,a,null,null)},zd.prototype.unmount=G1.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var a=i.containerInfo;E2(i.current,2,null,i,null,null),Sd(),a[Gs]=null}};function zd(i){this._internalRoot=i}zd.prototype.unstable_scheduleHydration=function(i){if(i){var a=br();i={blockedOn:null,target:i,priority:a};for(var f=0;f<Ma.length&&a!==0&&a<Ma[f].priority;f++);Ma.splice(f,0,i),f===0&&_2(i)}};var O2=e.version;if(O2!=="19.1.0")throw Error(r(527,O2,"19.1.0"));le.findDOMNode=function(i){var a=i._reactInternals;if(a===void 0)throw typeof i.render=="function"?Error(r(188)):(i=Object.keys(i).join(","),Error(r(268,i)));return i=b(a),i=i!==null?x(i):null,i=i===null?null:i.stateNode,i};var VA={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:se,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Hd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Hd.isDisabled&&Hd.supportsFiber)try{nn=Hd.inject(VA),un=Hd}catch{}}return Lu.createRoot=function(i,a){if(!l(i))throw Error(r(299));var f=!1,m="",v=qx,A=Yx,D=Xx,F=null;return a!=null&&(a.unstable_strictMode===!0&&(f=!0),a.identifierPrefix!==void 0&&(m=a.identifierPrefix),a.onUncaughtError!==void 0&&(v=a.onUncaughtError),a.onCaughtError!==void 0&&(A=a.onCaughtError),a.onRecoverableError!==void 0&&(D=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(F=a.unstable_transitionCallbacks)),a=w2(i,1,!1,null,null,f,m,v,A,D,F,null),i[Gs]=a.current,_1(i),new G1(a)},Lu.hydrateRoot=function(i,a,f){if(!l(i))throw Error(r(299));var m=!1,v="",A=qx,D=Yx,F=Xx,Y=null,fe=null;return f!=null&&(f.unstable_strictMode===!0&&(m=!0),f.identifierPrefix!==void 0&&(v=f.identifierPrefix),f.onUncaughtError!==void 0&&(A=f.onUncaughtError),f.onCaughtError!==void 0&&(D=f.onCaughtError),f.onRecoverableError!==void 0&&(F=f.onRecoverableError),f.unstable_transitionCallbacks!==void 0&&(Y=f.unstable_transitionCallbacks),f.formState!==void 0&&(fe=f.formState)),a=w2(i,1,!0,a,f??null,m,v,A,D,F,Y,fe),a.context=v2(null),f=a.current,m=ns(),m=lo(m),v=ma(m),v.callback=null,pa(f,v,m),f=m,a.current.lanes=f,Xi(a,f),lr(a),i[Gs]=a.current,_1(i),new zd(a)},Lu.version="19.1.0",Lu}var rb;function $7(){if(rb)return K1.exports;rb=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),K1.exports=H7(),K1.exports}var G7=$7(),ku={},ab;function q7(){if(ab)return ku;ab=1,Object.defineProperty(ku,"__esModule",{value:!0}),ku.parse=g,ku.serialize=x;const t=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,r=/^[\u0020-\u003A\u003D-\u007E]*$/,l=Object.prototype.toString,u=(()=>{const N=function(){};return N.prototype=Object.create(null),N})();function g(N,O){const M=new u,B=N.length;if(B<2)return M;const j=(O==null?void 0:O.decode)||E;let V=0;do{const $=N.indexOf("=",V);if($===-1)break;const U=N.indexOf(";",V),q=U===-1?B:U;if($>q){V=N.lastIndexOf(";",$-1)+1;continue}const W=y(N,V,$),ne=b(N,$,W),X=N.slice(W,ne);if(M[X]===void 0){let oe=y(N,$+1,q),ee=b(N,q,oe);const pe=j(N.slice(oe,ee));M[X]=pe}V=q+1}while(V<B);return M}function y(N,O,M){do{const B=N.charCodeAt(O);if(B!==32&&B!==9)return O}while(++O<M);return M}function b(N,O,M){for(;O>M;){const B=N.charCodeAt(--O);if(B!==32&&B!==9)return O+1}return M}function x(N,O,M){const B=(M==null?void 0:M.encode)||encodeURIComponent;if(!t.test(N))throw new TypeError(`argument name is invalid: ${N}`);const j=B(O);if(!e.test(j))throw new TypeError(`argument val is invalid: ${O}`);let V=N+"="+j;if(!M)return V;if(M.maxAge!==void 0){if(!Number.isInteger(M.maxAge))throw new TypeError(`option maxAge is invalid: ${M.maxAge}`);V+="; Max-Age="+M.maxAge}if(M.domain){if(!n.test(M.domain))throw new TypeError(`option domain is invalid: ${M.domain}`);V+="; Domain="+M.domain}if(M.path){if(!r.test(M.path))throw new TypeError(`option path is invalid: ${M.path}`);V+="; Path="+M.path}if(M.expires){if(!C(M.expires)||!Number.isFinite(M.expires.valueOf()))throw new TypeError(`option expires is invalid: ${M.expires}`);V+="; Expires="+M.expires.toUTCString()}if(M.httpOnly&&(V+="; HttpOnly"),M.secure&&(V+="; Secure"),M.partitioned&&(V+="; Partitioned"),M.priority)switch(typeof M.priority=="string"?M.priority.toLowerCase():void 0){case"low":V+="; Priority=Low";break;case"medium":V+="; Priority=Medium";break;case"high":V+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${M.priority}`)}if(M.sameSite)switch(typeof M.sameSite=="string"?M.sameSite.toLowerCase():M.sameSite){case!0:case"strict":V+="; SameSite=Strict";break;case"lax":V+="; SameSite=Lax";break;case"none":V+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${M.sameSite}`)}return V}function E(N){if(N.indexOf("%")===-1)return N;try{return decodeURIComponent(N)}catch{return N}}function C(N){return l.call(N)==="[object Date]"}return ku}q7();var ob="popstate";function Y7(t={}){function e(r,l){let{pathname:u,search:g,hash:y}=r.location;return Dg("",{pathname:u,search:g,hash:y},l.state&&l.state.usr||null,l.state&&l.state.key||"default")}function n(r,l){return typeof l=="string"?l:cf(l)}return W7(e,n,null,t)}function mn(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function zs(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function X7(){return Math.random().toString(36).substring(2,10)}function lb(t,e){return{usr:t.state,key:t.key,idx:e}}function Dg(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?Rc(e):e,state:n,key:e&&e.key||r||X7()}}function cf({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Rc(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function W7(t,e,n,r={}){let{window:l=document.defaultView,v5Compat:u=!1}=r,g=l.history,y="POP",b=null,x=E();x==null&&(x=0,g.replaceState({...g.state,idx:x},""));function E(){return(g.state||{idx:null}).idx}function C(){y="POP";let j=E(),V=j==null?null:j-x;x=j,b&&b({action:y,location:B.location,delta:V})}function N(j,V){y="PUSH";let $=Dg(B.location,j,V);x=E()+1;let U=lb($,x),q=B.createHref($);try{g.pushState(U,"",q)}catch(W){if(W instanceof DOMException&&W.name==="DataCloneError")throw W;l.location.assign(q)}u&&b&&b({action:y,location:B.location,delta:1})}function O(j,V){y="REPLACE";let $=Dg(B.location,j,V);x=E();let U=lb($,x),q=B.createHref($);g.replaceState(U,"",q),u&&b&&b({action:y,location:B.location,delta:0})}function M(j){return K7(j)}let B={get action(){return y},get location(){return t(l,g)},listen(j){if(b)throw new Error("A history only accepts one active listener");return l.addEventListener(ob,C),b=j,()=>{l.removeEventListener(ob,C),b=null}},createHref(j){return e(l,j)},createURL:M,encodeLocation(j){let V=M(j);return{pathname:V.pathname,search:V.search,hash:V.hash}},push:N,replace:O,go(j){return g.go(j)}};return B}function K7(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),mn(n,"No window.location.(origin|href) available to create URL");let r=typeof t=="string"?t:cf(t);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function m3(t,e,n="/"){return Z7(t,e,n,!1)}function Z7(t,e,n,r){let l=typeof e=="string"?Rc(e):e,u=Kr(l.pathname||"/",n);if(u==null)return null;let g=p3(t);Q7(g);let y=null;for(let b=0;y==null&&b<g.length;++b){let x=cR(u);y=oR(g[b],x,r)}return y}function p3(t,e=[],n=[],r=""){let l=(u,g,y)=>{let b={relativePath:y===void 0?u.path||"":y,caseSensitive:u.caseSensitive===!0,childrenIndex:g,route:u};b.relativePath.startsWith("/")&&(mn(b.relativePath.startsWith(r),`Absolute route path "${b.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),b.relativePath=b.relativePath.slice(r.length));let x=Yr([r,b.relativePath]),E=n.concat(b);u.children&&u.children.length>0&&(mn(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${x}".`),p3(u.children,e,E,x)),!(u.path==null&&!u.index)&&e.push({path:x,score:rR(x,u.index),routesMeta:E})};return t.forEach((u,g)=>{var y;if(u.path===""||!((y=u.path)!=null&&y.includes("?")))l(u,g);else for(let b of x3(u.path))l(u,g,b)}),e}function x3(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,l=n.endsWith("?"),u=n.replace(/\?$/,"");if(r.length===0)return l?[u,""]:[u];let g=x3(r.join("/")),y=[];return y.push(...g.map(b=>b===""?u:[u,b].join("/"))),l&&y.push(...g),y.map(b=>t.startsWith("/")&&b===""?"/":b)}function Q7(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:aR(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var J7=/^:[\w-]+$/,eR=3,tR=2,nR=1,iR=10,sR=-2,cb=t=>t==="*";function rR(t,e){let n=t.split("/"),r=n.length;return n.some(cb)&&(r+=sR),e&&(r+=tR),n.filter(l=>!cb(l)).reduce((l,u)=>l+(J7.test(u)?eR:u===""?nR:iR),r)}function aR(t,e){return t.length===e.length&&t.slice(0,-1).every((r,l)=>r===e[l])?t[t.length-1]-e[e.length-1]:0}function oR(t,e,n=!1){let{routesMeta:r}=t,l={},u="/",g=[];for(let y=0;y<r.length;++y){let b=r[y],x=y===r.length-1,E=u==="/"?e:e.slice(u.length)||"/",C=xh({path:b.relativePath,caseSensitive:b.caseSensitive,end:x},E),N=b.route;if(!C&&x&&n&&!r[r.length-1].route.index&&(C=xh({path:b.relativePath,caseSensitive:b.caseSensitive,end:!1},E)),!C)return null;Object.assign(l,C.params),g.push({params:l,pathname:Yr([u,C.pathname]),pathnameBase:hR(Yr([u,C.pathnameBase])),route:N}),C.pathnameBase!=="/"&&(u=Yr([u,C.pathnameBase]))}return g}function xh(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=lR(t.path,t.caseSensitive,t.end),l=e.match(n);if(!l)return null;let u=l[0],g=u.replace(/(.)\/+$/,"$1"),y=l.slice(1);return{params:r.reduce((x,{paramName:E,isOptional:C},N)=>{if(E==="*"){let M=y[N]||"";g=u.slice(0,u.length-M.length).replace(/(.)\/+$/,"$1")}const O=y[N];return C&&!O?x[E]=void 0:x[E]=(O||"").replace(/%2F/g,"/"),x},{}),pathname:u,pathnameBase:g,pattern:t}}function lR(t,e=!1,n=!0){zs(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],l="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(g,y,b)=>(r.push({paramName:y,isOptional:b!=null}),b?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),l+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?l+="\\/*$":t!==""&&t!=="/"&&(l+="(?:(?=\\/|$))"),[new RegExp(l,e?void 0:"i"),r]}function cR(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return zs(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Kr(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function uR(t,e="/"){let{pathname:n,search:r="",hash:l=""}=typeof t=="string"?Rc(t):t;return{pathname:n?n.startsWith("/")?n:fR(n,e):e,search:gR(r),hash:mR(l)}}function fR(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(l=>{l===".."?n.length>1&&n.pop():l!=="."&&n.push(l)}),n.length>1?n.join("/"):"/"}function eg(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function dR(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Mm(t){let e=dR(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function Dm(t,e,n,r=!1){let l;typeof t=="string"?l=Rc(t):(l={...t},mn(!l.pathname||!l.pathname.includes("?"),eg("?","pathname","search",l)),mn(!l.pathname||!l.pathname.includes("#"),eg("#","pathname","hash",l)),mn(!l.search||!l.search.includes("#"),eg("#","search","hash",l)));let u=t===""||l.pathname==="",g=u?"/":l.pathname,y;if(g==null)y=n;else{let C=e.length-1;if(!r&&g.startsWith("..")){let N=g.split("/");for(;N[0]==="..";)N.shift(),C-=1;l.pathname=N.join("/")}y=C>=0?e[C]:"/"}let b=uR(l,y),x=g&&g!=="/"&&g.endsWith("/"),E=(u||g===".")&&n.endsWith("/");return!b.pathname.endsWith("/")&&(x||E)&&(b.pathname+="/"),b}var Yr=t=>t.join("/").replace(/\/\/+/g,"/"),hR=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),gR=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,mR=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function pR(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var y3=["POST","PUT","PATCH","DELETE"];new Set(y3);var xR=["GET",...y3];new Set(xR);var Oc=R.createContext(null);Oc.displayName="DataRouter";var jh=R.createContext(null);jh.displayName="DataRouterState";var b3=R.createContext({isTransitioning:!1});b3.displayName="ViewTransition";var yR=R.createContext(new Map);yR.displayName="Fetchers";var bR=R.createContext(null);bR.displayName="Await";var Hs=R.createContext(null);Hs.displayName="Navigation";var Sf=R.createContext(null);Sf.displayName="Location";var Es=R.createContext({outlet:null,matches:[],isDataRoute:!1});Es.displayName="Route";var Lm=R.createContext(null);Lm.displayName="RouteError";function wR(t,{relative:e}={}){mn(Ic(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=R.useContext(Hs),{hash:l,pathname:u,search:g}=Cf(t,{relative:e}),y=u;return n!=="/"&&(y=u==="/"?n:Yr([n,u])),r.createHref({pathname:y,search:g,hash:l})}function Ic(){return R.useContext(Sf)!=null}function ea(){return mn(Ic(),"useLocation() may be used only in the context of a <Router> component."),R.useContext(Sf).location}var w3="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function v3(t){R.useContext(Hs).static||R.useLayoutEffect(t)}function Ss(){let{isDataRoute:t}=R.useContext(Es);return t?jR():vR()}function vR(){mn(Ic(),"useNavigate() may be used only in the context of a <Router> component.");let t=R.useContext(Oc),{basename:e,navigator:n}=R.useContext(Hs),{matches:r}=R.useContext(Es),{pathname:l}=ea(),u=JSON.stringify(Mm(r)),g=R.useRef(!1);return v3(()=>{g.current=!0}),R.useCallback((b,x={})=>{if(zs(g.current,w3),!g.current)return;if(typeof b=="number"){n.go(b);return}let E=Dm(b,JSON.parse(u),l,x.relative==="path");t==null&&e!=="/"&&(E.pathname=E.pathname==="/"?e:Yr([e,E.pathname])),(x.replace?n.replace:n.push)(E,x.state,x)},[e,n,u,l,t])}var ER=R.createContext(null);function SR(t){let e=R.useContext(Es).outlet;return e&&R.createElement(ER.Provider,{value:t},e)}function CR(){let{matches:t}=R.useContext(Es),e=t[t.length-1];return e?e.params:{}}function Cf(t,{relative:e}={}){let{matches:n}=R.useContext(Es),{pathname:r}=ea(),l=JSON.stringify(Mm(n));return R.useMemo(()=>Dm(t,JSON.parse(l),r,e==="path"),[t,l,r,e])}function AR(t,e){return E3(t,e)}function E3(t,e,n,r){var V;mn(Ic(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l}=R.useContext(Hs),{matches:u}=R.useContext(Es),g=u[u.length-1],y=g?g.params:{},b=g?g.pathname:"/",x=g?g.pathnameBase:"/",E=g&&g.route;{let $=E&&E.path||"";S3(b,!E||$.endsWith("*")||$.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${b}" (under <Route path="${$}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${$}"> to <Route path="${$==="/"?"*":`${$}/*`}">.`)}let C=ea(),N;if(e){let $=typeof e=="string"?Rc(e):e;mn(x==="/"||((V=$.pathname)==null?void 0:V.startsWith(x)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${x}" but pathname "${$.pathname}" was given in the \`location\` prop.`),N=$}else N=C;let O=N.pathname||"/",M=O;if(x!=="/"){let $=x.replace(/^\//,"").split("/");M="/"+O.replace(/^\//,"").split("/").slice($.length).join("/")}let B=m3(t,{pathname:M});zs(E||B!=null,`No routes matched location "${N.pathname}${N.search}${N.hash}" `),zs(B==null||B[B.length-1].route.element!==void 0||B[B.length-1].route.Component!==void 0||B[B.length-1].route.lazy!==void 0,`Matched leaf route at location "${N.pathname}${N.search}${N.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let j=OR(B&&B.map($=>Object.assign({},$,{params:Object.assign({},y,$.params),pathname:Yr([x,l.encodeLocation?l.encodeLocation($.pathname).pathname:$.pathname]),pathnameBase:$.pathnameBase==="/"?x:Yr([x,l.encodeLocation?l.encodeLocation($.pathnameBase).pathname:$.pathnameBase])})),u,n,r);return e&&j?R.createElement(Sf.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...N},navigationType:"POP"}},j):j}function TR(){let t=kR(),e=pR(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",l={padding:"0.5rem",backgroundColor:r},u={padding:"2px 4px",backgroundColor:r},g=null;return console.error("Error handled by React Router default ErrorBoundary:",t),g=R.createElement(R.Fragment,null,R.createElement("p",null,"💿 Hey developer 👋"),R.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",R.createElement("code",{style:u},"ErrorBoundary")," or"," ",R.createElement("code",{style:u},"errorElement")," prop on your route.")),R.createElement(R.Fragment,null,R.createElement("h2",null,"Unexpected Application Error!"),R.createElement("h3",{style:{fontStyle:"italic"}},e),n?R.createElement("pre",{style:l},n):null,g)}var _R=R.createElement(TR,null),NR=class extends R.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){console.error("React Router caught the following error during render",t,e)}render(){return this.state.error!==void 0?R.createElement(Es.Provider,{value:this.props.routeContext},R.createElement(Lm.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function RR({routeContext:t,match:e,children:n}){let r=R.useContext(Oc);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),R.createElement(Es.Provider,{value:t},n)}function OR(t,e=[],n=null,r=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let l=t,u=n==null?void 0:n.errors;if(u!=null){let b=l.findIndex(x=>x.route.id&&(u==null?void 0:u[x.route.id])!==void 0);mn(b>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),l=l.slice(0,Math.min(l.length,b+1))}let g=!1,y=-1;if(n)for(let b=0;b<l.length;b++){let x=l[b];if((x.route.HydrateFallback||x.route.hydrateFallbackElement)&&(y=b),x.route.id){let{loaderData:E,errors:C}=n,N=x.route.loader&&!E.hasOwnProperty(x.route.id)&&(!C||C[x.route.id]===void 0);if(x.route.lazy||N){g=!0,y>=0?l=l.slice(0,y+1):l=[l[0]];break}}}return l.reduceRight((b,x,E)=>{let C,N=!1,O=null,M=null;n&&(C=u&&x.route.id?u[x.route.id]:void 0,O=x.route.errorElement||_R,g&&(y<0&&E===0?(S3("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),N=!0,M=null):y===E&&(N=!0,M=x.route.hydrateFallbackElement||null)));let B=e.concat(l.slice(0,E+1)),j=()=>{let V;return C?V=O:N?V=M:x.route.Component?V=R.createElement(x.route.Component,null):x.route.element?V=x.route.element:V=b,R.createElement(RR,{match:x,routeContext:{outlet:b,matches:B,isDataRoute:n!=null},children:V})};return n&&(x.route.ErrorBoundary||x.route.errorElement||E===0)?R.createElement(NR,{location:n.location,revalidation:n.revalidation,component:O,error:C,children:j(),routeContext:{outlet:null,matches:B,isDataRoute:!0}}):j()},null)}function km(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function IR(t){let e=R.useContext(Oc);return mn(e,km(t)),e}function MR(t){let e=R.useContext(jh);return mn(e,km(t)),e}function DR(t){let e=R.useContext(Es);return mn(e,km(t)),e}function jm(t){let e=DR(t),n=e.matches[e.matches.length-1];return mn(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function LR(){return jm("useRouteId")}function kR(){var r;let t=R.useContext(Lm),e=MR("useRouteError"),n=jm("useRouteError");return t!==void 0?t:(r=e.errors)==null?void 0:r[n]}function jR(){let{router:t}=IR("useNavigate"),e=jm("useNavigate"),n=R.useRef(!1);return v3(()=>{n.current=!0}),R.useCallback(async(l,u={})=>{zs(n.current,w3),n.current&&(typeof l=="number"?t.navigate(l):await t.navigate(l,{fromRouteId:e,...u}))},[t,e])}var ub={};function S3(t,e,n){!e&&!ub[t]&&(ub[t]=!0,zs(!1,n))}R.memo(BR);function BR({routes:t,future:e,state:n}){return E3(t,void 0,n,e)}function fb({to:t,replace:e,state:n,relative:r}){mn(Ic(),"<Navigate> may be used only in the context of a <Router> component.");let{static:l}=R.useContext(Hs);zs(!l,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:u}=R.useContext(Es),{pathname:g}=ea(),y=Ss(),b=Dm(t,Mm(u),g,r==="path"),x=JSON.stringify(b);return R.useEffect(()=>{y(JSON.parse(x),{replace:e,state:n,relative:r})},[y,x,r,e,n]),null}function PR(t){return SR(t.context)}function Fn(t){mn(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function UR({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:l,static:u=!1}){mn(!Ic(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let g=t.replace(/^\/*/,"/"),y=R.useMemo(()=>({basename:g,navigator:l,static:u,future:{}}),[g,l,u]);typeof n=="string"&&(n=Rc(n));let{pathname:b="/",search:x="",hash:E="",state:C=null,key:N="default"}=n,O=R.useMemo(()=>{let M=Kr(b,g);return M==null?null:{location:{pathname:M,search:x,hash:E,state:C,key:N},navigationType:r}},[g,b,x,E,C,N,r]);return zs(O!=null,`<Router basename="${g}"> is not able to match the URL "${b}${x}${E}" because it does not start with the basename, so the <Router> won't render anything.`),O==null?null:R.createElement(Hs.Provider,{value:y},R.createElement(Sf.Provider,{children:e,value:O}))}function FR({children:t,location:e}){return AR(Lg(t),e)}function Lg(t,e=[]){let n=[];return R.Children.forEach(t,(r,l)=>{if(!R.isValidElement(r))return;let u=[...e,l];if(r.type===R.Fragment){n.push.apply(n,Lg(r.props.children,u));return}mn(r.type===Fn,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),mn(!r.props.index||!r.props.children,"An index route cannot have child routes.");let g={id:r.props.id||u.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(g.children=Lg(r.props.children,u)),n.push(g)}),n}var oh="get",lh="application/x-www-form-urlencoded";function Bh(t){return t!=null&&typeof t.tagName=="string"}function VR(t){return Bh(t)&&t.tagName.toLowerCase()==="button"}function zR(t){return Bh(t)&&t.tagName.toLowerCase()==="form"}function HR(t){return Bh(t)&&t.tagName.toLowerCase()==="input"}function $R(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function GR(t,e){return t.button===0&&(!e||e==="_self")&&!$R(t)}var Yd=null;function qR(){if(Yd===null)try{new FormData(document.createElement("form"),0),Yd=!1}catch{Yd=!0}return Yd}var YR=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function tg(t){return t!=null&&!YR.has(t)?(zs(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${lh}"`),null):t}function XR(t,e){let n,r,l,u,g;if(zR(t)){let y=t.getAttribute("action");r=y?Kr(y,e):null,n=t.getAttribute("method")||oh,l=tg(t.getAttribute("enctype"))||lh,u=new FormData(t)}else if(VR(t)||HR(t)&&(t.type==="submit"||t.type==="image")){let y=t.form;if(y==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let b=t.getAttribute("formaction")||y.getAttribute("action");if(r=b?Kr(b,e):null,n=t.getAttribute("formmethod")||y.getAttribute("method")||oh,l=tg(t.getAttribute("formenctype"))||tg(y.getAttribute("enctype"))||lh,u=new FormData(y,t),!qR()){let{name:x,type:E,value:C}=t;if(E==="image"){let N=x?`${x}.`:"";u.append(`${N}x`,"0"),u.append(`${N}y`,"0")}else x&&u.append(x,C)}}else{if(Bh(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=oh,r=null,l=lh,g=t}return u&&l==="text/plain"&&(g=u,u=void 0),{action:r,method:n.toLowerCase(),encType:l,formData:u,body:g}}function Bm(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}async function WR(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function KR(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function ZR(t,e,n){let r=await Promise.all(t.map(async l=>{let u=e.routes[l.route.id];if(u){let g=await WR(u,n);return g.links?g.links():[]}return[]}));return tO(r.flat(1).filter(KR).filter(l=>l.rel==="stylesheet"||l.rel==="preload").map(l=>l.rel==="stylesheet"?{...l,rel:"prefetch",as:"style"}:{...l,rel:"prefetch"}))}function db(t,e,n,r,l,u){let g=(b,x)=>n[x]?b.route.id!==n[x].route.id:!0,y=(b,x)=>{var E;return n[x].pathname!==b.pathname||((E=n[x].route.path)==null?void 0:E.endsWith("*"))&&n[x].params["*"]!==b.params["*"]};return u==="assets"?e.filter((b,x)=>g(b,x)||y(b,x)):u==="data"?e.filter((b,x)=>{var C;let E=r.routes[b.route.id];if(!E||!E.hasLoader)return!1;if(g(b,x)||y(b,x))return!0;if(b.route.shouldRevalidate){let N=b.route.shouldRevalidate({currentUrl:new URL(l.pathname+l.search+l.hash,window.origin),currentParams:((C=n[0])==null?void 0:C.params)||{},nextUrl:new URL(t,window.origin),nextParams:b.params,defaultShouldRevalidate:!0});if(typeof N=="boolean")return N}return!0}):[]}function QR(t,e,{includeHydrateFallback:n}={}){return JR(t.map(r=>{let l=e.routes[r.route.id];if(!l)return[];let u=[l.module];return l.clientActionModule&&(u=u.concat(l.clientActionModule)),l.clientLoaderModule&&(u=u.concat(l.clientLoaderModule)),n&&l.hydrateFallbackModule&&(u=u.concat(l.hydrateFallbackModule)),l.imports&&(u=u.concat(l.imports)),u}).flat(1))}function JR(t){return[...new Set(t)]}function eO(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function tO(t,e){let n=new Set;return new Set(e),t.reduce((r,l)=>{let u=JSON.stringify(eO(l));return n.has(u)||(n.add(u),r.push({key:u,link:l})),r},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var nO=new Set([100,101,204,205]);function iO(t,e){let n=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return n.pathname==="/"?n.pathname="_root.data":e&&Kr(n.pathname,e)==="/"?n.pathname=`${e.replace(/\/$/,"")}/_root.data`:n.pathname=`${n.pathname.replace(/\/$/,"")}.data`,n}function C3(){let t=R.useContext(Oc);return Bm(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function sO(){let t=R.useContext(jh);return Bm(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var Pm=R.createContext(void 0);Pm.displayName="FrameworkContext";function A3(){let t=R.useContext(Pm);return Bm(t,"You must render this element inside a <HydratedRouter> element"),t}function rO(t,e){let n=R.useContext(Pm),[r,l]=R.useState(!1),[u,g]=R.useState(!1),{onFocus:y,onBlur:b,onMouseEnter:x,onMouseLeave:E,onTouchStart:C}=e,N=R.useRef(null);R.useEffect(()=>{if(t==="render"&&g(!0),t==="viewport"){let B=V=>{V.forEach($=>{g($.isIntersecting)})},j=new IntersectionObserver(B,{threshold:.5});return N.current&&j.observe(N.current),()=>{j.disconnect()}}},[t]),R.useEffect(()=>{if(r){let B=setTimeout(()=>{g(!0)},100);return()=>{clearTimeout(B)}}},[r]);let O=()=>{l(!0)},M=()=>{l(!1),g(!1)};return n?t!=="intent"?[u,N,{}]:[u,N,{onFocus:ju(y,O),onBlur:ju(b,M),onMouseEnter:ju(x,O),onMouseLeave:ju(E,M),onTouchStart:ju(C,O)}]:[!1,N,{}]}function ju(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function aO({page:t,...e}){let{router:n}=C3(),r=R.useMemo(()=>m3(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?R.createElement(lO,{page:t,matches:r,...e}):null}function oO(t){let{manifest:e,routeModules:n}=A3(),[r,l]=R.useState([]);return R.useEffect(()=>{let u=!1;return ZR(t,e,n).then(g=>{u||l(g)}),()=>{u=!0}},[t,e,n]),r}function lO({page:t,matches:e,...n}){let r=ea(),{manifest:l,routeModules:u}=A3(),{basename:g}=C3(),{loaderData:y,matches:b}=sO(),x=R.useMemo(()=>db(t,e,b,l,r,"data"),[t,e,b,l,r]),E=R.useMemo(()=>db(t,e,b,l,r,"assets"),[t,e,b,l,r]),C=R.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let M=new Set,B=!1;if(e.forEach(V=>{var U;let $=l.routes[V.route.id];!$||!$.hasLoader||(!x.some(q=>q.route.id===V.route.id)&&V.route.id in y&&((U=u[V.route.id])!=null&&U.shouldRevalidate)||$.hasClientLoader?B=!0:M.add(V.route.id))}),M.size===0)return[];let j=iO(t,g);return B&&M.size>0&&j.searchParams.set("_routes",e.filter(V=>M.has(V.route.id)).map(V=>V.route.id).join(",")),[j.pathname+j.search]},[g,y,r,l,x,e,t,u]),N=R.useMemo(()=>QR(E,l),[E,l]),O=oO(E);return R.createElement(R.Fragment,null,C.map(M=>R.createElement("link",{key:M,rel:"prefetch",as:"fetch",href:M,...n})),N.map(M=>R.createElement("link",{key:M,rel:"modulepreload",href:M,...n})),O.map(({key:M,link:B})=>R.createElement("link",{key:M,...B})))}function cO(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var T3=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{T3&&(window.__reactRouterVersion="7.6.3")}catch{}function uO({basename:t,children:e,window:n}){let r=R.useRef();r.current==null&&(r.current=Y7({window:n,v5Compat:!0}));let l=r.current,[u,g]=R.useState({action:l.action,location:l.location}),y=R.useCallback(b=>{R.startTransition(()=>g(b))},[g]);return R.useLayoutEffect(()=>l.listen(y),[l,y]),R.createElement(UR,{basename:t,children:e,location:u.location,navigationType:u.action,navigator:l})}var _3=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,yh=R.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:l,reloadDocument:u,replace:g,state:y,target:b,to:x,preventScrollReset:E,viewTransition:C,...N},O){let{basename:M}=R.useContext(Hs),B=typeof x=="string"&&_3.test(x),j,V=!1;if(typeof x=="string"&&B&&(j=x,T3))try{let ee=new URL(window.location.href),pe=x.startsWith("//")?new URL(ee.protocol+x):new URL(x),ke=Kr(pe.pathname,M);pe.origin===ee.origin&&ke!=null?x=ke+pe.search+pe.hash:V=!0}catch{zs(!1,`<Link to="${x}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let $=wR(x,{relative:l}),[U,q,W]=rO(r,N),ne=gO(x,{replace:g,state:y,target:b,preventScrollReset:E,relative:l,viewTransition:C});function X(ee){e&&e(ee),ee.defaultPrevented||ne(ee)}let oe=R.createElement("a",{...N,...W,href:j||$,onClick:V||u?e:X,ref:cO(O,q),target:b,"data-discover":!B&&n==="render"?"true":void 0});return U&&!B?R.createElement(R.Fragment,null,oe,R.createElement(aO,{page:$})):oe});yh.displayName="Link";var fO=R.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:l=!1,style:u,to:g,viewTransition:y,children:b,...x},E){let C=Cf(g,{relative:x.relative}),N=ea(),O=R.useContext(jh),{navigator:M,basename:B}=R.useContext(Hs),j=O!=null&&bO(C)&&y===!0,V=M.encodeLocation?M.encodeLocation(C).pathname:C.pathname,$=N.pathname,U=O&&O.navigation&&O.navigation.location?O.navigation.location.pathname:null;n||($=$.toLowerCase(),U=U?U.toLowerCase():null,V=V.toLowerCase()),U&&B&&(U=Kr(U,B)||U);const q=V!=="/"&&V.endsWith("/")?V.length-1:V.length;let W=$===V||!l&&$.startsWith(V)&&$.charAt(q)==="/",ne=U!=null&&(U===V||!l&&U.startsWith(V)&&U.charAt(V.length)==="/"),X={isActive:W,isPending:ne,isTransitioning:j},oe=W?e:void 0,ee;typeof r=="function"?ee=r(X):ee=[r,W?"active":null,ne?"pending":null,j?"transitioning":null].filter(Boolean).join(" ");let pe=typeof u=="function"?u(X):u;return R.createElement(yh,{...x,"aria-current":oe,className:ee,ref:E,style:pe,to:g,viewTransition:y},typeof b=="function"?b(X):b)});fO.displayName="NavLink";var dO=R.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:l,state:u,method:g=oh,action:y,onSubmit:b,relative:x,preventScrollReset:E,viewTransition:C,...N},O)=>{let M=xO(),B=yO(y,{relative:x}),j=g.toLowerCase()==="get"?"get":"post",V=typeof y=="string"&&_3.test(y),$=U=>{if(b&&b(U),U.defaultPrevented)return;U.preventDefault();let q=U.nativeEvent.submitter,W=(q==null?void 0:q.getAttribute("formmethod"))||g;M(q||U.currentTarget,{fetcherKey:e,method:W,navigate:n,replace:l,state:u,relative:x,preventScrollReset:E,viewTransition:C})};return R.createElement("form",{ref:O,method:j,action:B,onSubmit:r?b:$,...N,"data-discover":!V&&t==="render"?"true":void 0})});dO.displayName="Form";function hO(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function N3(t){let e=R.useContext(Oc);return mn(e,hO(t)),e}function gO(t,{target:e,replace:n,state:r,preventScrollReset:l,relative:u,viewTransition:g}={}){let y=Ss(),b=ea(),x=Cf(t,{relative:u});return R.useCallback(E=>{if(GR(E,e)){E.preventDefault();let C=n!==void 0?n:cf(b)===cf(x);y(t,{replace:C,state:r,preventScrollReset:l,relative:u,viewTransition:g})}},[b,y,x,n,r,e,t,l,u,g])}var mO=0,pO=()=>`__${String(++mO)}__`;function xO(){let{router:t}=N3("useSubmit"),{basename:e}=R.useContext(Hs),n=LR();return R.useCallback(async(r,l={})=>{let{action:u,method:g,encType:y,formData:b,body:x}=XR(r,e);if(l.navigate===!1){let E=l.fetcherKey||pO();await t.fetch(E,n,l.action||u,{preventScrollReset:l.preventScrollReset,formData:b,body:x,formMethod:l.method||g,formEncType:l.encType||y,flushSync:l.flushSync})}else await t.navigate(l.action||u,{preventScrollReset:l.preventScrollReset,formData:b,body:x,formMethod:l.method||g,formEncType:l.encType||y,replace:l.replace,state:l.state,fromRouteId:n,flushSync:l.flushSync,viewTransition:l.viewTransition})},[t,e,n])}function yO(t,{relative:e}={}){let{basename:n}=R.useContext(Hs),r=R.useContext(Es);mn(r,"useFormAction must be used inside a RouteContext");let[l]=r.matches.slice(-1),u={...Cf(t||".",{relative:e})},g=ea();if(t==null){u.search=g.search;let y=new URLSearchParams(u.search),b=y.getAll("index");if(b.some(E=>E==="")){y.delete("index"),b.filter(C=>C).forEach(C=>y.append("index",C));let E=y.toString();u.search=E?`?${E}`:""}}return(!t||t===".")&&l.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:Yr([n,u.pathname])),cf(u)}function bO(t,e={}){let n=R.useContext(b3);mn(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=N3("useViewTransitionState"),l=Cf(t,{relative:e.relative});if(!n.isTransitioning)return!1;let u=Kr(n.currentLocation.pathname,r)||n.currentLocation.pathname,g=Kr(n.nextLocation.pathname,r)||n.nextLocation.pathname;return xh(l.pathname,g)!=null||xh(l.pathname,u)!=null}[...nO];var wO=g3(),Mc=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},il=typeof window>"u"||"Deno"in globalThis;function Ii(){}function vO(t,e){return typeof t=="function"?t(e):t}function kg(t){return typeof t=="number"&&t>=0&&t!==1/0}function R3(t,e){return Math.max(t+(e||0)-Date.now(),0)}function eo(t,e){return typeof t=="function"?t(e):t}function Fs(t,e){return typeof t=="function"?t(e):t}function hb(t,e){const{type:n="all",exact:r,fetchStatus:l,predicate:u,queryKey:g,stale:y}=t;if(g){if(r){if(e.queryHash!==Um(g,e.options))return!1}else if(!uf(e.queryKey,g))return!1}if(n!=="all"){const b=e.isActive();if(n==="active"&&!b||n==="inactive"&&b)return!1}return!(typeof y=="boolean"&&e.isStale()!==y||l&&l!==e.state.fetchStatus||u&&!u(e))}function gb(t,e){const{exact:n,status:r,predicate:l,mutationKey:u}=t;if(u){if(!e.options.mutationKey)return!1;if(n){if(sl(e.options.mutationKey)!==sl(u))return!1}else if(!uf(e.options.mutationKey,u))return!1}return!(r&&e.state.status!==r||l&&!l(e))}function Um(t,e){return((e==null?void 0:e.queryKeyHashFn)||sl)(t)}function sl(t){return JSON.stringify(t,(e,n)=>jg(n)?Object.keys(n).sort().reduce((r,l)=>(r[l]=n[l],r),{}):n)}function uf(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(n=>uf(t[n],e[n])):!1}function O3(t,e){if(t===e)return t;const n=mb(t)&&mb(e);if(n||jg(t)&&jg(e)){const r=n?t:Object.keys(t),l=r.length,u=n?e:Object.keys(e),g=u.length,y=n?[]:{},b=new Set(r);let x=0;for(let E=0;E<g;E++){const C=n?E:u[E];(!n&&b.has(C)||n)&&t[C]===void 0&&e[C]===void 0?(y[C]=void 0,x++):(y[C]=O3(t[C],e[C]),y[C]===t[C]&&t[C]!==void 0&&x++)}return l===g&&x===l?t:y}return e}function bh(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(t[n]!==e[n])return!1;return!0}function mb(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function jg(t){if(!pb(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!pb(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function pb(t){return Object.prototype.toString.call(t)==="[object Object]"}function EO(t){return new Promise(e=>{setTimeout(e,t)})}function Bg(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?O3(t,e):e}function SO(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function CO(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var Fm=Symbol();function I3(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===Fm?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}function M3(t,e){return typeof t=="function"?t(...e):!!t}var Ho,za,gc,Qv,AO=(Qv=class extends Mc{constructor(){super();Ke(this,Ho);Ke(this,za);Ke(this,gc);Fe(this,gc,e=>{if(!il&&window.addEventListener){const n=()=>e();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){Z(this,za)||this.setEventListener(Z(this,gc))}onUnsubscribe(){var e;this.hasListeners()||((e=Z(this,za))==null||e.call(this),Fe(this,za,void 0))}setEventListener(e){var n;Fe(this,gc,e),(n=Z(this,za))==null||n.call(this),Fe(this,za,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){Z(this,Ho)!==e&&(Fe(this,Ho,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(n=>{n(e)})}isFocused(){var e;return typeof Z(this,Ho)=="boolean"?Z(this,Ho):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},Ho=new WeakMap,za=new WeakMap,gc=new WeakMap,Qv),Vm=new AO,mc,Ha,pc,Jv,TO=(Jv=class extends Mc{constructor(){super();Ke(this,mc,!0);Ke(this,Ha);Ke(this,pc);Fe(this,pc,e=>{if(!il&&window.addEventListener){const n=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){Z(this,Ha)||this.setEventListener(Z(this,pc))}onUnsubscribe(){var e;this.hasListeners()||((e=Z(this,Ha))==null||e.call(this),Fe(this,Ha,void 0))}setEventListener(e){var n;Fe(this,pc,e),(n=Z(this,Ha))==null||n.call(this),Fe(this,Ha,e(this.setOnline.bind(this)))}setOnline(e){Z(this,mc)!==e&&(Fe(this,mc,e),this.listeners.forEach(r=>{r(e)}))}isOnline(){return Z(this,mc)}},mc=new WeakMap,Ha=new WeakMap,pc=new WeakMap,Jv),wh=new TO;function Pg(){let t,e;const n=new Promise((l,u)=>{t=l,e=u});n.status="pending",n.catch(()=>{});function r(l){Object.assign(n,l),delete n.resolve,delete n.reject}return n.resolve=l=>{r({status:"fulfilled",value:l}),t(l)},n.reject=l=>{r({status:"rejected",reason:l}),e(l)},n}function _O(t){return Math.min(1e3*2**t,3e4)}function D3(t){return(t??"online")==="online"?wh.isOnline():!0}var L3=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function ng(t){return t instanceof L3}function k3(t){let e=!1,n=0,r=!1,l;const u=Pg(),g=B=>{var j;r||(N(new L3(B)),(j=t.abort)==null||j.call(t))},y=()=>{e=!0},b=()=>{e=!1},x=()=>Vm.isFocused()&&(t.networkMode==="always"||wh.isOnline())&&t.canRun(),E=()=>D3(t.networkMode)&&t.canRun(),C=B=>{var j;r||(r=!0,(j=t.onSuccess)==null||j.call(t,B),l==null||l(),u.resolve(B))},N=B=>{var j;r||(r=!0,(j=t.onError)==null||j.call(t,B),l==null||l(),u.reject(B))},O=()=>new Promise(B=>{var j;l=V=>{(r||x())&&B(V)},(j=t.onPause)==null||j.call(t)}).then(()=>{var B;l=void 0,r||(B=t.onContinue)==null||B.call(t)}),M=()=>{if(r)return;let B;const j=n===0?t.initialPromise:void 0;try{B=j??t.fn()}catch(V){B=Promise.reject(V)}Promise.resolve(B).then(C).catch(V=>{var ne;if(r)return;const $=t.retry??(il?0:3),U=t.retryDelay??_O,q=typeof U=="function"?U(n,V):U,W=$===!0||typeof $=="number"&&n<$||typeof $=="function"&&$(n,V);if(e||!W){N(V);return}n++,(ne=t.onFail)==null||ne.call(t,n,V),EO(q).then(()=>x()?void 0:O()).then(()=>{e?N(V):M()})})};return{promise:u,cancel:g,continue:()=>(l==null||l(),u),cancelRetry:y,continueRetry:b,canStart:E,start:()=>(E()?M():O().then(M),u)}}var NO=t=>setTimeout(t,0);function RO(){let t=[],e=0,n=y=>{y()},r=y=>{y()},l=NO;const u=y=>{e?t.push(y):l(()=>{n(y)})},g=()=>{const y=t;t=[],y.length&&l(()=>{r(()=>{y.forEach(b=>{n(b)})})})};return{batch:y=>{let b;e++;try{b=y()}finally{e--,e||g()}return b},batchCalls:y=>(...b)=>{u(()=>{y(...b)})},schedule:u,setNotifyFunction:y=>{n=y},setBatchNotifyFunction:y=>{r=y},setScheduler:y=>{l=y}}}var Kn=RO(),$o,e3,j3=(e3=class{constructor(){Ke(this,$o)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),kg(this.gcTime)&&Fe(this,$o,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(il?1/0:5*60*1e3))}clearGcTimeout(){Z(this,$o)&&(clearTimeout(Z(this,$o)),Fe(this,$o,void 0))}},$o=new WeakMap,e3),xc,Go,ws,qo,Ei,bf,Yo,js,Fr,t3,OO=(t3=class extends j3{constructor(e){super();Ke(this,js);Ke(this,xc);Ke(this,Go);Ke(this,ws);Ke(this,qo);Ke(this,Ei);Ke(this,bf);Ke(this,Yo);Fe(this,Yo,!1),Fe(this,bf,e.defaultOptions),this.setOptions(e.options),this.observers=[],Fe(this,qo,e.client),Fe(this,ws,Z(this,qo).getQueryCache()),this.queryKey=e.queryKey,this.queryHash=e.queryHash,Fe(this,xc,IO(this.options)),this.state=e.state??Z(this,xc),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var e;return(e=Z(this,Ei))==null?void 0:e.promise}setOptions(e){this.options={...Z(this,bf),...e},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&Z(this,ws).remove(this)}setData(e,n){const r=Bg(this.state.data,e,this.options);return dt(this,js,Fr).call(this,{data:r,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),r}setState(e,n){dt(this,js,Fr).call(this,{type:"setState",state:e,setStateOptions:n})}cancel(e){var r,l;const n=(r=Z(this,Ei))==null?void 0:r.promise;return(l=Z(this,Ei))==null||l.cancel(e),n?n.then(Ii).catch(Ii):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(Z(this,xc))}isActive(){return this.observers.some(e=>Fs(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Fm||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>eo(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!R3(this.state.dataUpdatedAt,e)}onFocus(){var n;const e=this.observers.find(r=>r.shouldFetchOnWindowFocus());e==null||e.refetch({cancelRefetch:!1}),(n=Z(this,Ei))==null||n.continue()}onOnline(){var n;const e=this.observers.find(r=>r.shouldFetchOnReconnect());e==null||e.refetch({cancelRefetch:!1}),(n=Z(this,Ei))==null||n.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),Z(this,ws).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(n=>n!==e),this.observers.length||(Z(this,Ei)&&(Z(this,Yo)?Z(this,Ei).cancel({revert:!0}):Z(this,Ei).cancelRetry()),this.scheduleGc()),Z(this,ws).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||dt(this,js,Fr).call(this,{type:"invalidate"})}fetch(e,n){var x,E,C;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(Z(this,Ei))return Z(this,Ei).continueRetry(),Z(this,Ei).promise}if(e&&this.setOptions(e),!this.options.queryFn){const N=this.observers.find(O=>O.options.queryFn);N&&this.setOptions(N.options)}const r=new AbortController,l=N=>{Object.defineProperty(N,"signal",{enumerable:!0,get:()=>(Fe(this,Yo,!0),r.signal)})},u=()=>{const N=I3(this.options,n),M=(()=>{const B={client:Z(this,qo),queryKey:this.queryKey,meta:this.meta};return l(B),B})();return Fe(this,Yo,!1),this.options.persister?this.options.persister(N,M,this):N(M)},y=(()=>{const N={fetchOptions:n,options:this.options,queryKey:this.queryKey,client:Z(this,qo),state:this.state,fetchFn:u};return l(N),N})();(x=this.options.behavior)==null||x.onFetch(y,this),Fe(this,Go,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((E=y.fetchOptions)==null?void 0:E.meta))&&dt(this,js,Fr).call(this,{type:"fetch",meta:(C=y.fetchOptions)==null?void 0:C.meta});const b=N=>{var O,M,B,j;ng(N)&&N.silent||dt(this,js,Fr).call(this,{type:"error",error:N}),ng(N)||((M=(O=Z(this,ws).config).onError)==null||M.call(O,N,this),(j=(B=Z(this,ws).config).onSettled)==null||j.call(B,this.state.data,N,this)),this.scheduleGc()};return Fe(this,Ei,k3({initialPromise:n==null?void 0:n.initialPromise,fn:y.fetchFn,abort:r.abort.bind(r),onSuccess:N=>{var O,M,B,j;if(N===void 0){b(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(N)}catch(V){b(V);return}(M=(O=Z(this,ws).config).onSuccess)==null||M.call(O,N,this),(j=(B=Z(this,ws).config).onSettled)==null||j.call(B,N,this.state.error,this),this.scheduleGc()},onError:b,onFail:(N,O)=>{dt(this,js,Fr).call(this,{type:"failed",failureCount:N,error:O})},onPause:()=>{dt(this,js,Fr).call(this,{type:"pause"})},onContinue:()=>{dt(this,js,Fr).call(this,{type:"continue"})},retry:y.options.retry,retryDelay:y.options.retryDelay,networkMode:y.options.networkMode,canRun:()=>!0})),Z(this,Ei).start()}},xc=new WeakMap,Go=new WeakMap,ws=new WeakMap,qo=new WeakMap,Ei=new WeakMap,bf=new WeakMap,Yo=new WeakMap,js=new WeakSet,Fr=function(e){const n=r=>{switch(e.type){case"failed":return{...r,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...B3(r.data,this.options),fetchMeta:e.meta??null};case"success":return Fe(this,Go,void 0),{...r,data:e.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const l=e.error;return ng(l)&&l.revert&&Z(this,Go)?{...Z(this,Go),fetchStatus:"idle"}:{...r,error:l,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:l,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...e.state}}};this.state=n(this.state),Kn.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),Z(this,ws).notify({query:this,type:"updated",action:e})})},t3);function B3(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:D3(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function IO(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var fr,n3,MO=(n3=class extends Mc{constructor(e={}){super();Ke(this,fr);this.config=e,Fe(this,fr,new Map)}build(e,n,r){const l=n.queryKey,u=n.queryHash??Um(l,n);let g=this.get(u);return g||(g=new OO({client:e,queryKey:l,queryHash:u,options:e.defaultQueryOptions(n),state:r,defaultOptions:e.getQueryDefaults(l)}),this.add(g)),g}add(e){Z(this,fr).has(e.queryHash)||(Z(this,fr).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const n=Z(this,fr).get(e.queryHash);n&&(e.destroy(),n===e&&Z(this,fr).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){Kn.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return Z(this,fr).get(e)}getAll(){return[...Z(this,fr).values()]}find(e){const n={exact:!0,...e};return this.getAll().find(r=>hb(n,r))}findAll(e={}){const n=this.getAll();return Object.keys(e).length>0?n.filter(r=>hb(e,r)):n}notify(e){Kn.batch(()=>{this.listeners.forEach(n=>{n(e)})})}onFocus(){Kn.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){Kn.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},fr=new WeakMap,n3),dr,Ri,Xo,hr,ka,i3,DO=(i3=class extends j3{constructor(e){super();Ke(this,hr);Ke(this,dr);Ke(this,Ri);Ke(this,Xo);this.mutationId=e.mutationId,Fe(this,Ri,e.mutationCache),Fe(this,dr,[]),this.state=e.state||P3(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){Z(this,dr).includes(e)||(Z(this,dr).push(e),this.clearGcTimeout(),Z(this,Ri).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){Fe(this,dr,Z(this,dr).filter(n=>n!==e)),this.scheduleGc(),Z(this,Ri).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){Z(this,dr).length||(this.state.status==="pending"?this.scheduleGc():Z(this,Ri).remove(this))}continue(){var e;return((e=Z(this,Xo))==null?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var u,g,y,b,x,E,C,N,O,M,B,j,V,$,U,q,W,ne,X,oe;const n=()=>{dt(this,hr,ka).call(this,{type:"continue"})};Fe(this,Xo,k3({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(ee,pe)=>{dt(this,hr,ka).call(this,{type:"failed",failureCount:ee,error:pe})},onPause:()=>{dt(this,hr,ka).call(this,{type:"pause"})},onContinue:n,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>Z(this,Ri).canRun(this)}));const r=this.state.status==="pending",l=!Z(this,Xo).canStart();try{if(r)n();else{dt(this,hr,ka).call(this,{type:"pending",variables:e,isPaused:l}),await((g=(u=Z(this,Ri).config).onMutate)==null?void 0:g.call(u,e,this));const pe=await((b=(y=this.options).onMutate)==null?void 0:b.call(y,e));pe!==this.state.context&&dt(this,hr,ka).call(this,{type:"pending",context:pe,variables:e,isPaused:l})}const ee=await Z(this,Xo).start();return await((E=(x=Z(this,Ri).config).onSuccess)==null?void 0:E.call(x,ee,e,this.state.context,this)),await((N=(C=this.options).onSuccess)==null?void 0:N.call(C,ee,e,this.state.context)),await((M=(O=Z(this,Ri).config).onSettled)==null?void 0:M.call(O,ee,null,this.state.variables,this.state.context,this)),await((j=(B=this.options).onSettled)==null?void 0:j.call(B,ee,null,e,this.state.context)),dt(this,hr,ka).call(this,{type:"success",data:ee}),ee}catch(ee){try{throw await(($=(V=Z(this,Ri).config).onError)==null?void 0:$.call(V,ee,e,this.state.context,this)),await((q=(U=this.options).onError)==null?void 0:q.call(U,ee,e,this.state.context)),await((ne=(W=Z(this,Ri).config).onSettled)==null?void 0:ne.call(W,void 0,ee,this.state.variables,this.state.context,this)),await((oe=(X=this.options).onSettled)==null?void 0:oe.call(X,void 0,ee,e,this.state.context)),ee}finally{dt(this,hr,ka).call(this,{type:"error",error:ee})}}finally{Z(this,Ri).runNext(this)}}},dr=new WeakMap,Ri=new WeakMap,Xo=new WeakMap,hr=new WeakSet,ka=function(e){const n=r=>{switch(e.type){case"failed":return{...r,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...r,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:e.error,failureCount:r.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=n(this.state),Kn.batch(()=>{Z(this,dr).forEach(r=>{r.onMutationUpdate(e)}),Z(this,Ri).notify({mutation:this,type:"updated",action:e})})},i3);function P3(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Hr,Bs,wf,s3,LO=(s3=class extends Mc{constructor(e={}){super();Ke(this,Hr);Ke(this,Bs);Ke(this,wf);this.config=e,Fe(this,Hr,new Set),Fe(this,Bs,new Map),Fe(this,wf,0)}build(e,n,r){const l=new DO({mutationCache:this,mutationId:++$d(this,wf)._,options:e.defaultMutationOptions(n),state:r});return this.add(l),l}add(e){Z(this,Hr).add(e);const n=Xd(e);if(typeof n=="string"){const r=Z(this,Bs).get(n);r?r.push(e):Z(this,Bs).set(n,[e])}this.notify({type:"added",mutation:e})}remove(e){if(Z(this,Hr).delete(e)){const n=Xd(e);if(typeof n=="string"){const r=Z(this,Bs).get(n);if(r)if(r.length>1){const l=r.indexOf(e);l!==-1&&r.splice(l,1)}else r[0]===e&&Z(this,Bs).delete(n)}}this.notify({type:"removed",mutation:e})}canRun(e){const n=Xd(e);if(typeof n=="string"){const r=Z(this,Bs).get(n),l=r==null?void 0:r.find(u=>u.state.status==="pending");return!l||l===e}else return!0}runNext(e){var r;const n=Xd(e);if(typeof n=="string"){const l=(r=Z(this,Bs).get(n))==null?void 0:r.find(u=>u!==e&&u.state.isPaused);return(l==null?void 0:l.continue())??Promise.resolve()}else return Promise.resolve()}clear(){Kn.batch(()=>{Z(this,Hr).forEach(e=>{this.notify({type:"removed",mutation:e})}),Z(this,Hr).clear(),Z(this,Bs).clear()})}getAll(){return Array.from(Z(this,Hr))}find(e){const n={exact:!0,...e};return this.getAll().find(r=>gb(n,r))}findAll(e={}){return this.getAll().filter(n=>gb(e,n))}notify(e){Kn.batch(()=>{this.listeners.forEach(n=>{n(e)})})}resumePausedMutations(){const e=this.getAll().filter(n=>n.state.isPaused);return Kn.batch(()=>Promise.all(e.map(n=>n.continue().catch(Ii))))}},Hr=new WeakMap,Bs=new WeakMap,wf=new WeakMap,s3);function Xd(t){var e;return(e=t.options.scope)==null?void 0:e.id}function xb(t){return{onFetch:(e,n)=>{var E,C,N,O,M;const r=e.options,l=(N=(C=(E=e.fetchOptions)==null?void 0:E.meta)==null?void 0:C.fetchMore)==null?void 0:N.direction,u=((O=e.state.data)==null?void 0:O.pages)||[],g=((M=e.state.data)==null?void 0:M.pageParams)||[];let y={pages:[],pageParams:[]},b=0;const x=async()=>{let B=!1;const j=U=>{Object.defineProperty(U,"signal",{enumerable:!0,get:()=>(e.signal.aborted?B=!0:e.signal.addEventListener("abort",()=>{B=!0}),e.signal)})},V=I3(e.options,e.fetchOptions),$=async(U,q,W)=>{if(B)return Promise.reject();if(q==null&&U.pages.length)return Promise.resolve(U);const X=(()=>{const ke={client:e.client,queryKey:e.queryKey,pageParam:q,direction:W?"backward":"forward",meta:e.options.meta};return j(ke),ke})(),oe=await V(X),{maxPages:ee}=e.options,pe=W?CO:SO;return{pages:pe(U.pages,oe,ee),pageParams:pe(U.pageParams,q,ee)}};if(l&&u.length){const U=l==="backward",q=U?kO:yb,W={pages:u,pageParams:g},ne=q(r,W);y=await $(W,ne,U)}else{const U=t??u.length;do{const q=b===0?g[0]??r.initialPageParam:yb(r,y);if(b>0&&q==null)break;y=await $(y,q),b++}while(b<U)}return y};e.options.persister?e.fetchFn=()=>{var B,j;return(j=(B=e.options).persister)==null?void 0:j.call(B,x,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n)}:e.fetchFn=x}}}function yb(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function kO(t,{pages:e,pageParams:n}){var r;return e.length>0?(r=t.getPreviousPageParam)==null?void 0:r.call(t,e[0],e,n[0],n):void 0}var An,$a,Ga,yc,bc,qa,wc,vc,r3,jO=(r3=class{constructor(t={}){Ke(this,An);Ke(this,$a);Ke(this,Ga);Ke(this,yc);Ke(this,bc);Ke(this,qa);Ke(this,wc);Ke(this,vc);Fe(this,An,t.queryCache||new MO),Fe(this,$a,t.mutationCache||new LO),Fe(this,Ga,t.defaultOptions||{}),Fe(this,yc,new Map),Fe(this,bc,new Map),Fe(this,qa,0)}mount(){$d(this,qa)._++,Z(this,qa)===1&&(Fe(this,wc,Vm.subscribe(async t=>{t&&(await this.resumePausedMutations(),Z(this,An).onFocus())})),Fe(this,vc,wh.subscribe(async t=>{t&&(await this.resumePausedMutations(),Z(this,An).onOnline())})))}unmount(){var t,e;$d(this,qa)._--,Z(this,qa)===0&&((t=Z(this,wc))==null||t.call(this),Fe(this,wc,void 0),(e=Z(this,vc))==null||e.call(this),Fe(this,vc,void 0))}isFetching(t){return Z(this,An).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return Z(this,$a).findAll({...t,status:"pending"}).length}getQueryData(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=Z(this,An).get(e.queryHash))==null?void 0:n.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),n=Z(this,An).build(this,e),r=n.state.data;return r===void 0?this.fetchQuery(t):(t.revalidateIfStale&&n.isStaleByTime(eo(e.staleTime,n))&&this.prefetchQuery(e),Promise.resolve(r))}getQueriesData(t){return Z(this,An).findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),l=Z(this,An).get(r.queryHash),u=l==null?void 0:l.state.data,g=vO(e,u);if(g!==void 0)return Z(this,An).build(this,r).setData(g,{...n,manual:!0})}setQueriesData(t,e,n){return Kn.batch(()=>Z(this,An).findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=Z(this,An).get(e.queryHash))==null?void 0:n.state}removeQueries(t){const e=Z(this,An);Kn.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=Z(this,An);return Kn.batch(()=>(n.findAll(t).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const n={revert:!0,...e},r=Kn.batch(()=>Z(this,An).findAll(t).map(l=>l.cancel(n)));return Promise.all(r).then(Ii).catch(Ii)}invalidateQueries(t,e={}){return Kn.batch(()=>(Z(this,An).findAll(t).forEach(n=>{n.invalidate()}),(t==null?void 0:t.refetchType)==="none"?Promise.resolve():this.refetchQueries({...t,type:(t==null?void 0:t.refetchType)??(t==null?void 0:t.type)??"active"},e)))}refetchQueries(t,e={}){const n={...e,cancelRefetch:e.cancelRefetch??!0},r=Kn.batch(()=>Z(this,An).findAll(t).filter(l=>!l.isDisabled()&&!l.isStatic()).map(l=>{let u=l.fetch(void 0,n);return n.throwOnError||(u=u.catch(Ii)),l.state.fetchStatus==="paused"?Promise.resolve():u}));return Promise.all(r).then(Ii)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=Z(this,An).build(this,e);return n.isStaleByTime(eo(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(Ii).catch(Ii)}fetchInfiniteQuery(t){return t.behavior=xb(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(Ii).catch(Ii)}ensureInfiniteQueryData(t){return t.behavior=xb(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return wh.isOnline()?Z(this,$a).resumePausedMutations():Promise.resolve()}getQueryCache(){return Z(this,An)}getMutationCache(){return Z(this,$a)}getDefaultOptions(){return Z(this,Ga)}setDefaultOptions(t){Fe(this,Ga,t)}setQueryDefaults(t,e){Z(this,yc).set(sl(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...Z(this,yc).values()],n={};return e.forEach(r=>{uf(t,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(t,e){Z(this,bc).set(sl(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...Z(this,bc).values()],n={};return e.forEach(r=>{uf(t,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...Z(this,Ga).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=Um(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===Fm&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...Z(this,Ga).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){Z(this,An).clear(),Z(this,$a).clear()}},An=new WeakMap,$a=new WeakMap,Ga=new WeakMap,yc=new WeakMap,bc=new WeakMap,qa=new WeakMap,wc=new WeakMap,vc=new WeakMap,r3),Hi,Rt,vf,Oi,Wo,Ec,Ya,Xa,Ef,Sc,Cc,Ko,Zo,Wa,Ac,Vt,Vu,Ug,Fg,Vg,zg,Hg,$g,Gg,U3,a3,BO=(a3=class extends Mc{constructor(e,n){super();Ke(this,Vt);Ke(this,Hi);Ke(this,Rt);Ke(this,vf);Ke(this,Oi);Ke(this,Wo);Ke(this,Ec);Ke(this,Ya);Ke(this,Xa);Ke(this,Ef);Ke(this,Sc);Ke(this,Cc);Ke(this,Ko);Ke(this,Zo);Ke(this,Wa);Ke(this,Ac,new Set);this.options=n,Fe(this,Hi,e),Fe(this,Xa,null),Fe(this,Ya,Pg()),this.options.experimental_prefetchInRender||Z(this,Ya).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(n)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(Z(this,Rt).addObserver(this),bb(Z(this,Rt),this.options)?dt(this,Vt,Vu).call(this):this.updateResult(),dt(this,Vt,zg).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return qg(Z(this,Rt),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return qg(Z(this,Rt),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,dt(this,Vt,Hg).call(this),dt(this,Vt,$g).call(this),Z(this,Rt).removeObserver(this)}setOptions(e){const n=this.options,r=Z(this,Rt);if(this.options=Z(this,Hi).defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Fs(this.options.enabled,Z(this,Rt))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");dt(this,Vt,Gg).call(this),Z(this,Rt).setOptions(this.options),n._defaulted&&!bh(this.options,n)&&Z(this,Hi).getQueryCache().notify({type:"observerOptionsUpdated",query:Z(this,Rt),observer:this});const l=this.hasListeners();l&&wb(Z(this,Rt),r,this.options,n)&&dt(this,Vt,Vu).call(this),this.updateResult(),l&&(Z(this,Rt)!==r||Fs(this.options.enabled,Z(this,Rt))!==Fs(n.enabled,Z(this,Rt))||eo(this.options.staleTime,Z(this,Rt))!==eo(n.staleTime,Z(this,Rt)))&&dt(this,Vt,Ug).call(this);const u=dt(this,Vt,Fg).call(this);l&&(Z(this,Rt)!==r||Fs(this.options.enabled,Z(this,Rt))!==Fs(n.enabled,Z(this,Rt))||u!==Z(this,Wa))&&dt(this,Vt,Vg).call(this,u)}getOptimisticResult(e){const n=Z(this,Hi).getQueryCache().build(Z(this,Hi),e),r=this.createResult(n,e);return UO(this,r)&&(Fe(this,Oi,r),Fe(this,Ec,this.options),Fe(this,Wo,Z(this,Rt).state)),r}getCurrentResult(){return Z(this,Oi)}trackResult(e,n){return new Proxy(e,{get:(r,l)=>(this.trackProp(l),n==null||n(l),Reflect.get(r,l))})}trackProp(e){Z(this,Ac).add(e)}getCurrentQuery(){return Z(this,Rt)}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const n=Z(this,Hi).defaultQueryOptions(e),r=Z(this,Hi).getQueryCache().build(Z(this,Hi),n);return r.fetch().then(()=>this.createResult(r,n))}fetch(e){return dt(this,Vt,Vu).call(this,{...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),Z(this,Oi)))}createResult(e,n){var ee;const r=Z(this,Rt),l=this.options,u=Z(this,Oi),g=Z(this,Wo),y=Z(this,Ec),x=e!==r?e.state:Z(this,vf),{state:E}=e;let C={...E},N=!1,O;if(n._optimisticResults){const pe=this.hasListeners(),ke=!pe&&bb(e,n),be=pe&&wb(e,r,n,l);(ke||be)&&(C={...C,...B3(E.data,e.options)}),n._optimisticResults==="isRestoring"&&(C.fetchStatus="idle")}let{error:M,errorUpdatedAt:B,status:j}=C;O=C.data;let V=!1;if(n.placeholderData!==void 0&&O===void 0&&j==="pending"){let pe;u!=null&&u.isPlaceholderData&&n.placeholderData===(y==null?void 0:y.placeholderData)?(pe=u.data,V=!0):pe=typeof n.placeholderData=="function"?n.placeholderData((ee=Z(this,Cc))==null?void 0:ee.state.data,Z(this,Cc)):n.placeholderData,pe!==void 0&&(j="success",O=Bg(u==null?void 0:u.data,pe,n),N=!0)}if(n.select&&O!==void 0&&!V)if(u&&O===(g==null?void 0:g.data)&&n.select===Z(this,Ef))O=Z(this,Sc);else try{Fe(this,Ef,n.select),O=n.select(O),O=Bg(u==null?void 0:u.data,O,n),Fe(this,Sc,O),Fe(this,Xa,null)}catch(pe){Fe(this,Xa,pe)}Z(this,Xa)&&(M=Z(this,Xa),O=Z(this,Sc),B=Date.now(),j="error");const $=C.fetchStatus==="fetching",U=j==="pending",q=j==="error",W=U&&$,ne=O!==void 0,oe={status:j,fetchStatus:C.fetchStatus,isPending:U,isSuccess:j==="success",isError:q,isInitialLoading:W,isLoading:W,data:O,dataUpdatedAt:C.dataUpdatedAt,error:M,errorUpdatedAt:B,failureCount:C.fetchFailureCount,failureReason:C.fetchFailureReason,errorUpdateCount:C.errorUpdateCount,isFetched:C.dataUpdateCount>0||C.errorUpdateCount>0,isFetchedAfterMount:C.dataUpdateCount>x.dataUpdateCount||C.errorUpdateCount>x.errorUpdateCount,isFetching:$,isRefetching:$&&!U,isLoadingError:q&&!ne,isPaused:C.fetchStatus==="paused",isPlaceholderData:N,isRefetchError:q&&ne,isStale:zm(e,n),refetch:this.refetch,promise:Z(this,Ya)};if(this.options.experimental_prefetchInRender){const pe=Ce=>{oe.status==="error"?Ce.reject(oe.error):oe.data!==void 0&&Ce.resolve(oe.data)},ke=()=>{const Ce=Fe(this,Ya,oe.promise=Pg());pe(Ce)},be=Z(this,Ya);switch(be.status){case"pending":e.queryHash===r.queryHash&&pe(be);break;case"fulfilled":(oe.status==="error"||oe.data!==be.value)&&ke();break;case"rejected":(oe.status!=="error"||oe.error!==be.reason)&&ke();break}}return oe}updateResult(){const e=Z(this,Oi),n=this.createResult(Z(this,Rt),this.options);if(Fe(this,Wo,Z(this,Rt).state),Fe(this,Ec,this.options),Z(this,Wo).data!==void 0&&Fe(this,Cc,Z(this,Rt)),bh(n,e))return;Fe(this,Oi,n);const r=()=>{if(!e)return!0;const{notifyOnChangeProps:l}=this.options,u=typeof l=="function"?l():l;if(u==="all"||!u&&!Z(this,Ac).size)return!0;const g=new Set(u??Z(this,Ac));return this.options.throwOnError&&g.add("error"),Object.keys(Z(this,Oi)).some(y=>{const b=y;return Z(this,Oi)[b]!==e[b]&&g.has(b)})};dt(this,Vt,U3).call(this,{listeners:r()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&dt(this,Vt,zg).call(this)}},Hi=new WeakMap,Rt=new WeakMap,vf=new WeakMap,Oi=new WeakMap,Wo=new WeakMap,Ec=new WeakMap,Ya=new WeakMap,Xa=new WeakMap,Ef=new WeakMap,Sc=new WeakMap,Cc=new WeakMap,Ko=new WeakMap,Zo=new WeakMap,Wa=new WeakMap,Ac=new WeakMap,Vt=new WeakSet,Vu=function(e){dt(this,Vt,Gg).call(this);let n=Z(this,Rt).fetch(this.options,e);return e!=null&&e.throwOnError||(n=n.catch(Ii)),n},Ug=function(){dt(this,Vt,Hg).call(this);const e=eo(this.options.staleTime,Z(this,Rt));if(il||Z(this,Oi).isStale||!kg(e))return;const r=R3(Z(this,Oi).dataUpdatedAt,e)+1;Fe(this,Ko,setTimeout(()=>{Z(this,Oi).isStale||this.updateResult()},r))},Fg=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(Z(this,Rt)):this.options.refetchInterval)??!1},Vg=function(e){dt(this,Vt,$g).call(this),Fe(this,Wa,e),!(il||Fs(this.options.enabled,Z(this,Rt))===!1||!kg(Z(this,Wa))||Z(this,Wa)===0)&&Fe(this,Zo,setInterval(()=>{(this.options.refetchIntervalInBackground||Vm.isFocused())&&dt(this,Vt,Vu).call(this)},Z(this,Wa)))},zg=function(){dt(this,Vt,Ug).call(this),dt(this,Vt,Vg).call(this,dt(this,Vt,Fg).call(this))},Hg=function(){Z(this,Ko)&&(clearTimeout(Z(this,Ko)),Fe(this,Ko,void 0))},$g=function(){Z(this,Zo)&&(clearInterval(Z(this,Zo)),Fe(this,Zo,void 0))},Gg=function(){const e=Z(this,Hi).getQueryCache().build(Z(this,Hi),this.options);if(e===Z(this,Rt))return;const n=Z(this,Rt);Fe(this,Rt,e),Fe(this,vf,e.state),this.hasListeners()&&(n==null||n.removeObserver(this),e.addObserver(this))},U3=function(e){Kn.batch(()=>{e.listeners&&this.listeners.forEach(n=>{n(Z(this,Oi))}),Z(this,Hi).getQueryCache().notify({query:Z(this,Rt),type:"observerResultsUpdated"})})},a3);function PO(t,e){return Fs(e.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&e.retryOnMount===!1)}function bb(t,e){return PO(t,e)||t.state.data!==void 0&&qg(t,e,e.refetchOnMount)}function qg(t,e,n){if(Fs(e.enabled,t)!==!1&&eo(e.staleTime,t)!=="static"){const r=typeof n=="function"?n(t):n;return r==="always"||r!==!1&&zm(t,e)}return!1}function wb(t,e,n,r){return(t!==e||Fs(r.enabled,t)===!1)&&(!n.suspense||t.state.status!=="error")&&zm(t,n)}function zm(t,e){return Fs(e.enabled,t)!==!1&&t.isStaleByTime(eo(e.staleTime,t))}function UO(t,e){return!bh(t.getCurrentResult(),e)}var Ka,Za,$i,$r,Wr,ch,Yg,o3,FO=(o3=class extends Mc{constructor(n,r){super();Ke(this,Wr);Ke(this,Ka);Ke(this,Za);Ke(this,$i);Ke(this,$r);Fe(this,Ka,n),this.setOptions(r),this.bindMethods(),dt(this,Wr,ch).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(n){var l;const r=this.options;this.options=Z(this,Ka).defaultMutationOptions(n),bh(this.options,r)||Z(this,Ka).getMutationCache().notify({type:"observerOptionsUpdated",mutation:Z(this,$i),observer:this}),r!=null&&r.mutationKey&&this.options.mutationKey&&sl(r.mutationKey)!==sl(this.options.mutationKey)?this.reset():((l=Z(this,$i))==null?void 0:l.state.status)==="pending"&&Z(this,$i).setOptions(this.options)}onUnsubscribe(){var n;this.hasListeners()||(n=Z(this,$i))==null||n.removeObserver(this)}onMutationUpdate(n){dt(this,Wr,ch).call(this),dt(this,Wr,Yg).call(this,n)}getCurrentResult(){return Z(this,Za)}reset(){var n;(n=Z(this,$i))==null||n.removeObserver(this),Fe(this,$i,void 0),dt(this,Wr,ch).call(this),dt(this,Wr,Yg).call(this)}mutate(n,r){var l;return Fe(this,$r,r),(l=Z(this,$i))==null||l.removeObserver(this),Fe(this,$i,Z(this,Ka).getMutationCache().build(Z(this,Ka),this.options)),Z(this,$i).addObserver(this),Z(this,$i).execute(n)}},Ka=new WeakMap,Za=new WeakMap,$i=new WeakMap,$r=new WeakMap,Wr=new WeakSet,ch=function(){var r;const n=((r=Z(this,$i))==null?void 0:r.state)??P3();Fe(this,Za,{...n,isPending:n.status==="pending",isSuccess:n.status==="success",isError:n.status==="error",isIdle:n.status==="idle",mutate:this.mutate,reset:this.reset})},Yg=function(n){Kn.batch(()=>{var r,l,u,g,y,b,x,E;if(Z(this,$r)&&this.hasListeners()){const C=Z(this,Za).variables,N=Z(this,Za).context;(n==null?void 0:n.type)==="success"?((l=(r=Z(this,$r)).onSuccess)==null||l.call(r,n.data,C,N),(g=(u=Z(this,$r)).onSettled)==null||g.call(u,n.data,null,C,N)):(n==null?void 0:n.type)==="error"&&((b=(y=Z(this,$r)).onError)==null||b.call(y,n.error,C,N),(E=(x=Z(this,$r)).onSettled)==null||E.call(x,void 0,n.error,C,N))}this.listeners.forEach(C=>{C(Z(this,Za))})})},o3),F3=R.createContext(void 0),Dc=t=>{const e=R.useContext(F3);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},VO=({client:t,children:e})=>(R.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),T.jsx(F3.Provider,{value:t,children:e})),V3=R.createContext(!1),zO=()=>R.useContext(V3);V3.Provider;function HO(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var $O=R.createContext(HO()),GO=()=>R.useContext($O),qO=(t,e)=>{(t.suspense||t.throwOnError||t.experimental_prefetchInRender)&&(e.isReset()||(t.retryOnMount=!1))},YO=t=>{R.useEffect(()=>{t.clearReset()},[t])},XO=({result:t,errorResetBoundary:e,throwOnError:n,query:r,suspense:l})=>t.isError&&!e.isReset()&&!t.isFetching&&r&&(l&&t.data===void 0||M3(n,[t.error,r])),WO=t=>{if(t.suspense){const e=r=>r==="static"?r:Math.max(r??1e3,1e3),n=t.staleTime;t.staleTime=typeof n=="function"?(...r)=>e(n(...r)):e(n),typeof t.gcTime=="number"&&(t.gcTime=Math.max(t.gcTime,1e3))}},KO=(t,e)=>t.isLoading&&t.isFetching&&!e,ZO=(t,e)=>(t==null?void 0:t.suspense)&&e.isPending,vb=(t,e,n)=>e.fetchOptimistic(t).catch(()=>{n.clearReset()});function QO(t,e,n){var C,N,O,M,B;const r=zO(),l=GO(),u=Dc(),g=u.defaultQueryOptions(t);(N=(C=u.getDefaultOptions().queries)==null?void 0:C._experimental_beforeQuery)==null||N.call(C,g),g._optimisticResults=r?"isRestoring":"optimistic",WO(g),qO(g,l),YO(l);const y=!u.getQueryCache().get(g.queryHash),[b]=R.useState(()=>new e(u,g)),x=b.getOptimisticResult(g),E=!r&&t.subscribed!==!1;if(R.useSyncExternalStore(R.useCallback(j=>{const V=E?b.subscribe(Kn.batchCalls(j)):Ii;return b.updateResult(),V},[b,E]),()=>b.getCurrentResult(),()=>b.getCurrentResult()),R.useEffect(()=>{b.setOptions(g)},[g,b]),ZO(g,x))throw vb(g,b,l);if(XO({result:x,errorResetBoundary:l,throwOnError:g.throwOnError,query:u.getQueryCache().get(g.queryHash),suspense:g.suspense}))throw x.error;if((M=(O=u.getDefaultOptions().queries)==null?void 0:O._experimental_afterQuery)==null||M.call(O,g,x),g.experimental_prefetchInRender&&!il&&KO(x,r)){const j=y?vb(g,b,l):(B=u.getQueryCache().get(g.queryHash))==null?void 0:B.promise;j==null||j.catch(Ii).finally(()=>{b.updateResult()})}return g.notifyOnChangeProps?x:b.trackResult(x)}function hi(t,e){return QO(t,BO)}function Eb(t,e){const n=Dc(),[r]=R.useState(()=>new FO(n,t));R.useEffect(()=>{r.setOptions(t)},[r,t]);const l=R.useSyncExternalStore(R.useCallback(g=>r.subscribe(Kn.batchCalls(g)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),u=R.useCallback((g,y)=>{r.mutate(g,y).catch(Ii)},[r]);if(l.error&&M3(r.options.throwOnError,[l.error]))throw l.error;return{...l,mutate:u,mutateAsync:l.mutate}}const JO="modulepreload",eI=function(t){return"/sms/"+t},Sb={},Af=function(e,n,r){let l=Promise.resolve();if(n&&n.length>0){let g=function(x){return Promise.all(x.map(E=>Promise.resolve(E).then(C=>({status:"fulfilled",value:C}),C=>({status:"rejected",reason:C}))))};document.getElementsByTagName("link");const y=document.querySelector("meta[property=csp-nonce]"),b=(y==null?void 0:y.nonce)||(y==null?void 0:y.getAttribute("nonce"));l=g(n.map(x=>{if(x=eI(x),x in Sb)return;Sb[x]=!0;const E=x.endsWith(".css"),C=E?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${x}"]${C}`))return;const N=document.createElement("link");if(N.rel=E?"stylesheet":JO,E||(N.as="script"),N.crossOrigin="",N.href=x,b&&N.setAttribute("nonce",b),document.head.appendChild(N),E)return new Promise((O,M)=>{N.addEventListener("load",O),N.addEventListener("error",()=>M(new Error(`Unable to preload CSS for ${x}`)))})}))}function u(g){const y=new Event("vite:preloadError",{cancelable:!0});if(y.payload=g,window.dispatchEvent(y),!y.defaultPrevented)throw g}return l.then(g=>{for(const y of g||[])y.status==="rejected"&&u(y.reason);return e().catch(u)})},tI=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>Af(async()=>{const{default:r}=await Promise.resolve().then(()=>Lc);return{default:r}},[]).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)};class Hm extends Error{constructor(e,n="FunctionsError",r){super(e),this.name=n,this.context=r}}class nI extends Hm{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class Cb extends Hm{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class Ab extends Hm{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var Xg;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(Xg||(Xg={}));var iI=function(t,e,n,r){function l(u){return u instanceof n?u:new n(function(g){g(u)})}return new(n||(n=Promise))(function(u,g){function y(E){try{x(r.next(E))}catch(C){g(C)}}function b(E){try{x(r.throw(E))}catch(C){g(C)}}function x(E){E.done?u(E.value):l(E.value).then(y,b)}x((r=r.apply(t,e||[])).next())})};class sI{constructor(e,{headers:n={},customFetch:r,region:l=Xg.Any}={}){this.url=e,this.headers=n,this.region=l,this.fetch=tI(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,n={}){var r;return iI(this,void 0,void 0,function*(){try{const{headers:l,method:u,body:g}=n;let y={},{region:b}=n;b||(b=this.region);const x=new URL(`${this.url}/${e}`);b&&b!=="any"&&(y["x-region"]=b,x.searchParams.set("forceFunctionRegion",b));let E;g&&(l&&!Object.prototype.hasOwnProperty.call(l,"Content-Type")||!l)&&(typeof Blob<"u"&&g instanceof Blob||g instanceof ArrayBuffer?(y["Content-Type"]="application/octet-stream",E=g):typeof g=="string"?(y["Content-Type"]="text/plain",E=g):typeof FormData<"u"&&g instanceof FormData?E=g:(y["Content-Type"]="application/json",E=JSON.stringify(g)));const C=yield this.fetch(x.toString(),{method:u||"POST",headers:Object.assign(Object.assign(Object.assign({},y),this.headers),l),body:E}).catch(B=>{throw new nI(B)}),N=C.headers.get("x-relay-error");if(N&&N==="true")throw new Cb(C);if(!C.ok)throw new Ab(C);let O=((r=C.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),M;return O==="application/json"?M=yield C.json():O==="application/octet-stream"?M=yield C.blob():O==="text/event-stream"?M=C:O==="multipart/form-data"?M=yield C.formData():M=yield C.text(),{data:M,error:null,response:C}}catch(l){return{data:null,error:l,response:l instanceof Ab||l instanceof Cb?l.context:void 0}}})}}var ri={},Kl={},Zl={},Ql={},Jl={},ec={},rI=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Tc=rI();const aI=Tc.fetch,z3=Tc.fetch.bind(Tc),H3=Tc.Headers,oI=Tc.Request,lI=Tc.Response,Lc=Object.freeze(Object.defineProperty({__proto__:null,Headers:H3,Request:oI,Response:lI,default:z3,fetch:aI},Symbol.toStringTag,{value:"Module"})),cI=HA(Lc);var Wd={},Tb;function $3(){if(Tb)return Wd;Tb=1,Object.defineProperty(Wd,"__esModule",{value:!0});class t extends Error{constructor(n){super(n.message),this.name="PostgrestError",this.details=n.details,this.hint=n.hint,this.code=n.code}}return Wd.default=t,Wd}var _b;function G3(){if(_b)return ec;_b=1;var t=ec&&ec.__importDefault||function(l){return l&&l.__esModule?l:{default:l}};Object.defineProperty(ec,"__esModule",{value:!0});const e=t(cI),n=t($3());class r{constructor(u){this.shouldThrowOnError=!1,this.method=u.method,this.url=u.url,this.headers=u.headers,this.schema=u.schema,this.body=u.body,this.shouldThrowOnError=u.shouldThrowOnError,this.signal=u.signal,this.isMaybeSingle=u.isMaybeSingle,u.fetch?this.fetch=u.fetch:typeof fetch>"u"?this.fetch=e.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(u,g){return this.headers=Object.assign({},this.headers),this.headers[u]=g,this}then(u,g){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const y=this.fetch;let b=y(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async x=>{var E,C,N;let O=null,M=null,B=null,j=x.status,V=x.statusText;if(x.ok){if(this.method!=="HEAD"){const W=await x.text();W===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?M=W:M=JSON.parse(W))}const U=(E=this.headers.Prefer)===null||E===void 0?void 0:E.match(/count=(exact|planned|estimated)/),q=(C=x.headers.get("content-range"))===null||C===void 0?void 0:C.split("/");U&&q&&q.length>1&&(B=parseInt(q[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(M)&&(M.length>1?(O={code:"PGRST116",details:`Results contain ${M.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},M=null,B=null,j=406,V="Not Acceptable"):M.length===1?M=M[0]:M=null)}else{const U=await x.text();try{O=JSON.parse(U),Array.isArray(O)&&x.status===404&&(M=[],O=null,j=200,V="OK")}catch{x.status===404&&U===""?(j=204,V="No Content"):O={message:U}}if(O&&this.isMaybeSingle&&(!((N=O==null?void 0:O.details)===null||N===void 0)&&N.includes("0 rows"))&&(O=null,j=200,V="OK"),O&&this.shouldThrowOnError)throw new n.default(O)}return{error:O,data:M,count:B,status:j,statusText:V}});return this.shouldThrowOnError||(b=b.catch(x=>{var E,C,N;return{error:{message:`${(E=x==null?void 0:x.name)!==null&&E!==void 0?E:"FetchError"}: ${x==null?void 0:x.message}`,details:`${(C=x==null?void 0:x.stack)!==null&&C!==void 0?C:""}`,hint:"",code:`${(N=x==null?void 0:x.code)!==null&&N!==void 0?N:""}`},data:null,count:null,status:0,statusText:""}})),b.then(u,g)}returns(){return this}overrideTypes(){return this}}return ec.default=r,ec}var Nb;function q3(){if(Nb)return Jl;Nb=1;var t=Jl&&Jl.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Jl,"__esModule",{value:!0});const e=t(G3());class n extends e.default{select(l){let u=!1;const g=(l??"*").split("").map(y=>/\s/.test(y)&&!u?"":(y==='"'&&(u=!u),y)).join("");return this.url.searchParams.set("select",g),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(l,{ascending:u=!0,nullsFirst:g,foreignTable:y,referencedTable:b=y}={}){const x=b?`${b}.order`:"order",E=this.url.searchParams.get(x);return this.url.searchParams.set(x,`${E?`${E},`:""}${l}.${u?"asc":"desc"}${g===void 0?"":g?".nullsfirst":".nullslast"}`),this}limit(l,{foreignTable:u,referencedTable:g=u}={}){const y=typeof g>"u"?"limit":`${g}.limit`;return this.url.searchParams.set(y,`${l}`),this}range(l,u,{foreignTable:g,referencedTable:y=g}={}){const b=typeof y>"u"?"offset":`${y}.offset`,x=typeof y>"u"?"limit":`${y}.limit`;return this.url.searchParams.set(b,`${l}`),this.url.searchParams.set(x,`${u-l+1}`),this}abortSignal(l){return this.signal=l,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:l=!1,verbose:u=!1,settings:g=!1,buffers:y=!1,wal:b=!1,format:x="text"}={}){var E;const C=[l?"analyze":null,u?"verbose":null,g?"settings":null,y?"buffers":null,b?"wal":null].filter(Boolean).join("|"),N=(E=this.headers.Accept)!==null&&E!==void 0?E:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${x}; for="${N}"; options=${C};`,x==="json"?this:this}rollback(){var l;return((l=this.headers.Prefer)!==null&&l!==void 0?l:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}}return Jl.default=n,Jl}var Rb;function $m(){if(Rb)return Ql;Rb=1;var t=Ql&&Ql.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Ql,"__esModule",{value:!0});const e=t(q3());class n extends e.default{eq(l,u){return this.url.searchParams.append(l,`eq.${u}`),this}neq(l,u){return this.url.searchParams.append(l,`neq.${u}`),this}gt(l,u){return this.url.searchParams.append(l,`gt.${u}`),this}gte(l,u){return this.url.searchParams.append(l,`gte.${u}`),this}lt(l,u){return this.url.searchParams.append(l,`lt.${u}`),this}lte(l,u){return this.url.searchParams.append(l,`lte.${u}`),this}like(l,u){return this.url.searchParams.append(l,`like.${u}`),this}likeAllOf(l,u){return this.url.searchParams.append(l,`like(all).{${u.join(",")}}`),this}likeAnyOf(l,u){return this.url.searchParams.append(l,`like(any).{${u.join(",")}}`),this}ilike(l,u){return this.url.searchParams.append(l,`ilike.${u}`),this}ilikeAllOf(l,u){return this.url.searchParams.append(l,`ilike(all).{${u.join(",")}}`),this}ilikeAnyOf(l,u){return this.url.searchParams.append(l,`ilike(any).{${u.join(",")}}`),this}is(l,u){return this.url.searchParams.append(l,`is.${u}`),this}in(l,u){const g=Array.from(new Set(u)).map(y=>typeof y=="string"&&new RegExp("[,()]").test(y)?`"${y}"`:`${y}`).join(",");return this.url.searchParams.append(l,`in.(${g})`),this}contains(l,u){return typeof u=="string"?this.url.searchParams.append(l,`cs.${u}`):Array.isArray(u)?this.url.searchParams.append(l,`cs.{${u.join(",")}}`):this.url.searchParams.append(l,`cs.${JSON.stringify(u)}`),this}containedBy(l,u){return typeof u=="string"?this.url.searchParams.append(l,`cd.${u}`):Array.isArray(u)?this.url.searchParams.append(l,`cd.{${u.join(",")}}`):this.url.searchParams.append(l,`cd.${JSON.stringify(u)}`),this}rangeGt(l,u){return this.url.searchParams.append(l,`sr.${u}`),this}rangeGte(l,u){return this.url.searchParams.append(l,`nxl.${u}`),this}rangeLt(l,u){return this.url.searchParams.append(l,`sl.${u}`),this}rangeLte(l,u){return this.url.searchParams.append(l,`nxr.${u}`),this}rangeAdjacent(l,u){return this.url.searchParams.append(l,`adj.${u}`),this}overlaps(l,u){return typeof u=="string"?this.url.searchParams.append(l,`ov.${u}`):this.url.searchParams.append(l,`ov.{${u.join(",")}}`),this}textSearch(l,u,{config:g,type:y}={}){let b="";y==="plain"?b="pl":y==="phrase"?b="ph":y==="websearch"&&(b="w");const x=g===void 0?"":`(${g})`;return this.url.searchParams.append(l,`${b}fts${x}.${u}`),this}match(l){return Object.entries(l).forEach(([u,g])=>{this.url.searchParams.append(u,`eq.${g}`)}),this}not(l,u,g){return this.url.searchParams.append(l,`not.${u}.${g}`),this}or(l,{foreignTable:u,referencedTable:g=u}={}){const y=g?`${g}.or`:"or";return this.url.searchParams.append(y,`(${l})`),this}filter(l,u,g){return this.url.searchParams.append(l,`${u}.${g}`),this}}return Ql.default=n,Ql}var Ob;function Y3(){if(Ob)return Zl;Ob=1;var t=Zl&&Zl.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Zl,"__esModule",{value:!0});const e=t($m());class n{constructor(l,{headers:u={},schema:g,fetch:y}){this.url=l,this.headers=u,this.schema=g,this.fetch=y}select(l,{head:u=!1,count:g}={}){const y=u?"HEAD":"GET";let b=!1;const x=(l??"*").split("").map(E=>/\s/.test(E)&&!b?"":(E==='"'&&(b=!b),E)).join("");return this.url.searchParams.set("select",x),g&&(this.headers.Prefer=`count=${g}`),new e.default({method:y,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(l,{count:u,defaultToNull:g=!0}={}){const y="POST",b=[];if(this.headers.Prefer&&b.push(this.headers.Prefer),u&&b.push(`count=${u}`),g||b.push("missing=default"),this.headers.Prefer=b.join(","),Array.isArray(l)){const x=l.reduce((E,C)=>E.concat(Object.keys(C)),[]);if(x.length>0){const E=[...new Set(x)].map(C=>`"${C}"`);this.url.searchParams.set("columns",E.join(","))}}return new e.default({method:y,url:this.url,headers:this.headers,schema:this.schema,body:l,fetch:this.fetch,allowEmpty:!1})}upsert(l,{onConflict:u,ignoreDuplicates:g=!1,count:y,defaultToNull:b=!0}={}){const x="POST",E=[`resolution=${g?"ignore":"merge"}-duplicates`];if(u!==void 0&&this.url.searchParams.set("on_conflict",u),this.headers.Prefer&&E.push(this.headers.Prefer),y&&E.push(`count=${y}`),b||E.push("missing=default"),this.headers.Prefer=E.join(","),Array.isArray(l)){const C=l.reduce((N,O)=>N.concat(Object.keys(O)),[]);if(C.length>0){const N=[...new Set(C)].map(O=>`"${O}"`);this.url.searchParams.set("columns",N.join(","))}}return new e.default({method:x,url:this.url,headers:this.headers,schema:this.schema,body:l,fetch:this.fetch,allowEmpty:!1})}update(l,{count:u}={}){const g="PATCH",y=[];return this.headers.Prefer&&y.push(this.headers.Prefer),u&&y.push(`count=${u}`),this.headers.Prefer=y.join(","),new e.default({method:g,url:this.url,headers:this.headers,schema:this.schema,body:l,fetch:this.fetch,allowEmpty:!1})}delete({count:l}={}){const u="DELETE",g=[];return l&&g.push(`count=${l}`),this.headers.Prefer&&g.unshift(this.headers.Prefer),this.headers.Prefer=g.join(","),new e.default({method:u,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}}return Zl.default=n,Zl}var Bu={},Pu={},Ib;function uI(){return Ib||(Ib=1,Object.defineProperty(Pu,"__esModule",{value:!0}),Pu.version=void 0,Pu.version="0.0.0-automated"),Pu}var Mb;function fI(){if(Mb)return Bu;Mb=1,Object.defineProperty(Bu,"__esModule",{value:!0}),Bu.DEFAULT_HEADERS=void 0;const t=uI();return Bu.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${t.version}`},Bu}var Db;function dI(){if(Db)return Kl;Db=1;var t=Kl&&Kl.__importDefault||function(u){return u&&u.__esModule?u:{default:u}};Object.defineProperty(Kl,"__esModule",{value:!0});const e=t(Y3()),n=t($m()),r=fI();class l{constructor(g,{headers:y={},schema:b,fetch:x}={}){this.url=g,this.headers=Object.assign(Object.assign({},r.DEFAULT_HEADERS),y),this.schemaName=b,this.fetch=x}from(g){const y=new URL(`${this.url}/${g}`);return new e.default(y,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(g){return new l(this.url,{headers:this.headers,schema:g,fetch:this.fetch})}rpc(g,y={},{head:b=!1,get:x=!1,count:E}={}){let C;const N=new URL(`${this.url}/rpc/${g}`);let O;b||x?(C=b?"HEAD":"GET",Object.entries(y).filter(([B,j])=>j!==void 0).map(([B,j])=>[B,Array.isArray(j)?`{${j.join(",")}}`:`${j}`]).forEach(([B,j])=>{N.searchParams.append(B,j)})):(C="POST",O=y);const M=Object.assign({},this.headers);return E&&(M.Prefer=`count=${E}`),new n.default({method:C,url:N,headers:M,schema:this.schemaName,body:O,fetch:this.fetch,allowEmpty:!1})}}return Kl.default=l,Kl}var Lb;function hI(){if(Lb)return ri;Lb=1;var t=ri&&ri.__importDefault||function(y){return y&&y.__esModule?y:{default:y}};Object.defineProperty(ri,"__esModule",{value:!0}),ri.PostgrestError=ri.PostgrestBuilder=ri.PostgrestTransformBuilder=ri.PostgrestFilterBuilder=ri.PostgrestQueryBuilder=ri.PostgrestClient=void 0;const e=t(dI());ri.PostgrestClient=e.default;const n=t(Y3());ri.PostgrestQueryBuilder=n.default;const r=t($m());ri.PostgrestFilterBuilder=r.default;const l=t(q3());ri.PostgrestTransformBuilder=l.default;const u=t(G3());ri.PostgrestBuilder=u.default;const g=t($3());return ri.PostgrestError=g.default,ri.default={PostgrestClient:e.default,PostgrestQueryBuilder:n.default,PostgrestFilterBuilder:r.default,PostgrestTransformBuilder:l.default,PostgrestBuilder:u.default,PostgrestError:g.default},ri}var gI=hI();const mI=Im(gI),{PostgrestClient:pI,PostgrestQueryBuilder:OV,PostgrestFilterBuilder:IV,PostgrestTransformBuilder:MV,PostgrestBuilder:DV,PostgrestError:LV}=mI;function xI(){if(typeof WebSocket<"u")return WebSocket;if(typeof global.WebSocket<"u")return global.WebSocket;if(typeof window.WebSocket<"u")return window.WebSocket;if(typeof self.WebSocket<"u")return self.WebSocket;throw new Error("`WebSocket` is not supported in this environment")}const yI=xI(),bI="2.11.15",wI=`realtime-js/${bI}`,vI="1.0.0",X3=1e4,EI=1e3;var Wu;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(Wu||(Wu={}));var vi;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(vi||(vi={}));var Ps;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(Ps||(Ps={}));var Wg;(function(t){t.websocket="websocket"})(Wg||(Wg={}));var Po;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(Po||(Po={}));class SI{constructor(){this.HEADER_LENGTH=1}decode(e,n){return e.constructor===ArrayBuffer?n(this._binaryDecode(e)):n(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const n=new DataView(e),r=new TextDecoder;return this._decodeBroadcast(e,n,r)}_decodeBroadcast(e,n,r){const l=n.getUint8(1),u=n.getUint8(2);let g=this.HEADER_LENGTH+2;const y=r.decode(e.slice(g,g+l));g=g+l;const b=r.decode(e.slice(g,g+u));g=g+u;const x=JSON.parse(r.decode(e.slice(g,e.byteLength)));return{ref:null,topic:y,event:b,payload:x}}}class W3{constructor(e,n){this.callback=e,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var on;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(on||(on={}));const kb=(t,e,n={})=>{var r;const l=(r=n.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(e).reduce((u,g)=>(u[g]=CI(g,t,e,l),u),{})},CI=(t,e,n,r)=>{const l=e.find(y=>y.name===t),u=l==null?void 0:l.type,g=n[t];return u&&!r.includes(u)?K3(u,g):Kg(g)},K3=(t,e)=>{if(t.charAt(0)==="_"){const n=t.slice(1,t.length);return NI(e,n)}switch(t){case on.bool:return AI(e);case on.float4:case on.float8:case on.int2:case on.int4:case on.int8:case on.numeric:case on.oid:return TI(e);case on.json:case on.jsonb:return _I(e);case on.timestamp:return RI(e);case on.abstime:case on.date:case on.daterange:case on.int4range:case on.int8range:case on.money:case on.reltime:case on.text:case on.time:case on.timestamptz:case on.timetz:case on.tsrange:case on.tstzrange:return Kg(e);default:return Kg(e)}},Kg=t=>t,AI=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},TI=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},_I=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},NI=(t,e)=>{if(typeof t!="string")return t;const n=t.length-1,r=t[n];if(t[0]==="{"&&r==="}"){let u;const g=t.slice(1,n);try{u=JSON.parse("["+g+"]")}catch{u=g?g.split(","):[]}return u.map(y=>K3(e,y))}return t},RI=t=>typeof t=="string"?t.replace(" ","T"):t,Z3=t=>{let e=t;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")};class ig{constructor(e,n,r={},l=X3){this.channel=e,this.event=n,this.payload=r,this.timeout=l,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,n){var r;return this._hasReceived(e)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:e,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:n}){this.recHooks.filter(r=>r.status===e).forEach(r=>r.callback(n))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var jb;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(jb||(jb={}));class Ku{constructor(e,n){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},l=>{const{onJoin:u,onLeave:g,onSync:y}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Ku.syncState(this.state,l,u,g),this.pendingDiffs.forEach(b=>{this.state=Ku.syncDiff(this.state,b,u,g)}),this.pendingDiffs=[],y()}),this.channel._on(r.diff,{},l=>{const{onJoin:u,onLeave:g,onSync:y}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(l):(this.state=Ku.syncDiff(this.state,l,u,g),y())}),this.onJoin((l,u,g)=>{this.channel._trigger("presence",{event:"join",key:l,currentPresences:u,newPresences:g})}),this.onLeave((l,u,g)=>{this.channel._trigger("presence",{event:"leave",key:l,currentPresences:u,leftPresences:g})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,n,r,l){const u=this.cloneDeep(e),g=this.transformState(n),y={},b={};return this.map(u,(x,E)=>{g[x]||(b[x]=E)}),this.map(g,(x,E)=>{const C=u[x];if(C){const N=E.map(j=>j.presence_ref),O=C.map(j=>j.presence_ref),M=E.filter(j=>O.indexOf(j.presence_ref)<0),B=C.filter(j=>N.indexOf(j.presence_ref)<0);M.length>0&&(y[x]=M),B.length>0&&(b[x]=B)}else y[x]=E}),this.syncDiff(u,{joins:y,leaves:b},r,l)}static syncDiff(e,n,r,l){const{joins:u,leaves:g}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),l||(l=()=>{}),this.map(u,(y,b)=>{var x;const E=(x=e[y])!==null&&x!==void 0?x:[];if(e[y]=this.cloneDeep(b),E.length>0){const C=e[y].map(O=>O.presence_ref),N=E.filter(O=>C.indexOf(O.presence_ref)<0);e[y].unshift(...N)}r(y,E,b)}),this.map(g,(y,b)=>{let x=e[y];if(!x)return;const E=b.map(C=>C.presence_ref);x=x.filter(C=>E.indexOf(C.presence_ref)<0),e[y]=x,l(y,x,b),x.length===0&&delete e[y]}),e}static map(e,n){return Object.getOwnPropertyNames(e).map(r=>n(r,e[r]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((n,r)=>{const l=e[r];return"metas"in l?n[r]=l.metas.map(u=>(u.presence_ref=u.phx_ref,delete u.phx_ref,delete u.phx_ref_prev,u)):n[r]=l,n},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Bb;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(Bb||(Bb={}));var Pb;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(Pb||(Pb={}));var zr;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(zr||(zr={}));class Gm{constructor(e,n={config:{}},r){this.topic=e,this.params=n,this.socket=r,this.bindings={},this.state=vi.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new ig(this,Ps.join,this.params,this.timeout),this.rejoinTimer=new W3(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=vi.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(l=>l.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=vi.closed,this.socket._remove(this)}),this._onError(l=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,l),this.state=vi.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=vi.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Ps.reply,{},(l,u)=>{this._trigger(this._replyEventName(u),l)}),this.presence=new Ku(this),this.broadcastEndpointURL=Z3(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(e,n=this.timeout){var r,l;if(this.socket.isConnected()||this.socket.connect(),this.state==vi.closed){const{config:{broadcast:u,presence:g,private:y}}=this.params;this._onError(E=>e==null?void 0:e(zr.CHANNEL_ERROR,E)),this._onClose(()=>e==null?void 0:e(zr.CLOSED));const b={},x={broadcast:u,presence:g,postgres_changes:(l=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(E=>E.filter))!==null&&l!==void 0?l:[],private:y};this.socket.accessTokenValue&&(b.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:x},b)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:E})=>{var C;if(this.socket.setAuth(),E===void 0){e==null||e(zr.SUBSCRIBED);return}else{const N=this.bindings.postgres_changes,O=(C=N==null?void 0:N.length)!==null&&C!==void 0?C:0,M=[];for(let B=0;B<O;B++){const j=N[B],{filter:{event:V,schema:$,table:U,filter:q}}=j,W=E&&E[B];if(W&&W.event===V&&W.schema===$&&W.table===U&&W.filter===q)M.push(Object.assign(Object.assign({},j),{id:W.id}));else{this.unsubscribe(),this.state=vi.errored,e==null||e(zr.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=M,e&&e(zr.SUBSCRIBED);return}}).receive("error",E=>{this.state=vi.errored,e==null||e(zr.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(E).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(zr.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,n={}){return await this.send({type:"presence",event:"track",payload:e},n.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,n,r){return this._on(e,n,r)}async send(e,n={}){var r,l;if(!this._canPush()&&e.type==="broadcast"){const{event:u,payload:g}=e,b={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:u,payload:g,private:this.private}]})};try{const x=await this._fetchWithTimeout(this.broadcastEndpointURL,b,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((l=x.body)===null||l===void 0?void 0:l.cancel()),x.ok?"ok":"error"}catch(x){return x.name==="AbortError"?"timed out":"error"}}else return new Promise(u=>{var g,y,b;const x=this._push(e.type,e,n.timeout||this.timeout);e.type==="broadcast"&&!(!((b=(y=(g=this.params)===null||g===void 0?void 0:g.config)===null||y===void 0?void 0:y.broadcast)===null||b===void 0)&&b.ack)&&u("ok"),x.receive("ok",()=>u("ok")),x.receive("error",()=>u("error")),x.receive("timeout",()=>u("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=vi.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Ps.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(l=>{r=new ig(this,Ps.leave,{},e),r.receive("ok",()=>{n(),l("ok")}).receive("timeout",()=>{n(),l("timed out")}).receive("error",()=>{l("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r==null||r.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.rejoinTimer&&clearTimeout(this.rejoinTimer.timer),this.joinPush.destroy()}async _fetchWithTimeout(e,n,r){const l=new AbortController,u=setTimeout(()=>l.abort(),r),g=await this.socket.fetch(e,Object.assign(Object.assign({},n),{signal:l.signal}));return clearTimeout(u),g}_push(e,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let l=new ig(this,e,n,r);return this._canPush()?l.send():(l.startTimeout(),this.pushBuffer.push(l)),l}_onMessage(e,n,r){return n}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,n,r){var l,u;const g=e.toLocaleLowerCase(),{close:y,error:b,leave:x,join:E}=Ps;if(r&&[y,b,x,E].indexOf(g)>=0&&r!==this._joinRef())return;let N=this._onMessage(g,n,r);if(n&&!N)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(g)?(l=this.bindings.postgres_changes)===null||l===void 0||l.filter(O=>{var M,B,j;return((M=O.filter)===null||M===void 0?void 0:M.event)==="*"||((j=(B=O.filter)===null||B===void 0?void 0:B.event)===null||j===void 0?void 0:j.toLocaleLowerCase())===g}).map(O=>O.callback(N,r)):(u=this.bindings[g])===null||u===void 0||u.filter(O=>{var M,B,j,V,$,U;if(["broadcast","presence","postgres_changes"].includes(g))if("id"in O){const q=O.id,W=(M=O.filter)===null||M===void 0?void 0:M.event;return q&&((B=n.ids)===null||B===void 0?void 0:B.includes(q))&&(W==="*"||(W==null?void 0:W.toLocaleLowerCase())===((j=n.data)===null||j===void 0?void 0:j.type.toLocaleLowerCase()))}else{const q=($=(V=O==null?void 0:O.filter)===null||V===void 0?void 0:V.event)===null||$===void 0?void 0:$.toLocaleLowerCase();return q==="*"||q===((U=n==null?void 0:n.event)===null||U===void 0?void 0:U.toLocaleLowerCase())}else return O.type.toLocaleLowerCase()===g}).map(O=>{if(typeof N=="object"&&"ids"in N){const M=N.data,{schema:B,table:j,commit_timestamp:V,type:$,errors:U}=M;N=Object.assign(Object.assign({},{schema:B,table:j,commit_timestamp:V,eventType:$,new:{},old:{},errors:U}),this._getPayloadRecords(M))}O.callback(N,r)})}_isClosed(){return this.state===vi.closed}_isJoined(){return this.state===vi.joined}_isJoining(){return this.state===vi.joining}_isLeaving(){return this.state===vi.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,n,r){const l=e.toLocaleLowerCase(),u={type:l,filter:n,callback:r};return this.bindings[l]?this.bindings[l].push(u):this.bindings[l]=[u],this}_off(e,n){const r=e.toLocaleLowerCase();return this.bindings[r]=this.bindings[r].filter(l=>{var u;return!(((u=l.type)===null||u===void 0?void 0:u.toLocaleLowerCase())===r&&Gm.isEqual(l.filter,n))}),this}static isEqual(e,n){if(Object.keys(e).length!==Object.keys(n).length)return!1;for(const r in e)if(e[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Ps.close,{},e)}_onError(e){this._on(Ps.error,{},n=>e(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=vi.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const n={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(n.new=kb(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(n.old=kb(e.columns,e.old_record)),n}}const Ub=()=>{},OI=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class II{constructor(e,n){var r;this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=X3,this.heartbeatIntervalMs=25e3,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Ub,this.ref=0,this.logger=Ub,this.conn=null,this.sendBuffer=[],this.serializer=new SI,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=u=>{let g;return u?g=u:typeof fetch>"u"?g=(...y)=>Af(async()=>{const{default:b}=await Promise.resolve().then(()=>Lc);return{default:b}},void 0).then(({default:b})=>b(...y)):g=fetch,(...y)=>g(...y)},this.endPoint=`${e}/${Wg.websocket}`,this.httpEndpoint=Z3(e),n!=null&&n.transport?this.transport=n.transport:this.transport=null,n!=null&&n.params&&(this.params=n.params),n!=null&&n.timeout&&(this.timeout=n.timeout),n!=null&&n.logger&&(this.logger=n.logger),(n!=null&&n.logLevel||n!=null&&n.log_level)&&(this.logLevel=n.logLevel||n.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),n!=null&&n.heartbeatIntervalMs&&(this.heartbeatIntervalMs=n.heartbeatIntervalMs);const l=(r=n==null?void 0:n.params)===null||r===void 0?void 0:r.apikey;if(l&&(this.accessTokenValue=l,this.apiKey=l),this.reconnectAfterMs=n!=null&&n.reconnectAfterMs?n.reconnectAfterMs:u=>[1e3,2e3,5e3,1e4][u-1]||1e4,this.encode=n!=null&&n.encode?n.encode:(u,g)=>g(JSON.stringify(u)),this.decode=n!=null&&n.decode?n.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new W3(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(n==null?void 0:n.fetch),n!=null&&n.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(n==null?void 0:n.worker)||!1,this.workerUrl=n==null?void 0:n.workerUrl}this.accessToken=(n==null?void 0:n.accessToken)||null}connect(){if(!this.conn){if(this.transport||(this.transport=yI),!this.transport)throw new Error("No transport provided");this.conn=new this.transport(this.endpointURL()),this.setupConnection()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:vI}))}disconnect(e,n){this.conn&&(this.conn.onclose=function(){},e?this.conn.close(e,n??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset(),this.channels.forEach(r=>r.teardown()))}getChannels(){return this.channels}async removeChannel(e){const n=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const e=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,n,r){this.logger(e,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Wu.connecting:return Po.Connecting;case Wu.open:return Po.Open;case Wu.closing:return Po.Closing;default:return Po.Closed}}isConnected(){return this.connectionState()===Po.Open}channel(e,n={config:{}}){const r=`realtime:${e}`,l=this.getChannels().find(u=>u.topic===r);if(l)return l;{const u=new Gm(`realtime:${e}`,n,this);return this.channels.push(u),u}}push(e){const{topic:n,event:r,payload:l,ref:u}=e,g=()=>{this.encode(e,y=>{var b;(b=this.conn)===null||b===void 0||b.send(y)})};this.log("push",`${n} ${r} (${u})`,l),this.isConnected()?g():this.sendBuffer.push(g)}async setAuth(e=null){let n=e||this.accessToken&&await this.accessToken()||this.accessTokenValue;this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(r=>{const l={access_token:n,version:wI};n&&r.updateJoinPayload(l),r.joinedOnce&&r._isJoined()&&r._push(Ps.access_token,{access_token:n})}))}async sendHeartbeat(){var e;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),(e=this.conn)===null||e===void 0||e.close(EI,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),await this.setAuth()}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let n=this.channels.find(r=>r.topic===e&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${e}"`),n.unsubscribe())}_remove(e){this.channels=this.channels.filter(n=>n.topic!==e.topic)}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_onConnMessage(e){this.decode(e.data,n=>{let{topic:r,event:l,payload:u,ref:g}=n;r==="phoenix"&&l==="phx_reply"&&this.heartbeatCallback(n.payload.status=="ok"?"ok":"error"),g&&g===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${u.status||""} ${r} ${l} ${g&&"("+g+")"||""}`,u),Array.from(this.channels).filter(y=>y._isMember(r)).forEach(y=>y._trigger(l,u,g)),this.stateChangeCallbacks.message.forEach(y=>y(n))})}_onConnOpen(){this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this.stateChangeCallbacks.open.forEach(e=>e())}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){this.log("transport","close",e),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(n=>n(e))}_onConnError(e){this.log("transport",`${e}`),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(n=>n(e))}_triggerChanError(){this.channels.forEach(e=>e._trigger(Ps.error))}_appendParams(e,n){if(Object.keys(n).length===0)return e;const r=e.match(/\?/)?"&":"?",l=new URLSearchParams(n);return`${e}${r}${l}`}_workerObjectUrl(e){let n;if(e)n=e;else{const r=new Blob([OI],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}}class qm extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function ai(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class MI extends qm{constructor(e,n){super(e),this.name="StorageApiError",this.status=n}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class Zg extends qm{constructor(e,n){super(e),this.name="StorageUnknownError",this.originalError=n}}var DI=function(t,e,n,r){function l(u){return u instanceof n?u:new n(function(g){g(u)})}return new(n||(n=Promise))(function(u,g){function y(E){try{x(r.next(E))}catch(C){g(C)}}function b(E){try{x(r.throw(E))}catch(C){g(C)}}function x(E){E.done?u(E.value):l(E.value).then(y,b)}x((r=r.apply(t,e||[])).next())})};const Q3=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>Af(async()=>{const{default:r}=await Promise.resolve().then(()=>Lc);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)},LI=()=>DI(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Af(()=>Promise.resolve().then(()=>Lc),void 0)).Response:Response}),Qg=t=>{if(Array.isArray(t))return t.map(n=>Qg(n));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([n,r])=>{const l=n.replace(/([-_][a-z])/gi,u=>u.toUpperCase().replace(/[-_]/g,""));e[l]=Qg(r)}),e};var al=function(t,e,n,r){function l(u){return u instanceof n?u:new n(function(g){g(u)})}return new(n||(n=Promise))(function(u,g){function y(E){try{x(r.next(E))}catch(C){g(C)}}function b(E){try{x(r.throw(E))}catch(C){g(C)}}function x(E){E.done?u(E.value):l(E.value).then(y,b)}x((r=r.apply(t,e||[])).next())})};const sg=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),kI=(t,e,n)=>al(void 0,void 0,void 0,function*(){const r=yield LI();t instanceof r&&!(n!=null&&n.noResolveJson)?t.json().then(l=>{e(new MI(sg(l),t.status||500))}).catch(l=>{e(new Zg(sg(l),l))}):e(new Zg(sg(t),t))}),jI=(t,e,n,r)=>{const l={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?l:(l.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),r&&(l.body=JSON.stringify(r)),Object.assign(Object.assign({},l),n))};function Tf(t,e,n,r,l,u){return al(this,void 0,void 0,function*(){return new Promise((g,y)=>{t(n,jI(e,r,l,u)).then(b=>{if(!b.ok)throw b;return r!=null&&r.noResolveJson?b:b.json()}).then(b=>g(b)).catch(b=>kI(b,y,r))})})}function vh(t,e,n,r){return al(this,void 0,void 0,function*(){return Tf(t,"GET",e,n,r)})}function Pa(t,e,n,r,l){return al(this,void 0,void 0,function*(){return Tf(t,"POST",e,r,l,n)})}function BI(t,e,n,r,l){return al(this,void 0,void 0,function*(){return Tf(t,"PUT",e,r,l,n)})}function PI(t,e,n,r){return al(this,void 0,void 0,function*(){return Tf(t,"HEAD",e,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function J3(t,e,n,r,l){return al(this,void 0,void 0,function*(){return Tf(t,"DELETE",e,r,l,n)})}var Vi=function(t,e,n,r){function l(u){return u instanceof n?u:new n(function(g){g(u)})}return new(n||(n=Promise))(function(u,g){function y(E){try{x(r.next(E))}catch(C){g(C)}}function b(E){try{x(r.throw(E))}catch(C){g(C)}}function x(E){E.done?u(E.value):l(E.value).then(y,b)}x((r=r.apply(t,e||[])).next())})};const UI={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Fb={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class FI{constructor(e,n={},r,l){this.url=e,this.headers=n,this.bucketId=r,this.fetch=Q3(l)}uploadOrUpdate(e,n,r,l){return Vi(this,void 0,void 0,function*(){try{let u;const g=Object.assign(Object.assign({},Fb),l);let y=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(g.upsert)});const b=g.metadata;typeof Blob<"u"&&r instanceof Blob?(u=new FormData,u.append("cacheControl",g.cacheControl),b&&u.append("metadata",this.encodeMetadata(b)),u.append("",r)):typeof FormData<"u"&&r instanceof FormData?(u=r,u.append("cacheControl",g.cacheControl),b&&u.append("metadata",this.encodeMetadata(b))):(u=r,y["cache-control"]=`max-age=${g.cacheControl}`,y["content-type"]=g.contentType,b&&(y["x-metadata"]=this.toBase64(this.encodeMetadata(b)))),l!=null&&l.headers&&(y=Object.assign(Object.assign({},y),l.headers));const x=this._removeEmptyFolders(n),E=this._getFinalPath(x),C=yield this.fetch(`${this.url}/object/${E}`,Object.assign({method:e,body:u,headers:y},g!=null&&g.duplex?{duplex:g.duplex}:{})),N=yield C.json();return C.ok?{data:{path:x,id:N.Id,fullPath:N.Key},error:null}:{data:null,error:N}}catch(u){if(ai(u))return{data:null,error:u};throw u}})}upload(e,n,r){return Vi(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,n,r)})}uploadToSignedUrl(e,n,r,l){return Vi(this,void 0,void 0,function*(){const u=this._removeEmptyFolders(e),g=this._getFinalPath(u),y=new URL(this.url+`/object/upload/sign/${g}`);y.searchParams.set("token",n);try{let b;const x=Object.assign({upsert:Fb.upsert},l),E=Object.assign(Object.assign({},this.headers),{"x-upsert":String(x.upsert)});typeof Blob<"u"&&r instanceof Blob?(b=new FormData,b.append("cacheControl",x.cacheControl),b.append("",r)):typeof FormData<"u"&&r instanceof FormData?(b=r,b.append("cacheControl",x.cacheControl)):(b=r,E["cache-control"]=`max-age=${x.cacheControl}`,E["content-type"]=x.contentType);const C=yield this.fetch(y.toString(),{method:"PUT",body:b,headers:E}),N=yield C.json();return C.ok?{data:{path:u,fullPath:N.Key},error:null}:{data:null,error:N}}catch(b){if(ai(b))return{data:null,error:b};throw b}})}createSignedUploadUrl(e,n){return Vi(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e);const l=Object.assign({},this.headers);n!=null&&n.upsert&&(l["x-upsert"]="true");const u=yield Pa(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:l}),g=new URL(this.url+u.url),y=g.searchParams.get("token");if(!y)throw new qm("No token returned by API");return{data:{signedUrl:g.toString(),path:e,token:y},error:null}}catch(r){if(ai(r))return{data:null,error:r};throw r}})}update(e,n,r){return Vi(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,n,r)})}move(e,n,r){return Vi(this,void 0,void 0,function*(){try{return{data:yield Pa(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(l){if(ai(l))return{data:null,error:l};throw l}})}copy(e,n,r){return Vi(this,void 0,void 0,function*(){try{return{data:{path:(yield Pa(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(l){if(ai(l))return{data:null,error:l};throw l}})}createSignedUrl(e,n,r){return Vi(this,void 0,void 0,function*(){try{let l=this._getFinalPath(e),u=yield Pa(this.fetch,`${this.url}/object/sign/${l}`,Object.assign({expiresIn:n},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const g=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return u={signedUrl:encodeURI(`${this.url}${u.signedURL}${g}`)},{data:u,error:null}}catch(l){if(ai(l))return{data:null,error:l};throw l}})}createSignedUrls(e,n,r){return Vi(this,void 0,void 0,function*(){try{const l=yield Pa(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:e},{headers:this.headers}),u=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:l.map(g=>Object.assign(Object.assign({},g),{signedUrl:g.signedURL?encodeURI(`${this.url}${g.signedURL}${u}`):null})),error:null}}catch(l){if(ai(l))return{data:null,error:l};throw l}})}download(e,n){return Vi(this,void 0,void 0,function*(){const l=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",u=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),g=u?`?${u}`:"";try{const y=this._getFinalPath(e);return{data:yield(yield vh(this.fetch,`${this.url}/${l}/${y}${g}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(y){if(ai(y))return{data:null,error:y};throw y}})}info(e){return Vi(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{const r=yield vh(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:Qg(r),error:null}}catch(r){if(ai(r))return{data:null,error:r};throw r}})}exists(e){return Vi(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{return yield PI(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(ai(r)&&r instanceof Zg){const l=r.originalError;if([400,404].includes(l==null?void 0:l.status))return{data:!1,error:r}}throw r}})}getPublicUrl(e,n){const r=this._getFinalPath(e),l=[],u=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";u!==""&&l.push(u);const y=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",b=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});b!==""&&l.push(b);let x=l.join("&");return x!==""&&(x=`?${x}`),{data:{publicUrl:encodeURI(`${this.url}/${y}/public/${r}${x}`)}}}remove(e){return Vi(this,void 0,void 0,function*(){try{return{data:yield J3(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(n){if(ai(n))return{data:null,error:n};throw n}})}list(e,n,r){return Vi(this,void 0,void 0,function*(){try{const l=Object.assign(Object.assign(Object.assign({},UI),n),{prefix:e||""});return{data:yield Pa(this.fetch,`${this.url}/object/list/${this.bucketId}`,l,{headers:this.headers},r),error:null}}catch(l){if(ai(l))return{data:null,error:l};throw l}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const n=[];return e.width&&n.push(`width=${e.width}`),e.height&&n.push(`height=${e.height}`),e.resize&&n.push(`resize=${e.resize}`),e.format&&n.push(`format=${e.format}`),e.quality&&n.push(`quality=${e.quality}`),n.join("&")}}const VI="2.7.1",zI={"X-Client-Info":`storage-js/${VI}`};var tc=function(t,e,n,r){function l(u){return u instanceof n?u:new n(function(g){g(u)})}return new(n||(n=Promise))(function(u,g){function y(E){try{x(r.next(E))}catch(C){g(C)}}function b(E){try{x(r.throw(E))}catch(C){g(C)}}function x(E){E.done?u(E.value):l(E.value).then(y,b)}x((r=r.apply(t,e||[])).next())})};class HI{constructor(e,n={},r){this.url=e,this.headers=Object.assign(Object.assign({},zI),n),this.fetch=Q3(r)}listBuckets(){return tc(this,void 0,void 0,function*(){try{return{data:yield vh(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(ai(e))return{data:null,error:e};throw e}})}getBucket(e){return tc(this,void 0,void 0,function*(){try{return{data:yield vh(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(n){if(ai(n))return{data:null,error:n};throw n}})}createBucket(e,n={public:!1}){return tc(this,void 0,void 0,function*(){try{return{data:yield Pa(this.fetch,`${this.url}/bucket`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(ai(r))return{data:null,error:r};throw r}})}updateBucket(e,n){return tc(this,void 0,void 0,function*(){try{return{data:yield BI(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(ai(r))return{data:null,error:r};throw r}})}emptyBucket(e){return tc(this,void 0,void 0,function*(){try{return{data:yield Pa(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(ai(n))return{data:null,error:n};throw n}})}deleteBucket(e){return tc(this,void 0,void 0,function*(){try{return{data:yield J3(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(n){if(ai(n))return{data:null,error:n};throw n}})}}class $I extends HI{constructor(e,n={},r){super(e,n,r)}from(e){return new FI(this.url,this.headers,e,this.fetch)}}const GI="2.50.3";let zu="";typeof Deno<"u"?zu="deno":typeof document<"u"?zu="web":typeof navigator<"u"&&navigator.product==="ReactNative"?zu="react-native":zu="node";const qI={"X-Client-Info":`supabase-js-${zu}/${GI}`},YI={headers:qI},XI={schema:"public"},WI={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},KI={};var ZI=function(t,e,n,r){function l(u){return u instanceof n?u:new n(function(g){g(u)})}return new(n||(n=Promise))(function(u,g){function y(E){try{x(r.next(E))}catch(C){g(C)}}function b(E){try{x(r.throw(E))}catch(C){g(C)}}function x(E){E.done?u(E.value):l(E.value).then(y,b)}x((r=r.apply(t,e||[])).next())})};const QI=t=>{let e;return t?e=t:typeof fetch>"u"?e=z3:e=fetch,(...n)=>e(...n)},JI=()=>typeof Headers>"u"?H3:Headers,eM=(t,e,n)=>{const r=QI(n),l=JI();return(u,g)=>ZI(void 0,void 0,void 0,function*(){var y;const b=(y=yield e())!==null&&y!==void 0?y:t;let x=new l(g==null?void 0:g.headers);return x.has("apikey")||x.set("apikey",t),x.has("Authorization")||x.set("Authorization",`Bearer ${b}`),r(u,Object.assign(Object.assign({},g),{headers:x}))})};var tM=function(t,e,n,r){function l(u){return u instanceof n?u:new n(function(g){g(u)})}return new(n||(n=Promise))(function(u,g){function y(E){try{x(r.next(E))}catch(C){g(C)}}function b(E){try{x(r.throw(E))}catch(C){g(C)}}function x(E){E.done?u(E.value):l(E.value).then(y,b)}x((r=r.apply(t,e||[])).next())})};function nM(t){return t.endsWith("/")?t:t+"/"}function iM(t,e){var n,r;const{db:l,auth:u,realtime:g,global:y}=t,{db:b,auth:x,realtime:E,global:C}=e,N={db:Object.assign(Object.assign({},b),l),auth:Object.assign(Object.assign({},x),u),realtime:Object.assign(Object.assign({},E),g),global:Object.assign(Object.assign(Object.assign({},C),y),{headers:Object.assign(Object.assign({},(n=C==null?void 0:C.headers)!==null&&n!==void 0?n:{}),(r=y==null?void 0:y.headers)!==null&&r!==void 0?r:{})}),accessToken:()=>tM(this,void 0,void 0,function*(){return""})};return t.accessToken?N.accessToken=t.accessToken:delete N.accessToken,N}const eE="2.70.0",oc=30*1e3,Jg=3,rg=Jg*oc,sM="http://localhost:9999",rM="supabase.auth.token",aM={"X-Client-Info":`gotrue-js/${eE}`},em="X-Supabase-Api-Version",tE={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},oM=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,lM=6e5;class Ym extends Error{constructor(e,n,r){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function ct(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class cM extends Ym{constructor(e,n,r){super(e,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function uM(t){return ct(t)&&t.name==="AuthApiError"}class nE extends Ym{constructor(e,n){super(e),this.name="AuthUnknownError",this.originalError=n}}class ro extends Ym{constructor(e,n,r,l){super(e,r,l),this.name=n,this.status=r}}class ja extends ro{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function fM(t){return ct(t)&&t.name==="AuthSessionMissingError"}class Kd extends ro{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Zd extends ro{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Qd extends ro{constructor(e,n=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function dM(t){return ct(t)&&t.name==="AuthImplicitGrantRedirectError"}class Vb extends ro{constructor(e,n=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class tm extends ro{constructor(e,n){super(e,"AuthRetryableFetchError",n,void 0)}}function ag(t){return ct(t)&&t.name==="AuthRetryableFetchError"}class zb extends ro{constructor(e,n,r){super(e,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class Zu extends ro{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const Eh="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Hb=` 	
\r=`.split(""),hM=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<Hb.length;e+=1)t[Hb[e].charCodeAt(0)]=-2;for(let e=0;e<Eh.length;e+=1)t[Eh[e].charCodeAt(0)]=e;return t})();function $b(t,e,n){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;n(Eh[r]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;n(Eh[r]),e.queuedBits-=6}}function iE(t,e,n){const r=hM[t];if(r>-1)for(e.queue=e.queue<<6|r,e.queuedBits+=6;e.queuedBits>=8;)n(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function Gb(t){const e=[],n=g=>{e.push(String.fromCodePoint(g))},r={utf8seq:0,codepoint:0},l={queue:0,queuedBits:0},u=g=>{pM(g,r,n)};for(let g=0;g<t.length;g+=1)iE(t.charCodeAt(g),l,u);return e.join("")}function gM(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function mM(t,e){for(let n=0;n<t.length;n+=1){let r=t.charCodeAt(n);if(r>55295&&r<=56319){const l=(r-55296)*1024&65535;r=(t.charCodeAt(n+1)-56320&65535|l)+65536,n+=1}gM(r,e)}}function pM(t,e,n){if(e.utf8seq===0){if(t<=127){n(t);return}for(let r=1;r<6;r+=1)if((t>>7-r&1)===0){e.utf8seq=r;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&n(e.codepoint)}}function xM(t){const e=[],n={queue:0,queuedBits:0},r=l=>{e.push(l)};for(let l=0;l<t.length;l+=1)iE(t.charCodeAt(l),n,r);return new Uint8Array(e)}function yM(t){const e=[];return mM(t,n=>e.push(n)),new Uint8Array(e)}function bM(t){const e=[],n={queue:0,queuedBits:0},r=l=>{e.push(l)};return t.forEach(l=>$b(l,n,r)),$b(null,n,r),e.join("")}function wM(t){return Math.round(Date.now()/1e3)+t}function vM(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const Ls=()=>typeof window<"u"&&typeof document<"u",Do={tested:!1,writable:!1},Qu=()=>{if(!Ls())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Do.tested)return Do.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),Do.tested=!0,Do.writable=!0}catch{Do.tested=!0,Do.writable=!1}return Do.writable};function EM(t){const e={},n=new URL(t);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((l,u)=>{e[u]=l})}catch{}return n.searchParams.forEach((r,l)=>{e[l]=r}),e}const sE=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>Af(async()=>{const{default:r}=await Promise.resolve().then(()=>Lc);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)},SM=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",rE=async(t,e,n)=>{await t.setItem(e,JSON.stringify(n))},Jd=async(t,e)=>{const n=await t.getItem(e);if(!n)return null;try{return JSON.parse(n)}catch{return n}},eh=async(t,e)=>{await t.removeItem(e)};class Ph{constructor(){this.promise=new Ph.promiseConstructor((e,n)=>{this.resolve=e,this.reject=n})}}Ph.promiseConstructor=Promise;function og(t){const e=t.split(".");if(e.length!==3)throw new Zu("Invalid JWT structure");for(let r=0;r<e.length;r++)if(!oM.test(e[r]))throw new Zu("JWT not in base64url format");return{header:JSON.parse(Gb(e[0])),payload:JSON.parse(Gb(e[1])),signature:xM(e[2]),raw:{header:e[0],payload:e[1]}}}async function CM(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function AM(t,e){return new Promise((r,l)=>{(async()=>{for(let u=0;u<1/0;u++)try{const g=await t(u);if(!e(u,null,g)){r(g);return}}catch(g){if(!e(u,g)){l(g);return}}})()})}function TM(t){return("0"+t.toString(16)).substr(-2)}function _M(){const e=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let l="";for(let u=0;u<56;u++)l+=n.charAt(Math.floor(Math.random()*r));return l}return crypto.getRandomValues(e),Array.from(e,TM).join("")}async function NM(t){const n=new TextEncoder().encode(t),r=await crypto.subtle.digest("SHA-256",n),l=new Uint8Array(r);return Array.from(l).map(u=>String.fromCharCode(u)).join("")}async function RM(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const n=await NM(t);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function nc(t,e,n=!1){const r=_M();let l=r;n&&(l+="/PASSWORD_RECOVERY"),await rE(t,`${e}-code-verifier`,l);const u=await RM(r);return[u,r===u?"plain":"s256"]}const OM=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function IM(t){const e=t.headers.get(em);if(!e||!e.match(OM))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function MM(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function DM(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const LM=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function ic(t){if(!LM.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}var kM=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,r=Object.getOwnPropertySymbols(t);l<r.length;l++)e.indexOf(r[l])<0&&Object.prototype.propertyIsEnumerable.call(t,r[l])&&(n[r[l]]=t[r[l]]);return n};const ko=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),jM=[502,503,504];async function qb(t){var e;if(!SM(t))throw new tm(ko(t),0);if(jM.includes(t.status))throw new tm(ko(t),t.status);let n;try{n=await t.json()}catch(u){throw new nE(ko(u),u)}let r;const l=IM(t);if(l&&l.getTime()>=tE["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new zb(ko(n),t.status,((e=n.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(r==="session_not_found")throw new ja}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((u,g)=>u&&typeof g=="string",!0))throw new zb(ko(n),t.status,n.weak_password.reasons);throw new cM(ko(n),t.status||500,r)}const BM=(t,e,n,r)=>{const l={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?l:(l.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),l.body=JSON.stringify(r),Object.assign(Object.assign({},l),n))};async function Ct(t,e,n,r){var l;const u=Object.assign({},r==null?void 0:r.headers);u[em]||(u[em]=tE["2024-01-01"].name),r!=null&&r.jwt&&(u.Authorization=`Bearer ${r.jwt}`);const g=(l=r==null?void 0:r.query)!==null&&l!==void 0?l:{};r!=null&&r.redirectTo&&(g.redirect_to=r.redirectTo);const y=Object.keys(g).length?"?"+new URLSearchParams(g).toString():"",b=await PM(t,e,n+y,{headers:u,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(b):{data:Object.assign({},b),error:null}}async function PM(t,e,n,r,l,u){const g=BM(e,r,l,u);let y;try{y=await t(n,Object.assign({},g))}catch(b){throw console.error(b),new tm(ko(b),0)}if(y.ok||await qb(y),r!=null&&r.noResolveJson)return y;try{return await y.json()}catch(b){await qb(b)}}function Vr(t){var e;let n=null;zM(t)&&(n=Object.assign({},t),t.expires_at||(n.expires_at=wM(t.expires_in)));const r=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:n,user:r},error:null}}function Yb(t){const e=Vr(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(e.data.weak_password=t.weak_password),e}function Fa(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function UM(t){return{data:t,error:null}}function FM(t){const{action_link:e,email_otp:n,hashed_token:r,redirect_to:l,verification_type:u}=t,g=kM(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),y={action_link:e,email_otp:n,hashed_token:r,redirect_to:l,verification_type:u},b=Object.assign({},g);return{data:{properties:y,user:b},error:null}}function VM(t){return t}function zM(t){return t.access_token&&t.refresh_token&&t.expires_in}const lg=["global","local","others"];var HM=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,r=Object.getOwnPropertySymbols(t);l<r.length;l++)e.indexOf(r[l])<0&&Object.prototype.propertyIsEnumerable.call(t,r[l])&&(n[r[l]]=t[r[l]]);return n};class $M{constructor({url:e="",headers:n={},fetch:r}){this.url=e,this.headers=n,this.fetch=sE(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,n=lg[0]){if(lg.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${lg.join(", ")}`);try{return await Ct(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(r){if(ct(r))return{data:null,error:r};throw r}}async inviteUserByEmail(e,n={}){try{return await Ct(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:Fa})}catch(r){if(ct(r))return{data:{user:null},error:r};throw r}}async generateLink(e){try{const{options:n}=e,r=HM(e,["options"]),l=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(l.new_email=r==null?void 0:r.newEmail,delete l.newEmail),await Ct(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:l,headers:this.headers,xform:FM,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(ct(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(e){try{return await Ct(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Fa})}catch(n){if(ct(n))return{data:{user:null},error:n};throw n}}async listUsers(e){var n,r,l,u,g,y,b;try{const x={nextPage:null,lastPage:0,total:0},E=await Ct(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=e==null?void 0:e.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(u=(l=e==null?void 0:e.perPage)===null||l===void 0?void 0:l.toString())!==null&&u!==void 0?u:""},xform:VM});if(E.error)throw E.error;const C=await E.json(),N=(g=E.headers.get("x-total-count"))!==null&&g!==void 0?g:0,O=(b=(y=E.headers.get("link"))===null||y===void 0?void 0:y.split(","))!==null&&b!==void 0?b:[];return O.length>0&&(O.forEach(M=>{const B=parseInt(M.split(";")[0].split("=")[1].substring(0,1)),j=JSON.parse(M.split(";")[1].split("=")[1]);x[`${j}Page`]=B}),x.total=parseInt(N)),{data:Object.assign(Object.assign({},C),x),error:null}}catch(x){if(ct(x))return{data:{users:[]},error:x};throw x}}async getUserById(e){ic(e);try{return await Ct(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Fa})}catch(n){if(ct(n))return{data:{user:null},error:n};throw n}}async updateUserById(e,n){ic(e);try{return await Ct(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:n,headers:this.headers,xform:Fa})}catch(r){if(ct(r))return{data:{user:null},error:r};throw r}}async deleteUser(e,n=!1){ic(e);try{return await Ct(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:n},xform:Fa})}catch(r){if(ct(r))return{data:{user:null},error:r};throw r}}async _listFactors(e){ic(e.userId);try{const{data:n,error:r}=await Ct(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:l=>({data:{factors:l},error:null})});return{data:n,error:r}}catch(n){if(ct(n))return{data:null,error:n};throw n}}async _deleteFactor(e){ic(e.userId),ic(e.id);try{return{data:await Ct(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(n){if(ct(n))return{data:null,error:n};throw n}}}const GM={getItem:t=>Qu()?globalThis.localStorage.getItem(t):null,setItem:(t,e)=>{Qu()&&globalThis.localStorage.setItem(t,e)},removeItem:t=>{Qu()&&globalThis.localStorage.removeItem(t)}};function Xb(t={}){return{getItem:e=>t[e]||null,setItem:(e,n)=>{t[e]=n},removeItem:e=>{delete t[e]}}}function qM(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const sc={debug:!!(globalThis&&Qu()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class aE extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class YM extends aE{}async function XM(t,e,n){sc.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const r=new globalThis.AbortController;return e>0&&setTimeout(()=>{r.abort(),sc.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async l=>{if(l){sc.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,l.name);try{return await n()}finally{sc.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,l.name)}}else{if(e===0)throw sc.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new YM(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(sc.debug)try{const u=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(u,null,"  "))}catch(u){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",u)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}qM();const WM={url:sM,storageKey:rM,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:aM,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Wb(t,e,n){return await n()}class ff{constructor(e){var n,r;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=ff.nextInstanceID,ff.nextInstanceID+=1,this.instanceID>0&&Ls()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const l=Object.assign(Object.assign({},WM),e);if(this.logDebugMessages=!!l.debug,typeof l.debug=="function"&&(this.logger=l.debug),this.persistSession=l.persistSession,this.storageKey=l.storageKey,this.autoRefreshToken=l.autoRefreshToken,this.admin=new $M({url:l.url,headers:l.headers,fetch:l.fetch}),this.url=l.url,this.headers=l.headers,this.fetch=sE(l.fetch),this.lock=l.lock||Wb,this.detectSessionInUrl=l.detectSessionInUrl,this.flowType=l.flowType,this.hasCustomAuthorizationHeader=l.hasCustomAuthorizationHeader,l.lock?this.lock=l.lock:Ls()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=XM:this.lock=Wb,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?l.storage?this.storage=l.storage:Qu()?this.storage=GM:(this.memoryStorage={},this.storage=Xb(this.memoryStorage)):(this.memoryStorage={},this.storage=Xb(this.memoryStorage)),Ls()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(u){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",u)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async u=>{this._debug("received broadcast notification from other tab or client",u),await this._notifyAllSubscribers(u.data.event,u.data.session,!1)})}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${eE}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const n=EM(window.location.href);let r="none";if(this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce"),Ls()&&this.detectSessionInUrl&&r!=="none"){const{data:l,error:u}=await this._getSessionFromURL(n,r);if(u){if(this._debug("#_initialize()","error detecting session from URL",u),dM(u)){const b=(e=u.details)===null||e===void 0?void 0:e.code;if(b==="identity_already_exists"||b==="identity_not_found"||b==="single_identity_not_deletable")return{error:u}}return await this._removeSession(),{error:u}}const{session:g,redirectType:y}=l;return this._debug("#_initialize()","detected session in URL",g,"redirect type",y),await this._saveSession(g),setTimeout(async()=>{y==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",g):await this._notifyAllSubscribers("SIGNED_IN",g)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return ct(n)?{error:n}:{error:new nE("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var n,r,l;try{const u=await Ct(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=e==null?void 0:e.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(l=e==null?void 0:e.options)===null||l===void 0?void 0:l.captchaToken}},xform:Vr}),{data:g,error:y}=u;if(y||!g)return{data:{user:null,session:null},error:y};const b=g.session,x=g.user;return g.session&&(await this._saveSession(g.session),await this._notifyAllSubscribers("SIGNED_IN",b)),{data:{user:x,session:b},error:null}}catch(u){if(ct(u))return{data:{user:null,session:null},error:u};throw u}}async signUp(e){var n,r,l;try{let u;if("email"in e){const{email:E,password:C,options:N}=e;let O=null,M=null;this.flowType==="pkce"&&([O,M]=await nc(this.storage,this.storageKey)),u=await Ct(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:N==null?void 0:N.emailRedirectTo,body:{email:E,password:C,data:(n=N==null?void 0:N.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:N==null?void 0:N.captchaToken},code_challenge:O,code_challenge_method:M},xform:Vr})}else if("phone"in e){const{phone:E,password:C,options:N}=e;u=await Ct(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:E,password:C,data:(r=N==null?void 0:N.data)!==null&&r!==void 0?r:{},channel:(l=N==null?void 0:N.channel)!==null&&l!==void 0?l:"sms",gotrue_meta_security:{captcha_token:N==null?void 0:N.captchaToken}},xform:Vr})}else throw new Zd("You must provide either an email or phone number and a password");const{data:g,error:y}=u;if(y||!g)return{data:{user:null,session:null},error:y};const b=g.session,x=g.user;return g.session&&(await this._saveSession(g.session),await this._notifyAllSubscribers("SIGNED_IN",b)),{data:{user:x,session:b},error:null}}catch(u){if(ct(u))return{data:{user:null,session:null},error:u};throw u}}async signInWithPassword(e){try{let n;if("email"in e){const{email:u,password:g,options:y}=e;n=await Ct(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:u,password:g,gotrue_meta_security:{captcha_token:y==null?void 0:y.captchaToken}},xform:Yb})}else if("phone"in e){const{phone:u,password:g,options:y}=e;n=await Ct(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:u,password:g,gotrue_meta_security:{captcha_token:y==null?void 0:y.captchaToken}},xform:Yb})}else throw new Zd("You must provide either an email or phone number and a password");const{data:r,error:l}=n;return l?{data:{user:null,session:null},error:l}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new Kd}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:l})}catch(n){if(ct(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(e){var n,r,l,u;return await this._handleProviderSignIn(e.provider,{redirectTo:(n=e.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=e.options)===null||r===void 0?void 0:r.scopes,queryParams:(l=e.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:(u=e.options)===null||u===void 0?void 0:u.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:n}=e;if(n==="solana")return await this.signInWithSolana(e);throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}async signInWithSolana(e){var n,r,l,u,g,y,b,x,E,C,N,O;let M,B;if("message"in e)M=e.message,B=e.signature;else{const{chain:j,wallet:V,statement:$,options:U}=e;let q;if(Ls())if(typeof V=="object")q=V;else{const ne=window;if("solana"in ne&&typeof ne.solana=="object"&&("signIn"in ne.solana&&typeof ne.solana.signIn=="function"||"signMessage"in ne.solana&&typeof ne.solana.signMessage=="function"))q=ne.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof V!="object"||!(U!=null&&U.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");q=V}const W=new URL((n=U==null?void 0:U.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in q&&q.signIn){const ne=await q.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},U==null?void 0:U.signInWithSolana),{version:"1",domain:W.host,uri:W.href}),$?{statement:$}:null));let X;if(Array.isArray(ne)&&ne[0]&&typeof ne[0]=="object")X=ne[0];else if(ne&&typeof ne=="object"&&"signedMessage"in ne&&"signature"in ne)X=ne;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in X&&"signature"in X&&(typeof X.signedMessage=="string"||X.signedMessage instanceof Uint8Array)&&X.signature instanceof Uint8Array)M=typeof X.signedMessage=="string"?X.signedMessage:new TextDecoder().decode(X.signedMessage),B=X.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in q)||typeof q.signMessage!="function"||!("publicKey"in q)||typeof q!="object"||!q.publicKey||!("toBase58"in q.publicKey)||typeof q.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");M=[`${W.host} wants you to sign in with your Solana account:`,q.publicKey.toBase58(),...$?["",$,""]:[""],"Version: 1",`URI: ${W.href}`,`Issued At: ${(l=(r=U==null?void 0:U.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&l!==void 0?l:new Date().toISOString()}`,...!((u=U==null?void 0:U.signInWithSolana)===null||u===void 0)&&u.notBefore?[`Not Before: ${U.signInWithSolana.notBefore}`]:[],...!((g=U==null?void 0:U.signInWithSolana)===null||g===void 0)&&g.expirationTime?[`Expiration Time: ${U.signInWithSolana.expirationTime}`]:[],...!((y=U==null?void 0:U.signInWithSolana)===null||y===void 0)&&y.chainId?[`Chain ID: ${U.signInWithSolana.chainId}`]:[],...!((b=U==null?void 0:U.signInWithSolana)===null||b===void 0)&&b.nonce?[`Nonce: ${U.signInWithSolana.nonce}`]:[],...!((x=U==null?void 0:U.signInWithSolana)===null||x===void 0)&&x.requestId?[`Request ID: ${U.signInWithSolana.requestId}`]:[],...!((C=(E=U==null?void 0:U.signInWithSolana)===null||E===void 0?void 0:E.resources)===null||C===void 0)&&C.length?["Resources",...U.signInWithSolana.resources.map(X=>`- ${X}`)]:[]].join(`
`);const ne=await q.signMessage(new TextEncoder().encode(M),"utf8");if(!ne||!(ne instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");B=ne}}try{const{data:j,error:V}=await Ct(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:M,signature:bM(B)},!((N=e.options)===null||N===void 0)&&N.captchaToken?{gotrue_meta_security:{captcha_token:(O=e.options)===null||O===void 0?void 0:O.captchaToken}}:null),xform:Vr});if(V)throw V;return!j||!j.session||!j.user?{data:{user:null,session:null},error:new Kd}:(j.session&&(await this._saveSession(j.session),await this._notifyAllSubscribers("SIGNED_IN",j.session)),{data:Object.assign({},j),error:V})}catch(j){if(ct(j))return{data:{user:null,session:null},error:j};throw j}}async _exchangeCodeForSession(e){const n=await Jd(this.storage,`${this.storageKey}-code-verifier`),[r,l]=(n??"").split("/");try{const{data:u,error:g}=await Ct(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:r},xform:Vr});if(await eh(this.storage,`${this.storageKey}-code-verifier`),g)throw g;return!u||!u.session||!u.user?{data:{user:null,session:null,redirectType:null},error:new Kd}:(u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",u.session)),{data:Object.assign(Object.assign({},u),{redirectType:l??null}),error:g})}catch(u){if(ct(u))return{data:{user:null,session:null,redirectType:null},error:u};throw u}}async signInWithIdToken(e){try{const{options:n,provider:r,token:l,access_token:u,nonce:g}=e,y=await Ct(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:l,access_token:u,nonce:g,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:Vr}),{data:b,error:x}=y;return x?{data:{user:null,session:null},error:x}:!b||!b.session||!b.user?{data:{user:null,session:null},error:new Kd}:(b.session&&(await this._saveSession(b.session),await this._notifyAllSubscribers("SIGNED_IN",b.session)),{data:b,error:x})}catch(n){if(ct(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(e){var n,r,l,u,g;try{if("email"in e){const{email:y,options:b}=e;let x=null,E=null;this.flowType==="pkce"&&([x,E]=await nc(this.storage,this.storageKey));const{error:C}=await Ct(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:y,data:(n=b==null?void 0:b.data)!==null&&n!==void 0?n:{},create_user:(r=b==null?void 0:b.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:b==null?void 0:b.captchaToken},code_challenge:x,code_challenge_method:E},redirectTo:b==null?void 0:b.emailRedirectTo});return{data:{user:null,session:null},error:C}}if("phone"in e){const{phone:y,options:b}=e,{data:x,error:E}=await Ct(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:y,data:(l=b==null?void 0:b.data)!==null&&l!==void 0?l:{},create_user:(u=b==null?void 0:b.shouldCreateUser)!==null&&u!==void 0?u:!0,gotrue_meta_security:{captcha_token:b==null?void 0:b.captchaToken},channel:(g=b==null?void 0:b.channel)!==null&&g!==void 0?g:"sms"}});return{data:{user:null,session:null,messageId:x==null?void 0:x.message_id},error:E}}throw new Zd("You must provide either an email or phone number.")}catch(y){if(ct(y))return{data:{user:null,session:null},error:y};throw y}}async verifyOtp(e){var n,r;try{let l,u;"options"in e&&(l=(n=e.options)===null||n===void 0?void 0:n.redirectTo,u=(r=e.options)===null||r===void 0?void 0:r.captchaToken);const{data:g,error:y}=await Ct(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:u}}),redirectTo:l,xform:Vr});if(y)throw y;if(!g)throw new Error("An error occurred on token verification.");const b=g.session,x=g.user;return b!=null&&b.access_token&&(await this._saveSession(b),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",b)),{data:{user:x,session:b},error:null}}catch(l){if(ct(l))return{data:{user:null,session:null},error:l};throw l}}async signInWithSSO(e){var n,r,l;try{let u=null,g=null;return this.flowType==="pkce"&&([u,g]=await nc(this.storage,this.storageKey)),await Ct(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(r=(n=e.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((l=e==null?void 0:e.options)===null||l===void 0)&&l.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:u,code_challenge_method:g}),headers:this.headers,xform:UM})}catch(u){if(ct(u))return{data:null,error:u};throw u}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:n},error:r}=e;if(r)throw r;if(!n)throw new ja;const{error:l}=await Ct(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:l}})}catch(e){if(ct(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const n=`${this.url}/resend`;if("email"in e){const{email:r,type:l,options:u}=e,{error:g}=await Ct(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:l,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken}},redirectTo:u==null?void 0:u.emailRedirectTo});return{data:{user:null,session:null},error:g}}else if("phone"in e){const{phone:r,type:l,options:u}=e,{data:g,error:y}=await Ct(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:l,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken}}});return{data:{user:null,session:null,messageId:g==null?void 0:g.message_id},error:y}}throw new Zd("You must provide either an email or phone number and a type")}catch(n){if(ct(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(e,n){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),l=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await l}catch{}})()),l}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const l=[...this.pendingInLock];await Promise.all(l),this.pendingInLock.splice(0,l.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await e(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const n=await Jd(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?e=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const r=e.expires_at?e.expires_at*1e3-Date.now()<rg:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",e.expires_at),!r){if(this.storage.isServer){let g=this.suppressGetSessionWarning;e=new Proxy(e,{get:(b,x,E)=>(!g&&x==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),g=!0,this.suppressGetSessionWarning=!0),Reflect.get(b,x,E))})}return{data:{session:e},error:null}}const{session:l,error:u}=await this._callRefreshToken(e.refresh_token);return u?{data:{session:null},error:u}:{data:{session:l},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await Ct(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Fa}):await this._useSession(async n=>{var r,l,u;const{data:g,error:y}=n;if(y)throw y;return!(!((r=g.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new ja}:await Ct(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(u=(l=g.session)===null||l===void 0?void 0:l.access_token)!==null&&u!==void 0?u:void 0,xform:Fa})})}catch(n){if(ct(n))return fM(n)&&(await this._removeSession(),await eh(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(e,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,n))}async _updateUser(e,n={}){try{return await this._useSession(async r=>{const{data:l,error:u}=r;if(u)throw u;if(!l.session)throw new ja;const g=l.session;let y=null,b=null;this.flowType==="pkce"&&e.email!=null&&([y,b]=await nc(this.storage,this.storageKey));const{data:x,error:E}=await Ct(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:y,code_challenge_method:b}),jwt:g.access_token,xform:Fa});if(E)throw E;return g.user=x.user,await this._saveSession(g),await this._notifyAllSubscribers("USER_UPDATED",g),{data:{user:g.user},error:null}})}catch(r){if(ct(r))return{data:{user:null},error:r};throw r}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new ja;const n=Date.now()/1e3;let r=n,l=!0,u=null;const{payload:g}=og(e.access_token);if(g.exp&&(r=g.exp,l=r<=n),l){const{session:y,error:b}=await this._callRefreshToken(e.refresh_token);if(b)return{data:{user:null,session:null},error:b};if(!y)return{data:{user:null,session:null},error:null};u=y}else{const{data:y,error:b}=await this._getUser(e.access_token);if(b)throw b;u={access_token:e.access_token,refresh_token:e.refresh_token,user:y.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(u),await this._notifyAllSubscribers("SIGNED_IN",u)}return{data:{user:u.user,session:u},error:null}}catch(n){if(ct(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async n=>{var r;if(!e){const{data:g,error:y}=n;if(y)throw y;e=(r=g.session)!==null&&r!==void 0?r:void 0}if(!(e!=null&&e.refresh_token))throw new ja;const{session:l,error:u}=await this._callRefreshToken(e.refresh_token);return u?{data:{user:null,session:null},error:u}:l?{data:{user:l.user,session:l},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(ct(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(e,n){try{if(!Ls())throw new Qd("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Qd(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new Vb("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Qd("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new Vb("No code detected.");const{data:$,error:U}=await this._exchangeCodeForSession(e.code);if(U)throw U;const q=new URL(window.location.href);return q.searchParams.delete("code"),window.history.replaceState(window.history.state,"",q.toString()),{data:{session:$.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:l,access_token:u,refresh_token:g,expires_in:y,expires_at:b,token_type:x}=e;if(!u||!y||!g||!x)throw new Qd("No session defined in URL");const E=Math.round(Date.now()/1e3),C=parseInt(y);let N=E+C;b&&(N=parseInt(b));const O=N-E;O*1e3<=oc&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${O}s, should have been closer to ${C}s`);const M=N-C;E-M>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",M,N,E):E-M<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",M,N,E);const{data:B,error:j}=await this._getUser(u);if(j)throw j;const V={provider_token:r,provider_refresh_token:l,access_token:u,expires_in:C,expires_at:N,refresh_token:g,token_type:x,user:B.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:V,redirectType:e.type},error:null}}catch(r){if(ct(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const n=await Jd(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&n)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:l,error:u}=n;if(u)return{error:u};const g=(r=l.session)===null||r===void 0?void 0:r.access_token;if(g){const{error:y}=await this.admin.signOut(g,e);if(y&&!(uM(y)&&(y.status===404||y.status===401||y.status===403)))return{error:y}}return e!=="others"&&(await this._removeSession(),await eh(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const n=vM(),r={id:n,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(e){return await this._useSession(async n=>{var r,l;try{const{data:{session:u},error:g}=n;if(g)throw g;await((r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",u)),this._debug("INITIAL_SESSION","callback id",e,"session",u)}catch(u){await((l=this.stateChangeEmitters.get(e))===null||l===void 0?void 0:l.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",u),console.error(u)}})}async resetPasswordForEmail(e,n={}){let r=null,l=null;this.flowType==="pkce"&&([r,l]=await nc(this.storage,this.storageKey,!0));try{return await Ct(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:r,code_challenge_method:l,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(u){if(ct(u))return{data:null,error:u};throw u}}async getUserIdentities(){var e;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(e=n.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(n){if(ct(n))return{data:null,error:n};throw n}}async linkIdentity(e){var n;try{const{data:r,error:l}=await this._useSession(async u=>{var g,y,b,x,E;const{data:C,error:N}=u;if(N)throw N;const O=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(g=e.options)===null||g===void 0?void 0:g.redirectTo,scopes:(y=e.options)===null||y===void 0?void 0:y.scopes,queryParams:(b=e.options)===null||b===void 0?void 0:b.queryParams,skipBrowserRedirect:!0});return await Ct(this.fetch,"GET",O,{headers:this.headers,jwt:(E=(x=C.session)===null||x===void 0?void 0:x.access_token)!==null&&E!==void 0?E:void 0})});if(l)throw l;return Ls()&&!(!((n=e.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:e.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(ct(r))return{data:{provider:e.provider,url:null},error:r};throw r}}async unlinkIdentity(e){try{return await this._useSession(async n=>{var r,l;const{data:u,error:g}=n;if(g)throw g;return await Ct(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(l=(r=u.session)===null||r===void 0?void 0:r.access_token)!==null&&l!==void 0?l:void 0})})}catch(n){if(ct(n))return{data:null,error:n};throw n}}async _refreshAccessToken(e){const n=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await AM(async l=>(l>0&&await CM(200*Math.pow(2,l-1)),this._debug(n,"refreshing attempt",l),await Ct(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:Vr})),(l,u)=>{const g=200*Math.pow(2,l);return u&&ag(u)&&Date.now()+g-r<oc})}catch(r){if(this._debug(n,"error",r),ct(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(n,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",n,"url",r),Ls()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:e,url:r},error:null}}async _recoverAndRefresh(){var e;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const r=await Jd(this.storage,this.storageKey);if(this._debug(n,"session from storage",r),!this._isValidSession(r)){this._debug(n,"session is not valid"),r!==null&&await this._removeSession();return}const l=((e=r.expires_at)!==null&&e!==void 0?e:1/0)*1e3-Date.now()<rg;if(this._debug(n,`session has${l?"":" not"} expired with margin of ${rg}s`),l){if(this.autoRefreshToken&&r.refresh_token){const{error:u}=await this._callRefreshToken(r.refresh_token);u&&(console.error(u),ag(u)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",u),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",r)}catch(r){this._debug(n,"error",r),console.error(r);return}finally{this._debug(n,"end")}}async _callRefreshToken(e){var n,r;if(!e)throw new ja;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const l=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(l,"begin");try{this.refreshingDeferred=new Ph;const{data:u,error:g}=await this._refreshAccessToken(e);if(g)throw g;if(!u.session)throw new ja;await this._saveSession(u.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",u.session);const y={session:u.session,error:null};return this.refreshingDeferred.resolve(y),y}catch(u){if(this._debug(l,"error",u),ct(u)){const g={session:null,error:u};return ag(u)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(g),g}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(u),u}finally{this.refreshingDeferred=null,this._debug(l,"end")}}async _notifyAllSubscribers(e,n,r=!0){const l=`#_notifyAllSubscribers(${e})`;this._debug(l,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:e,session:n});const u=[],g=Array.from(this.stateChangeEmitters.values()).map(async y=>{try{await y.callback(e,n)}catch(b){u.push(b)}});if(await Promise.all(g),u.length>0){for(let y=0;y<u.length;y+=1)console.error(u[y]);throw u[0]}}finally{this._debug(l,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await rE(this.storage,this.storageKey,e)}async _removeSession(){this._debug("#_removeSession()"),await eh(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Ls()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),oc);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const l=Math.floor((r.expires_at*1e3-e)/oc);this._debug("#_autoRefreshTokenTick()",`access token expires in ${l} ticks, a tick lasts ${oc}ms, refresh threshold is ${Jg} ticks`),l<=Jg&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof aE)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Ls()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const n=`#_onVisibilityChanged(${e})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,n,r){const l=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&l.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&l.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[u,g]=await nc(this.storage,this.storageKey),y=new URLSearchParams({code_challenge:`${encodeURIComponent(u)}`,code_challenge_method:`${encodeURIComponent(g)}`});l.push(y.toString())}if(r!=null&&r.queryParams){const u=new URLSearchParams(r.queryParams);l.push(u.toString())}return r!=null&&r.skipBrowserRedirect&&l.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${e}?${l.join("&")}`}async _unenroll(e){try{return await this._useSession(async n=>{var r;const{data:l,error:u}=n;return u?{data:null,error:u}:await Ct(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(r=l==null?void 0:l.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(ct(n))return{data:null,error:n};throw n}}async _enroll(e){try{return await this._useSession(async n=>{var r,l;const{data:u,error:g}=n;if(g)return{data:null,error:g};const y=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:b,error:x}=await Ct(this.fetch,"POST",`${this.url}/factors`,{body:y,headers:this.headers,jwt:(r=u==null?void 0:u.session)===null||r===void 0?void 0:r.access_token});return x?{data:null,error:x}:(e.factorType==="totp"&&(!((l=b==null?void 0:b.totp)===null||l===void 0)&&l.qr_code)&&(b.totp.qr_code=`data:image/svg+xml;utf-8,${b.totp.qr_code}`),{data:b,error:null})})}catch(n){if(ct(n))return{data:null,error:n};throw n}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:l,error:u}=n;if(u)return{data:null,error:u};const{data:g,error:y}=await Ct(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(r=l==null?void 0:l.session)===null||r===void 0?void 0:r.access_token});return y?{data:null,error:y}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+g.expires_in},g)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",g),{data:g,error:y})})}catch(n){if(ct(n))return{data:null,error:n};throw n}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:l,error:u}=n;return u?{data:null,error:u}:await Ct(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(r=l==null?void 0:l.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(ct(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(e){const{data:n,error:r}=await this._challenge({factorId:e.factorId});return r?{data:null,error:r}:await this._verify({factorId:e.factorId,challengeId:n.id,code:e.code})}async _listFactors(){const{data:{user:e},error:n}=await this.getUser();if(n)return{data:null,error:n};const r=(e==null?void 0:e.factors)||[],l=r.filter(g=>g.factor_type==="totp"&&g.status==="verified"),u=r.filter(g=>g.factor_type==="phone"&&g.status==="verified");return{data:{all:r,totp:l,phone:u},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var n,r;const{data:{session:l},error:u}=e;if(u)return{data:null,error:u};if(!l)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:g}=og(l.access_token);let y=null;g.aal&&(y=g.aal);let b=y;((r=(n=l.user.factors)===null||n===void 0?void 0:n.filter(C=>C.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(b="aal2");const E=g.amr||[];return{data:{currentLevel:y,nextLevel:b,currentAuthenticationMethods:E},error:null}}))}async fetchJwk(e,n={keys:[]}){let r=n.keys.find(g=>g.kid===e);if(r||(r=this.jwks.keys.find(g=>g.kid===e),r&&this.jwks_cached_at+lM>Date.now()))return r;const{data:l,error:u}=await Ct(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(u)throw u;if(!l.keys||l.keys.length===0)throw new Zu("JWKS is empty");if(this.jwks=l,this.jwks_cached_at=Date.now(),r=l.keys.find(g=>g.kid===e),!r)throw new Zu("No matching signing key found in JWKS");return r}async getClaims(e,n={keys:[]}){try{let r=e;if(!r){const{data:O,error:M}=await this.getSession();if(M||!O.session)return{data:null,error:M};r=O.session.access_token}const{header:l,payload:u,signature:g,raw:{header:y,payload:b}}=og(r);if(MM(u.exp),!l.kid||l.alg==="HS256"||!("crypto"in globalThis&&"subtle"in globalThis.crypto)){const{error:O}=await this.getUser(r);if(O)throw O;return{data:{claims:u,header:l,signature:g},error:null}}const x=DM(l.alg),E=await this.fetchJwk(l.kid,n),C=await crypto.subtle.importKey("jwk",E,x,!0,["verify"]);if(!await crypto.subtle.verify(x,C,g,yM(`${y}.${b}`)))throw new Zu("Invalid JWT signature");return{data:{claims:u,header:l,signature:g},error:null}}catch(r){if(ct(r))return{data:null,error:r};throw r}}}ff.nextInstanceID=0;const KM=ff;class ZM extends KM{constructor(e){super(e)}}var QM=function(t,e,n,r){function l(u){return u instanceof n?u:new n(function(g){g(u)})}return new(n||(n=Promise))(function(u,g){function y(E){try{x(r.next(E))}catch(C){g(C)}}function b(E){try{x(r.throw(E))}catch(C){g(C)}}function x(E){E.done?u(E.value):l(E.value).then(y,b)}x((r=r.apply(t,e||[])).next())})};class JM{constructor(e,n,r){var l,u,g;if(this.supabaseUrl=e,this.supabaseKey=n,!e)throw new Error("supabaseUrl is required.");if(!n)throw new Error("supabaseKey is required.");const y=nM(e),b=new URL(y);this.realtimeUrl=new URL("realtime/v1",b),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",b),this.storageUrl=new URL("storage/v1",b),this.functionsUrl=new URL("functions/v1",b);const x=`sb-${b.hostname.split(".")[0]}-auth-token`,E={db:XI,realtime:KI,auth:Object.assign(Object.assign({},WI),{storageKey:x}),global:YI},C=iM(r??{},E);this.storageKey=(l=C.auth.storageKey)!==null&&l!==void 0?l:"",this.headers=(u=C.global.headers)!==null&&u!==void 0?u:{},C.accessToken?(this.accessToken=C.accessToken,this.auth=new Proxy({},{get:(N,O)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(O)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((g=C.auth)!==null&&g!==void 0?g:{},this.headers,C.global.fetch),this.fetch=eM(n,this._getAccessToken.bind(this),C.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},C.realtime)),this.rest=new pI(new URL("rest/v1",b).href,{headers:this.headers,schema:C.db.schema,fetch:this.fetch}),C.accessToken||this._listenForAuthEvents()}get functions(){return new sI(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}get storage(){return new $I(this.storageUrl.href,this.headers,this.fetch)}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,n={},r={}){return this.rest.rpc(e,n,r)}channel(e,n={config:{}}){return this.realtime.channel(e,n)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,n;return QM(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(n=(e=r.session)===null||e===void 0?void 0:e.access_token)!==null&&n!==void 0?n:null})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:l,storageKey:u,flowType:g,lock:y,debug:b},x,E){const C={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new ZM({url:this.authUrl.href,headers:Object.assign(Object.assign({},C),x),storageKey:u,autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:l,flowType:g,lock:y,debug:b,fetch:E,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(e){return new II(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(e,n,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?this.changedAccessToken=r:e==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const eD=(t,e,n)=>new JM(t,e,n),je=eD("https://gsicrcogciklihyflhtc.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImdzaWNyY29nY2lrbGloeWZsaHRjIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDk2NjEzOTgsImV4cCI6MjA2NTIzNzM5OH0.RXaJeqWW0e35fsRTtn5RkrcPnI1e7kIIJnBoIanawI0");typeof window<"u"&&(window.supabase=je);function oE(){const{i18n:t}=kn(),e=t.language==="th"?"th":"en";function n(){const r=e==="en"?"th":"en";t.changeLanguage(r),localStorage.setItem("lang",r)}return T.jsxs("button",{type:"button",onClick:n,className:"relative w-14 h-8 rounded-full border-2 border-[#6654b3] bg-white flex items-center px-1 transition","aria-label":"Toggle language",style:{minWidth:56},children:[T.jsx("span",{className:`absolute left-1 top-1 w-6 h-6 rounded-full bg-[#6654b3] text-white flex items-center justify-center font-bold text-xs transition-transform duration-300 ${e==="th"?"translate-x-6":"translate-x-0"}`,children:e==="en"?"EN":"TH"}),T.jsxs("span",{className:"w-full flex justify-between text-[#6654b3] font-bold text-xs px-2 select-none",children:[T.jsx("span",{children:"EN"}),T.jsx("span",{children:"TH"})]})]})}function tD(){const{t}=kn(),e=Ss(),[n,r]=R.useState(""),[l,u]=R.useState(""),[g,y]=R.useState(!1),[b,x]=R.useState("");async function E(C){C.preventDefault(),x(""),y(!0);const N=n.trim().toLowerCase(),O=l.trim(),{error:M}=await je.auth.signInWithPassword({email:N,password:O});M?x(M.message):e("/dashboard"),y(!1)}return T.jsxs("div",{className:"flex items-center justify-center min-h-screen bg-gray-50 relative",children:[T.jsx("div",{className:"absolute top-6 right-6 z-10",children:T.jsx(oE,{})}),T.jsxs("form",{onSubmit:E,className:"w-full max-w-md bg-white p-8 rounded shadow",children:[T.jsx("h2",{className:"text-2xl font-bold mb-6 text-center",children:t("signIn")}),T.jsxs("label",{className:"block mb-4",children:[T.jsx("span",{className:"text-sm",children:t("email")}),T.jsx("input",{type:"email",className:"mt-1 block w-full border rounded px-3 py-2",placeholder:"you@example.com",value:n,onChange:C=>r(C.target.value),required:!0,autoFocus:!0})]}),T.jsxs("label",{className:"block mb-6",children:[T.jsx("span",{className:"text-sm",children:t("password")}),T.jsx("input",{type:"password",className:"mt-1 block w-full border rounded px-3 py-2",placeholder:"••••••••",value:l,onChange:C=>u(C.target.value),required:!0})]}),T.jsx("button",{type:"submit",disabled:g,className:"w-full bg-[#6654b3] text-white py-2 rounded hover:bg-[#5542a0] disabled:opacity-50 transition",children:t(g?"signingIn":"signIn")}),b&&T.jsx("p",{className:"mt-4 text-red-600 text-center",children:b})]})]})}function nD({title:t,titleId:e,...n},r){return R.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?R.createElement("title",{id:e},t):null,R.createElement("path",{fillRule:"evenodd",d:"M11.03 3.97a.75.75 0 0 1 0 1.06l-6.22 6.22H21a.75.75 0 0 1 0 1.5H4.81l6.22 6.22a.75.75 0 1 1-1.06 1.06l-7.5-7.5a.75.75 0 0 1 0-1.06l7.5-7.5a.75.75 0 0 1 1.06 0Z",clipRule:"evenodd"}))}const nm=R.forwardRef(nD);function iD({title:t,titleId:e,...n},r){return R.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?R.createElement("title",{id:e},t):null,R.createElement("path",{fillRule:"evenodd",d:"M7.5 3.75A1.5 1.5 0 0 0 6 5.25v13.5a1.5 1.5 0 0 0 1.5 1.5h6a1.5 1.5 0 0 0 1.5-1.5V15a.75.75 0 0 1 1.5 0v3.75a3 3 0 0 1-3 3h-6a3 3 0 0 1-3-3V5.25a3 3 0 0 1 3-3h6a3 3 0 0 1 3 3V9A.75.75 0 0 1 15 9V5.25a1.5 1.5 0 0 0-1.5-1.5h-6Zm10.72 4.72a.75.75 0 0 1 1.06 0l3 3a.75.75 0 0 1 0 1.06l-3 3a.75.75 0 1 1-1.06-1.06l1.72-1.72H9a.75.75 0 0 1 0-1.5h10.94l-1.72-1.72a.75.75 0 0 1 0-1.06Z",clipRule:"evenodd"}))}const sD=R.forwardRef(iD);function rD({title:t,titleId:e,...n},r){return R.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?R.createElement("title",{id:e},t):null,R.createElement("path",{fillRule:"evenodd",d:"M3 6.75A.75.75 0 0 1 3.75 6h16.5a.75.75 0 0 1 0 1.5H3.75A.75.75 0 0 1 3 6.75ZM3 12a.75.75 0 0 1 .75-.75h16.5a.75.75 0 0 1 0 1.5H3.75A.75.75 0 0 1 3 12Zm0 5.25a.75.75 0 0 1 .75-.75h16.5a.75.75 0 0 1 0 1.5H3.75a.75.75 0 0 1-.75-.75Z",clipRule:"evenodd"}))}const aD=R.forwardRef(rD);function oD({title:t,titleId:e,...n},r){return R.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?R.createElement("title",{id:e},t):null,R.createElement("path",{d:"M5.85 3.5a.75.75 0 0 0-1.117-1 9.719 9.719 0 0 0-2.348 4.876.75.75 0 0 0 1.479.248A8.219 8.219 0 0 1 5.85 3.5ZM19.267 2.5a.75.75 0 1 0-1.118 1 8.22 8.22 0 0 1 1.987 4.124.75.75 0 0 0 1.48-.248A9.72 9.72 0 0 0 19.266 2.5Z"}),R.createElement("path",{fillRule:"evenodd",d:"M12 2.25A6.75 6.75 0 0 0 5.25 9v.75a8.217 8.217 0 0 1-2.119 5.52.75.75 0 0 0 .298 1.206c1.544.57 3.16.99 4.831 1.243a3.75 3.75 0 1 0 7.48 0 24.583 24.583 0 0 0 4.83-1.244.75.75 0 0 0 .298-1.205 8.217 8.217 0 0 1-2.118-5.52V9A6.75 6.75 0 0 0 12 2.25ZM9.75 18c0-.034 0-.067.002-.1a25.05 25.05 0 0 0 4.496 0l.002.1a2.25 2.25 0 1 1-4.5 0Z",clipRule:"evenodd"}))}const lD=R.forwardRef(oD);function cD({title:t,titleId:e,...n},r){return R.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?R.createElement("title",{id:e},t):null,R.createElement("path",{fillRule:"evenodd",d:"M5.25 9a6.75 6.75 0 0 1 13.5 0v.75c0 2.123.8 4.057 2.118 5.52a.75.75 0 0 1-.297 1.206c-1.544.57-3.16.99-4.831 1.243a3.75 3.75 0 1 1-7.48 0 24.585 24.585 0 0 1-4.831-1.244.75.75 0 0 1-.298-1.205A8.217 8.217 0 0 0 5.25 9.75V9Zm4.502 8.9a2.25 2.25 0 1 0 4.496 0 25.057 25.057 0 0 1-4.496 0Z",clipRule:"evenodd"}))}const lE=R.forwardRef(cD);function uD({title:t,titleId:e,...n},r){return R.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?R.createElement("title",{id:e},t):null,R.createElement("path",{d:"M11.25 4.533A9.707 9.707 0 0 0 6 3a9.735 9.735 0 0 0-3.25.555.75.75 0 0 0-.5.707v14.25a.75.75 0 0 0 1 .707A8.237 8.237 0 0 1 6 18.75c1.995 0 3.823.707 5.25 1.886V4.533ZM12.75 20.636A8.214 8.214 0 0 1 18 18.75c.966 0 1.89.166 2.75.47a.75.75 0 0 0 1-.708V4.262a.75.75 0 0 0-.5-.707A9.735 9.735 0 0 0 18 3a9.707 9.707 0 0 0-5.25 1.533v16.103Z"}))}const fD=R.forwardRef(uD);function dD({title:t,titleId:e,...n},r){return R.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?R.createElement("title",{id:e},t):null,R.createElement("path",{d:"M4.913 2.658c2.075-.27 4.19-.408 6.337-.408 2.147 0 4.262.139 6.337.408 1.922.25 3.291 1.861 3.405 3.727a4.403 4.403 0 0 0-1.032-.211 50.89 50.89 0 0 0-8.42 0c-2.358.196-4.04 2.19-4.04 4.434v4.286a4.47 4.47 0 0 0 2.433 3.984L7.28 21.53A.75.75 0 0 1 6 21v-4.03a48.527 48.527 0 0 1-1.087-.128C2.905 16.58 1.5 14.833 1.5 12.862V6.638c0-1.97 1.405-3.718 3.413-3.979Z"}),R.createElement("path",{d:"M15.75 7.5c-1.376 0-2.739.057-4.086.169C10.124 7.797 9 9.103 9 10.609v4.285c0 1.507 1.128 2.814 2.67 2.94 1.243.102 2.5.157 3.768.165l2.782 2.781a.75.75 0 0 0 1.28-.53v-2.39l.33-.026c1.542-.125 2.67-1.433 2.67-2.94v-4.286c0-1.505-1.125-2.811-2.664-2.94A49.392 49.392 0 0 0 15.75 7.5Z"}))}const hD=R.forwardRef(dD);function gD({title:t,titleId:e,...n},r){return R.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?R.createElement("title",{id:e},t):null,R.createElement("path",{fillRule:"evenodd",d:"M19.916 4.626a.75.75 0 0 1 .208 1.04l-9 13.5a.75.75 0 0 1-1.154.114l-6-6a.75.75 0 0 1 1.06-1.06l5.353 5.353 8.493-12.74a.75.75 0 0 1 1.04-.207Z",clipRule:"evenodd"}))}const mD=R.forwardRef(gD);function pD({title:t,titleId:e,...n},r){return R.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?R.createElement("title",{id:e},t):null,R.createElement("path",{fillRule:"evenodd",d:"M7.502 6h7.128A3.375 3.375 0 0 1 18 9.375v9.375a3 3 0 0 0 3-3V6.108c0-1.505-1.125-2.811-2.664-2.94a48.972 48.972 0 0 0-.673-.05A3 3 0 0 0 15 1.5h-1.5a3 3 0 0 0-2.663 1.618c-.225.015-.45.032-.673.05C8.662 3.295 7.554 4.542 7.502 6ZM13.5 3A1.5 1.5 0 0 0 12 4.5h4.5A1.5 1.5 0 0 0 15 3h-1.5Z",clipRule:"evenodd"}),R.createElement("path",{fillRule:"evenodd",d:"M3 9.375C3 8.339 3.84 7.5 4.875 7.5h9.75c1.036 0 1.875.84 1.875 1.875v11.25c0 1.035-.84 1.875-1.875 1.875h-9.75A1.875 1.875 0 0 1 3 20.625V9.375Zm9.586 4.594a.75.75 0 0 0-1.172-.938l-2.476 3.096-.908-.907a.75.75 0 0 0-1.06 1.06l1.5 1.5a.75.75 0 0 0 1.116-.062l3-3.75Z",clipRule:"evenodd"}))}const xD=R.forwardRef(pD);function yD({title:t,titleId:e,...n},r){return R.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?R.createElement("title",{id:e},t):null,R.createElement("path",{fillRule:"evenodd",d:"M12 2.25c-5.385 0-9.75 4.365-9.75 9.75s4.365 9.75 9.75 9.75 9.75-4.365 9.75-9.75S17.385 2.25 12 2.25ZM12.75 6a.75.75 0 0 0-1.5 0v6c0 .414.336.75.75.75h4.5a.75.75 0 0 0 0-1.5h-3.75V6Z",clipRule:"evenodd"}))}const bD=R.forwardRef(yD);function wD({title:t,titleId:e,...n},r){return R.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?R.createElement("title",{id:e},t):null,R.createElement("path",{fillRule:"evenodd",d:"M11.078 2.25c-.917 0-1.699.663-1.85 1.567L9.05 4.889c-.02.12-.115.26-.297.348a7.493 7.493 0 0 0-.986.57c-.166.115-.334.126-.45.083L6.3 5.508a1.875 1.875 0 0 0-2.282.819l-.922 1.597a1.875 1.875 0 0 0 .432 2.385l.84.692c.095.078.17.229.154.43a7.598 7.598 0 0 0 0 1.139c.015.2-.059.352-.153.43l-.841.692a1.875 1.875 0 0 0-.432 2.385l.922 1.597a1.875 1.875 0 0 0 2.282.818l1.019-.382c.115-.043.283-.031.45.082.312.214.641.405.985.57.182.088.277.228.297.35l.178 1.071c.151.904.933 1.567 1.85 1.567h1.844c.916 0 1.699-.663 1.85-1.567l.178-1.072c.02-.12.114-.26.297-.349.344-.165.673-.356.985-.57.167-.114.335-.125.45-.082l1.02.382a1.875 1.875 0 0 0 2.28-.819l.923-1.597a1.875 1.875 0 0 0-.432-2.385l-.84-.692c-.095-.078-.17-.229-.154-.43a7.614 7.614 0 0 0 0-1.139c-.016-.2.059-.352.153-.43l.84-.692c.708-.582.891-1.59.433-2.385l-.922-1.597a1.875 1.875 0 0 0-2.282-.818l-1.02.382c-.114.043-.282.031-.449-.083a7.49 7.49 0 0 0-.985-.57c-.183-.087-.277-.227-.297-.348l-.179-1.072a1.875 1.875 0 0 0-1.85-1.567h-1.843ZM12 15.75a3.75 3.75 0 1 0 0-7.5 3.75 3.75 0 0 0 0 7.5Z",clipRule:"evenodd"}))}const vD=R.forwardRef(wD);function ED({title:t,titleId:e,...n},r){return R.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?R.createElement("title",{id:e},t):null,R.createElement("path",{d:"M10.464 8.746c.227-.18.497-.311.786-.394v2.795a2.252 2.252 0 0 1-.786-.393c-.394-.313-.546-.681-.546-1.004 0-.323.152-.691.546-1.004ZM12.75 15.662v-2.824c.347.085.664.228.921.421.427.32.579.686.579.991 0 .305-.152.671-.579.991a2.534 2.534 0 0 1-.921.42Z"}),R.createElement("path",{fillRule:"evenodd",d:"M12 2.25c-5.385 0-9.75 4.365-9.75 9.75s4.365 9.75 9.75 9.75 9.75-4.365 9.75-9.75S17.385 2.25 12 2.25ZM12.75 6a.75.75 0 0 0-1.5 0v.816a3.836 3.836 0 0 0-1.72.756c-.712.566-1.112 1.35-1.112 2.178 0 .829.4 1.612 1.113 2.178.502.4 1.102.647 1.719.756v2.978a2.536 2.536 0 0 1-.921-.421l-.879-.66a.75.75 0 0 0-.9 1.2l.879.66c.533.4 1.169.645 1.821.75V18a.75.75 0 0 0 1.5 0v-.81a4.124 4.124 0 0 0 1.821-.749c.745-.559 1.179-1.344 1.179-2.191 0-.847-.434-1.632-1.179-2.191a4.122 4.122 0 0 0-1.821-.75V8.354c.29.082.559.213.786.393l.415.33a.75.75 0 0 0 .933-1.175l-.415-.33a3.836 3.836 0 0 0-1.719-.755V6Z",clipRule:"evenodd"}))}const SD=R.forwardRef(ED);function CD({title:t,titleId:e,...n},r){return R.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?R.createElement("title",{id:e},t):null,R.createElement("path",{fillRule:"evenodd",d:"M5.625 1.5c-1.036 0-1.875.84-1.875 1.875v17.25c0 1.035.84 1.875 1.875 1.875h12.75c1.035 0 1.875-.84 1.875-1.875V12.75A3.75 3.75 0 0 0 16.5 9h-1.875a1.875 1.875 0 0 1-1.875-1.875V5.25A3.75 3.75 0 0 0 9 1.5H5.625ZM7.5 15a.75.75 0 0 1 .75-.75h7.5a.75.75 0 0 1 0 1.5h-7.5A.75.75 0 0 1 7.5 15Zm.75 2.25a.75.75 0 0 0 0 1.5H12a.75.75 0 0 0 0-1.5H8.25Z",clipRule:"evenodd"}),R.createElement("path",{d:"M12.971 1.816A5.23 5.23 0 0 1 14.25 5.25v1.875c0 .207.168.375.375.375H16.5a5.23 5.23 0 0 1 3.434 1.279 9.768 9.768 0 0 0-6.963-6.963Z"}))}const AD=R.forwardRef(CD);function TD({title:t,titleId:e,...n},r){return R.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?R.createElement("title",{id:e},t):null,R.createElement("path",{fillRule:"evenodd",d:"M12 2.25c-5.385 0-9.75 4.365-9.75 9.75s4.365 9.75 9.75 9.75 9.75-4.365 9.75-9.75S17.385 2.25 12 2.25Zm-2.625 6c-.54 0-.828.419-.936.634a1.96 1.96 0 0 0-.189.866c0 .298.059.605.189.866.108.215.395.634.936.634.54 0 .828-.419.936-.634.13-.26.189-.568.189-.866 0-.298-.059-.605-.189-.866-.108-.215-.395-.634-.936-.634Zm4.314.634c.108-.215.395-.634.936-.634.54 0 .828.419.936.634.13.26.189.568.189.866 0 .298-.059.605-.189.866-.108.215-.395.634-.936.634-.54 0-.828-.419-.936-.634a1.96 1.96 0 0 1-.189-.866c0-.298.059-.605.189-.866Zm2.023 6.828a.75.75 0 1 0-1.06-1.06 3.75 3.75 0 0 1-5.304 0 .75.75 0 0 0-1.06 1.06 5.25 5.25 0 0 0 7.424 0Z",clipRule:"evenodd"}))}const Kb=R.forwardRef(TD);function _D({title:t,titleId:e,...n},r){return R.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?R.createElement("title",{id:e},t):null,R.createElement("path",{d:"M11.47 3.841a.75.75 0 0 1 1.06 0l8.69 8.69a.75.75 0 1 0 1.06-1.061l-8.689-8.69a2.25 2.25 0 0 0-3.182 0l-8.69 8.69a.75.75 0 1 0 1.061 1.06l8.69-8.689Z"}),R.createElement("path",{d:"m12 5.432 8.159 8.159c.03.03.06.058.091.086v6.198c0 1.035-.84 1.875-1.875 1.875H15a.75.75 0 0 1-.75-.75v-4.5a.75.75 0 0 0-.75-.75h-3a.75.75 0 0 0-.75.75V21a.75.75 0 0 1-.75.75H5.625a1.875 1.875 0 0 1-1.875-1.875v-6.198a2.29 2.29 0 0 0 .091-.086L12 5.432Z"}))}const ND=R.forwardRef(_D);function RD({title:t,titleId:e,...n},r){return R.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?R.createElement("title",{id:e},t):null,R.createElement("path",{d:"M21.731 2.269a2.625 2.625 0 0 0-3.712 0l-1.157 1.157 3.712 3.712 1.157-1.157a2.625 2.625 0 0 0 0-3.712ZM19.513 8.199l-3.712-3.712-12.15 12.15a5.25 5.25 0 0 0-1.32 2.214l-.8 2.685a.75.75 0 0 0 .933.933l2.685-.8a5.25 5.25 0 0 0 2.214-1.32L19.513 8.2Z"}))}const OD=R.forwardRef(RD);function ID({title:t,titleId:e,...n},r){return R.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?R.createElement("title",{id:e},t):null,R.createElement("path",{fillRule:"evenodd",d:"M12 2.25c-5.385 0-9.75 4.365-9.75 9.75s4.365 9.75 9.75 9.75 9.75-4.365 9.75-9.75S17.385 2.25 12 2.25ZM12.75 9a.75.75 0 0 0-1.5 0v2.25H9a.75.75 0 0 0 0 1.5h2.25V15a.75.75 0 0 0 1.5 0v-2.25H15a.75.75 0 0 0 0-1.5h-2.25V9Z",clipRule:"evenodd"}))}const MD=R.forwardRef(ID);function DD({title:t,titleId:e,...n},r){return R.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?R.createElement("title",{id:e},t):null,R.createElement("path",{fillRule:"evenodd",d:"M3 4.875C3 3.839 3.84 3 4.875 3h4.5c1.036 0 1.875.84 1.875 1.875v4.5c0 1.036-.84 1.875-1.875 1.875h-4.5A1.875 1.875 0 0 1 3 9.375v-4.5ZM4.875 4.5a.375.375 0 0 0-.375.375v4.5c0 .207.168.375.375.375h4.5a.375.375 0 0 0 .375-.375v-4.5a.375.375 0 0 0-.375-.375h-4.5Zm7.875.375c0-1.036.84-1.875 1.875-1.875h4.5C20.16 3 21 3.84 21 4.875v4.5c0 1.036-.84 1.875-1.875 1.875h-4.5a1.875 1.875 0 0 1-1.875-1.875v-4.5Zm1.875-.375a.375.375 0 0 0-.375.375v4.5c0 .207.168.375.375.375h4.5a.375.375 0 0 0 .375-.375v-4.5a.375.375 0 0 0-.375-.375h-4.5ZM6 6.75A.75.75 0 0 1 6.75 6h.75a.75.75 0 0 1 .75.75v.75a.75.75 0 0 1-.75.75h-.75A.75.75 0 0 1 6 7.5v-.75Zm9.75 0A.75.75 0 0 1 16.5 6h.75a.75.75 0 0 1 .75.75v.75a.75.75 0 0 1-.75.75h-.75a.75.75 0 0 1-.75-.75v-.75ZM3 14.625c0-1.036.84-1.875 1.875-1.875h4.5c1.036 0 1.875.84 1.875 1.875v4.5c0 1.035-.84 1.875-1.875 1.875h-4.5A1.875 1.875 0 0 1 3 19.125v-4.5Zm1.875-.375a.375.375 0 0 0-.375.375v4.5c0 .207.168.375.375.375h4.5a.375.375 0 0 0 .375-.375v-4.5a.375.375 0 0 0-.375-.375h-4.5Zm7.875-.75a.75.75 0 0 1 .75-.75h.75a.75.75 0 0 1 .75.75v.75a.75.75 0 0 1-.75.75h-.75a.75.75 0 0 1-.75-.75v-.75Zm6 0a.75.75 0 0 1 .75-.75h.75a.75.75 0 0 1 .75.75v.75a.75.75 0 0 1-.75.75h-.75a.75.75 0 0 1-.75-.75v-.75ZM6 16.5a.75.75 0 0 1 .75-.75h.75a.75.75 0 0 1 .75.75v.75a.75.75 0 0 1-.75.75h-.75a.75.75 0 0 1-.75-.75v-.75Zm9.75 0a.75.75 0 0 1 .75-.75h.75a.75.75 0 0 1 .75.75v.75a.75.75 0 0 1-.75.75h-.75a.75.75 0 0 1-.75-.75v-.75Zm-3 3a.75.75 0 0 1 .75-.75h.75a.75.75 0 0 1 .75.75v.75a.75.75 0 0 1-.75.75h-.75a.75.75 0 0 1-.75-.75v-.75Zm6 0a.75.75 0 0 1 .75-.75h.75a.75.75 0 0 1 .75.75v.75a.75.75 0 0 1-.75.75h-.75a.75.75 0 0 1-.75-.75v-.75Z",clipRule:"evenodd"}))}const Zb=R.forwardRef(DD);function LD({title:t,titleId:e,...n},r){return R.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?R.createElement("title",{id:e},t):null,R.createElement("path",{fillRule:"evenodd",d:"M16.5 4.478v.227a48.816 48.816 0 0 1 3.878.512.75.75 0 1 1-.256 1.478l-.209-.035-1.005 13.07a3 3 0 0 1-2.991 2.77H8.084a3 3 0 0 1-2.991-2.77L4.087 6.66l-.209.035a.75.75 0 0 1-.256-1.478A48.567 48.567 0 0 1 7.5 4.705v-.227c0-1.564 1.213-2.9 2.816-2.951a52.662 52.662 0 0 1 3.369 0c1.603.051 2.815 1.387 2.815 2.951Zm-6.136-1.452a51.196 51.196 0 0 1 3.273 0C14.39 3.05 15 3.684 15 4.478v.113a49.488 49.488 0 0 0-6 0v-.113c0-.794.609-1.428 1.364-1.452Zm-.355 5.945a.75.75 0 1 0-1.5.058l.347 9a.75.75 0 1 0 1.499-.058l-.346-9Zm5.48.058a.75.75 0 1 0-1.498-.058l-.347 9a.75.75 0 0 0 1.5.058l.345-9Z",clipRule:"evenodd"}))}const kD=R.forwardRef(LD);function jD({title:t,titleId:e,...n},r){return R.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?R.createElement("title",{id:e},t):null,R.createElement("path",{d:"M5.25 6.375a4.125 4.125 0 1 1 8.25 0 4.125 4.125 0 0 1-8.25 0ZM2.25 19.125a7.125 7.125 0 0 1 14.25 0v.003l-.001.119a.75.75 0 0 1-.363.63 13.067 13.067 0 0 1-6.761 1.873c-2.472 0-4.786-.684-6.76-1.873a.75.75 0 0 1-.364-.63l-.001-.122ZM18.75 7.5a.75.75 0 0 0-1.5 0v2.25H15a.75.75 0 0 0 0 1.5h2.25v2.25a.75.75 0 0 0 1.5 0v-2.25H21a.75.75 0 0 0 0-1.5h-2.25V7.5Z"}))}const BD=R.forwardRef(jD);function PD({title:t,titleId:e,...n},r){return R.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?R.createElement("title",{id:e},t):null,R.createElement("path",{fillRule:"evenodd",d:"M5.47 5.47a.75.75 0 0 1 1.06 0L12 10.94l5.47-5.47a.75.75 0 1 1 1.06 1.06L13.06 12l5.47 5.47a.75.75 0 1 1-1.06 1.06L12 13.06l-5.47 5.47a.75.75 0 0 1-1.06-1.06L10.94 12 5.47 6.53a.75.75 0 0 1 0-1.06Z",clipRule:"evenodd"}))}const cE=R.forwardRef(PD),UD="#6654b3",FD="#f6f6f6",Qb=80;function VD(){const{t}=kn(),e=ea(),n=Ss(),r=e.pathname==="/dashboard",[l,u]=R.useState(!1),g=[{to:"/dashboard",icon:T.jsx(ND,{className:"w-8 h-8"}),active:e.pathname==="/dashboard",key:"home"},{to:"/reports",icon:T.jsx(AD,{className:"w-8 h-8"}),active:e.pathname.startsWith("/reports"),key:"reports"},{to:"/messaging",icon:T.jsx(hD,{className:"w-8 h-8"}),active:e.pathname.startsWith("/messaging"),key:"messaging"},{to:"/billing",icon:T.jsx(SD,{className:"w-8 h-8"}),active:e.pathname.startsWith("/billing"),key:"billing"}];return T.jsxs(T.Fragment,{children:[T.jsx("button",{className:"fixed top-3 left-3 z-50 bg-[#6654b3] text-white p-2 rounded-xl shadow-lg md:hidden",onClick:()=>u(!0),"aria-label":"Open menu",style:{display:l?"none":void 0},children:T.jsx(aD,{className:"w-8 h-8"})}),T.jsxs("aside",{style:{width:Qb,minWidth:Qb,background:UD,color:FD,borderTopRightRadius:"36px",borderBottomRightRadius:"36px",minHeight:"100vh",boxShadow:"2px 0 20px 0 rgba(102,84,179,0.08)",zIndex:100,display:"flex",flexDirection:"column",alignItems:"center",paddingTop:"32px"},className:`fixed top-0 left-0 md:flex ${l?"flex":"hidden"} md:!flex`,children:[T.jsx("button",{className:"absolute top-3 right-3 md:hidden bg-white/80 text-[#6654b3] rounded-full p-1 shadow",onClick:()=>u(!1),"aria-label":"Close menu",children:T.jsx(cE,{className:"w-7 h-7"})}),T.jsx("div",{style:{height:56,width:"100%",display:"flex",alignItems:"center",justifyContent:"center"},children:!r&&T.jsx("button",{className:"w-12 h-12 flex items-center justify-center rounded-xl bg-white/90 hover:bg-[#edeaf8] text-[#6654b3] shadow transition",onClick:()=>n(-1),"aria-label":t("back"),children:T.jsx(nm,{className:"w-7 h-7"})})}),T.jsx("div",{style:{flex:1,display:"flex",flexDirection:"column",justifyContent:"center",gap:"28px"},children:g.map(y=>T.jsx(yh,{to:y.to,className:`flex items-center justify-center w-12 h-12 rounded-xl transition
                ${y.active?"bg-white/80 shadow text-[#6654b3]":"text-white hover:bg-white/20"}`,title:t(y.key),onClick:()=>u(!1),children:y.icon},y.key))}),T.jsx("div",{className:"mb-4",children:T.jsx(oE,{})}),T.jsxs("div",{className:"flex flex-col items-center gap-4 mb-3",children:[T.jsx(yh,{to:"/settings",className:`flex items-center justify-center w-12 h-12 rounded-xl transition
              ${e.pathname==="/settings"?"bg-white/80 shadow text-[#6654b3]":"text-white hover:bg-white/20"}`,title:t("settings"),onClick:()=>u(!1),children:T.jsx(vD,{className:"w-8 h-8"})}),T.jsx("button",{type:"button",title:t("logout"),onClick:()=>n("/logout"),className:"w-12 h-12 flex items-center justify-center bg-white/90 hover:bg-pink-100 text-[#ec4899] rounded-xl shadow transition",children:T.jsx(sD,{className:"w-8 h-8"})})]})]}),l&&T.jsx("div",{className:"fixed inset-0 bg-black/30 z-40 md:hidden",onClick:()=>u(!1)})]})}const uE=R.createContext({user:null,setUser:()=>{}});function _f(){return R.useContext(uE)}function zD({children:t}){const[e,n]=R.useState(null);R.useEffect(()=>{je.auth.getSession().then(({data:u})=>{var g;(g=u.session)!=null&&g.user&&r({id:u.session.user.id,email:u.session.user.email??null})});const{data:l}=je.auth.onAuthStateChange((u,g)=>{g!=null&&g.user?r({id:g.user.id,email:g.user.email??null}):n(null)});return()=>l.subscription.unsubscribe()},[]);async function r(l){const{data:u,error:g}=await je.from("profiles").select("role").eq("id",l.id).single();if(g&&g.code!=="PGRST116"){console.error("loadProfile error",g);return}n({id:l.id,email:l.email,role:(u==null?void 0:u.role)??"staff"})}return T.jsx(uE.Provider,{value:{user:e,setUser:n},children:t})}const HD=80;function $D(){const[t,e]=R.useState(0),[n,r]=R.useState(!1),[l,u]=R.useState(!1),[g,y]=R.useState("/avatar.png"),b=Ss(),{user:x}=_f(),E=R.useRef(null);R.useEffect(()=>{async function N(){if(!(x!=null&&x.id))return y("/avatar.png");const{data:O,error:M}=await je.from("profiles").select("avatar_url").eq("id",x.id).single();M||!(O!=null&&O.avatar_url)?y("/avatar.png"):y(O.avatar_url)}N()},[x]),R.useEffect(()=>{const N=async()=>{const{count:M}=await je.from("notifications").select("*",{head:!0,count:"exact"}).eq("read",!1);e(M||0)};N();const O=je.channel(`notifications_feed_${Date.now()}`).on("postgres_changes",{event:"*",schema:"public",table:"notifications"},N).subscribe();return()=>{O.unsubscribe()}},[]);async function C(N){var q;const O=(q=N.target.files)==null?void 0:q[0];if(!O||!(x!=null&&x.id))return;u(!0);const M=O.name.split(".").pop(),B=`${x.id}-${Date.now()}.${M}`,{error:j}=await je.storage.from("avatars").upload(B,O,{upsert:!0});if(j){alert("Upload failed: "+j.message),u(!1);return}const{data:V}=je.storage.from("avatars").getPublicUrl(B),$=V.publicUrl,{error:U}=await je.from("profiles").update({avatar_url:$}).eq("id",x.id);if(U){alert("Failed to update profile: "+U.message),u(!1);return}y($),r(!1),u(!1)}return T.jsxs("div",{className:"min-h-screen bg-[#f6f6f6] flex",children:[T.jsx(VD,{}),T.jsxs("div",{className:"flex flex-col flex-1 min-h-screen",style:{marginLeft:HD,transition:"margin .2s cubic-bezier(.4,0,.2,1)"},children:[T.jsxs("header",{className:"w-full flex items-center px-8 py-3 shadow-sm",style:{background:"#f6f6f6",borderBottom:"1.5px solid #edeaf8",minHeight:"64px",zIndex:10},children:[T.jsx("div",{className:"flex-1 text-center cursor-pointer",onClick:()=>b("/dashboard"),children:T.jsx("span",{className:"text-2xl sm:text-3xl font-extrabold tracking-tight text-[#6654b3] select-none",children:"Wonder Kids"})}),T.jsxs("div",{className:"flex items-center gap-3 ml-auto",children:[T.jsxs("button",{onClick:()=>b("/notifications"),className:"relative p-2 rounded-xl hover:bg-[#edeaf8] transition","aria-label":"Notifications",style:{marginLeft:"auto"},children:[T.jsx(lE,{className:"w-7 h-7 text-[#6654b3]"}),t>0&&T.jsx("span",{className:"absolute -top-2 -right-1 bg-[#ec4899] text-white text-xs rounded-full h-5 w-5 flex items-center justify-center font-extrabold shadow",children:t})]}),T.jsx("button",{className:"ml-1",style:{background:"none"},onClick:()=>r(!0),"aria-label":"Change profile",children:T.jsx("img",{src:g||"/avatar.png",alt:"Profile",className:"w-10 h-10 rounded-full border-2 border-[#c5bdf4] shadow object-cover hover:scale-105 transition"})})]})]}),n&&T.jsx("div",{className:"fixed inset-0 bg-black/30 flex items-center justify-center z-50",children:T.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-6 max-w-sm w-full flex flex-col items-center",children:[T.jsx("img",{src:g,alt:"Profile preview",className:"w-20 h-20 rounded-full mb-4 border-2 border-[#c5bdf4] shadow object-cover"}),T.jsx("input",{ref:E,type:"file",accept:"image/*",className:"mb-4",onChange:C,disabled:l}),T.jsx("button",{onClick:()=>r(!1),className:"px-5 py-2 rounded-lg bg-[#6654b3] text-white font-bold hover:bg-[#5542a0] transition",disabled:l,children:"Close"})]})}),T.jsx("main",{className:"flex-1 p-0 bg-[#f6f6f6] min-h-[calc(100vh-64px)] transition-all duration-200",children:T.jsx("div",{className:"h-full w-full transition-all",children:T.jsx(PR,{})})})]})]})}function GD({children:t}){return t}function qD({title:t,titleId:e,...n},r){return R.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?R.createElement("title",{id:e},t):null,R.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 16.5v2.25A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75V16.5M16.5 12 12 16.5m0 0L7.5 12m4.5 4.5V3"}))}const Sh=R.forwardRef(qD);function YD({title:t,titleId:e,...n},r){return R.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?R.createElement("title",{id:e},t):null,R.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.023 9.348h4.992v-.001M2.985 19.644v-4.992m0 0h4.992m-4.993 0 3.181 3.183a8.25 8.25 0 0 0 13.803-3.7M4.031 9.865a8.25 8.25 0 0 1 13.803-3.7l3.181 3.182m0-4.991v4.99"}))}const Jb=R.forwardRef(YD);function XD({title:t,titleId:e,...n},r){return R.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?R.createElement("title",{id:e},t):null,R.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75 11.25 15 15 9.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const WD=R.forwardRef(XD);function KD({title:t,titleId:e,...n},r){return R.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?R.createElement("title",{id:e},t):null,R.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m4.5 12.75 6 6 9-13.5"}))}const ZD=R.forwardRef(KD);function QD({title:t,titleId:e,...n},r){return R.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?R.createElement("title",{id:e},t):null,R.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m19.5 8.25-7.5 7.5-7.5-7.5"}))}const fE=R.forwardRef(QD);function JD({title:t,titleId:e,...n},r){return R.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?R.createElement("title",{id:e},t):null,R.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m8.25 4.5 7.5 7.5-7.5 7.5"}))}const dE=R.forwardRef(JD);function e9({title:t,titleId:e,...n},r){return R.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?R.createElement("title",{id:e},t):null,R.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 0 0-3.375-3.375h-1.5A1.125 1.125 0 0 1 13.5 7.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H8.25m.75 12 3 3m0 0 3-3m-3 3v-6m-1.5-9H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 0 0-9-9Z"}))}const t9=R.forwardRef(e9);function n9({title:t,titleId:e,...n},r){return R.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?R.createElement("title",{id:e},t):null,R.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m9-.75a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9 3.75h.008v.008H12v-.008Z"}))}const i9=R.forwardRef(n9);function s9({title:t,titleId:e,...n},r){return R.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?R.createElement("title",{id:e},t):null,R.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L10.582 16.07a4.5 4.5 0 0 1-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 0 1 1.13-1.897l8.932-8.931Zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0 1 15.75 21H5.25A2.25 2.25 0 0 1 3 18.75V8.25A2.25 2.25 0 0 1 5.25 6H10"}))}const ew=R.forwardRef(s9);function r9({title:t,titleId:e,...n},r){return R.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?R.createElement("title",{id:e},t):null,R.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.5v15m7.5-7.5h-15"}))}const hE=R.forwardRef(r9);function a9({title:t,titleId:e,...n},r){return R.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?R.createElement("title",{id:e},t):null,R.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.72 13.829c-.24.03-.48.062-.72.096m.72-.096a42.415 42.415 0 0 1 10.56 0m-10.56 0L6.34 18m10.94-4.171c.24.03.48.062.72.096m-.72-.096L17.66 18m0 0 .229 2.523a1.125 1.125 0 0 1-1.12 1.227H7.231c-.662 0-1.18-.568-1.12-1.227L6.34 18m11.318 0h1.091A2.25 2.25 0 0 0 21 15.75V9.456c0-1.081-.768-2.015-1.837-2.175a48.055 48.055 0 0 0-1.913-.247M6.34 18H5.25A2.25 2.25 0 0 1 3 15.75V9.456c0-1.081.768-2.015 1.837-2.175a48.041 48.041 0 0 1 1.913-.247m10.5 0a48.536 48.536 0 0 0-10.5 0m10.5 0V3.375c0-.621-.504-1.125-1.125-1.125h-8.25c-.621 0-1.125.504-1.125 1.125v3.659M18 10.5h.008v.008H18V10.5Zm-3 0h.008v.008H15V10.5Z"}))}const Xm=R.forwardRef(a9);function o9({title:t,titleId:e,...n},r){return R.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?R.createElement("title",{id:e},t):null,R.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 0 0-7.5 0"}))}const l9=R.forwardRef(o9);function c9({title:t,titleId:e,...n},r){return R.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?R.createElement("title",{id:e},t):null,R.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M17.982 18.725A7.488 7.488 0 0 0 12 15.75a7.488 7.488 0 0 0-5.982 2.975m11.963 0a9 9 0 1 0-11.963 0m11.963 0A8.966 8.966 0 0 1 12 21a8.966 8.966 0 0 1-5.982-2.275M15 9.75a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}))}const u9=R.forwardRef(c9);function f9({title:t,titleId:e,...n},r){return R.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?R.createElement("title",{id:e},t):null,R.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m9.75 9.75 4.5 4.5m0-4.5-4.5 4.5M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const d9=R.forwardRef(f9);function h9({title:t,titleId:e,...n},r){return R.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?R.createElement("title",{id:e},t):null,R.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18 18 6M6 6l12 12"}))}const Jo=R.forwardRef(h9);function gE(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var l=t.length;for(e=0;e<l;e++)t[e]&&(n=gE(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function im(){for(var t,e,n=0,r="",l=arguments.length;n<l;n++)(t=arguments[n])&&(e=gE(t))&&(r&&(r+=" "),r+=e);return r}var g9=Object.defineProperty,m9=(t,e,n)=>e in t?g9(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,cg=(t,e,n)=>(m9(t,typeof e!="symbol"?e+"":e,n),n);let p9=class{constructor(){cg(this,"current",this.detect()),cg(this,"handoffState","pending"),cg(this,"currentId",0)}set(e){this.current!==e&&(this.handoffState="pending",this.currentId=0,this.current=e)}reset(){this.set(this.detect())}nextId(){return++this.currentId}get isServer(){return this.current==="server"}get isClient(){return this.current==="client"}detect(){return typeof window>"u"||typeof document>"u"?"server":"client"}handoff(){this.handoffState==="pending"&&(this.handoffState="complete")}get isHandoffComplete(){return this.handoffState==="complete"}},el=new p9;function Uh(t){var e,n;return el.isServer?null:t?"ownerDocument"in t?t.ownerDocument:"current"in t?(n=(e=t.current)==null?void 0:e.ownerDocument)!=null?n:document:null:document}function Fh(t){typeof queueMicrotask=="function"?queueMicrotask(t):Promise.resolve().then(t).catch(e=>setTimeout(()=>{throw e}))}function ta(){let t=[],e={addEventListener(n,r,l,u){return n.addEventListener(r,l,u),e.add(()=>n.removeEventListener(r,l,u))},requestAnimationFrame(...n){let r=requestAnimationFrame(...n);return e.add(()=>cancelAnimationFrame(r))},nextFrame(...n){return e.requestAnimationFrame(()=>e.requestAnimationFrame(...n))},setTimeout(...n){let r=setTimeout(...n);return e.add(()=>clearTimeout(r))},microTask(...n){let r={current:!0};return Fh(()=>{r.current&&n[0]()}),e.add(()=>{r.current=!1})},style(n,r,l){let u=n.style.getPropertyValue(r);return Object.assign(n.style,{[r]:l}),this.add(()=>{Object.assign(n.style,{[r]:u})})},group(n){let r=ta();return n(r),this.add(()=>r.dispose())},add(n){return t.includes(n)||t.push(n),()=>{let r=t.indexOf(n);if(r>=0)for(let l of t.splice(r,1))l()}},dispose(){for(let n of t.splice(0))n()}};return e}function Wm(){let[t]=R.useState(ta);return R.useEffect(()=>()=>t.dispose(),[t]),t}let Ci=(t,e)=>{el.isServer?R.useEffect(t,e):R.useLayoutEffect(t,e)};function ol(t){let e=R.useRef(t);return Ci(()=>{e.current=t},[t]),e}let tn=function(t){let e=ol(t);return nt.useCallback((...n)=>e.current(...n),[e])},x9=R.createContext(void 0);function y9(){return R.useContext(x9)}function sm(...t){return Array.from(new Set(t.flatMap(e=>typeof e=="string"?e.split(" "):[]))).filter(Boolean).join(" ")}function Zr(t,e,...n){if(t in e){let l=e[t];return typeof l=="function"?l(...n):l}let r=new Error(`Tried to handle "${t}" but there is no handler defined. Only defined handlers are: ${Object.keys(e).map(l=>`"${l}"`).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,Zr),r}var Ch=(t=>(t[t.None=0]="None",t[t.RenderStrategy=1]="RenderStrategy",t[t.Static=2]="Static",t))(Ch||{}),Qa=(t=>(t[t.Unmount=0]="Unmount",t[t.Hidden=1]="Hidden",t))(Qa||{});function Cs(){let t=w9();return R.useCallback(e=>b9({mergeRefs:t,...e}),[t])}function b9({ourProps:t,theirProps:e,slot:n,defaultTag:r,features:l,visible:u=!0,name:g,mergeRefs:y}){y=y??v9;let b=mE(e,t);if(u)return th(b,n,r,g,y);let x=l??0;if(x&2){let{static:E=!1,...C}=b;if(E)return th(C,n,r,g,y)}if(x&1){let{unmount:E=!0,...C}=b;return Zr(E?0:1,{0(){return null},1(){return th({...C,hidden:!0,style:{display:"none"}},n,r,g,y)}})}return th(b,n,r,g,y)}function th(t,e={},n,r,l){let{as:u=n,children:g,refName:y="ref",...b}=ug(t,["unmount","static"]),x=t.ref!==void 0?{[y]:t.ref}:{},E=typeof g=="function"?g(e):g;"className"in b&&b.className&&typeof b.className=="function"&&(b.className=b.className(e)),b["aria-labelledby"]&&b["aria-labelledby"]===b.id&&(b["aria-labelledby"]=void 0);let C={};if(e){let N=!1,O=[];for(let[M,B]of Object.entries(e))typeof B=="boolean"&&(N=!0),B===!0&&O.push(M.replace(/([A-Z])/g,j=>`-${j.toLowerCase()}`));if(N){C["data-headlessui-state"]=O.join(" ");for(let M of O)C[`data-${M}`]=""}}if(u===R.Fragment&&(Object.keys(jo(b)).length>0||Object.keys(jo(C)).length>0))if(!R.isValidElement(E)||Array.isArray(E)&&E.length>1){if(Object.keys(jo(b)).length>0)throw new Error(['Passing props on "Fragment"!',"",`The current component <${r} /> is rendering a "Fragment".`,"However we need to passthrough the following props:",Object.keys(jo(b)).concat(Object.keys(jo(C))).map(N=>`  - ${N}`).join(`
`),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "Fragment".',"Render a single element as the child so that we can forward the props onto that element."].map(N=>`  - ${N}`).join(`
`)].join(`
`))}else{let N=E.props,O=N==null?void 0:N.className,M=typeof O=="function"?(...V)=>sm(O(...V),b.className):sm(O,b.className),B=M?{className:M}:{},j=mE(E.props,jo(ug(b,["ref"])));for(let V in C)V in j&&delete C[V];return R.cloneElement(E,Object.assign({},j,C,x,{ref:l(E9(E),x.ref)},B))}return R.createElement(u,Object.assign({},ug(b,["ref"]),u!==R.Fragment&&x,u!==R.Fragment&&C),E)}function w9(){let t=R.useRef([]),e=R.useCallback(n=>{for(let r of t.current)r!=null&&(typeof r=="function"?r(n):r.current=n)},[]);return(...n)=>{if(!n.every(r=>r==null))return t.current=n,e}}function v9(...t){return t.every(e=>e==null)?void 0:e=>{for(let n of t)n!=null&&(typeof n=="function"?n(e):n.current=e)}}function mE(...t){if(t.length===0)return{};if(t.length===1)return t[0];let e={},n={};for(let r of t)for(let l in r)l.startsWith("on")&&typeof r[l]=="function"?(n[l]!=null||(n[l]=[]),n[l].push(r[l])):e[l]=r[l];if(e.disabled||e["aria-disabled"])for(let r in n)/^(on(?:Click|Pointer|Mouse|Key)(?:Down|Up|Press)?)$/.test(r)&&(n[r]=[l=>{var u;return(u=l==null?void 0:l.preventDefault)==null?void 0:u.call(l)}]);for(let r in n)Object.assign(e,{[r](l,...u){let g=n[r];for(let y of g){if((l instanceof Event||(l==null?void 0:l.nativeEvent)instanceof Event)&&l.defaultPrevented)return;y(l,...u)}}});return e}function Yi(t){var e;return Object.assign(R.forwardRef(t),{displayName:(e=t.displayName)!=null?e:t.name})}function jo(t){let e=Object.assign({},t);for(let n in e)e[n]===void 0&&delete e[n];return e}function ug(t,e=[]){let n=Object.assign({},t);for(let r of e)r in n&&delete n[r];return n}function E9(t){return nt.version.split(".")[0]>="19"?t.props.ref:t.ref}let S9="span";var Ah=(t=>(t[t.None=1]="None",t[t.Focusable=2]="Focusable",t[t.Hidden=4]="Hidden",t))(Ah||{});function C9(t,e){var n;let{features:r=1,...l}=t,u={ref:e,"aria-hidden":(r&2)===2?!0:(n=l["aria-hidden"])!=null?n:void 0,hidden:(r&4)===4?!0:void 0,style:{position:"fixed",top:1,left:1,width:1,height:0,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0",...(r&4)===4&&(r&2)!==2&&{display:"none"}}};return Cs()({ourProps:u,theirProps:l,slot:{},defaultTag:S9,name:"Hidden"})}let rm=Yi(C9);function pE(t){return typeof t!="object"||t===null?!1:"nodeType"in t}function to(t){return pE(t)&&"tagName"in t}function rl(t){return to(t)&&"accessKey"in t}function Ja(t){return to(t)&&"tabIndex"in t}function A9(t){return to(t)&&"style"in t}function T9(t){return rl(t)&&t.nodeName==="IFRAME"}function _9(t){return rl(t)&&t.nodeName==="INPUT"}let xE=Symbol();function N9(t,e=!0){return Object.assign(t,{[xE]:e})}function yr(...t){let e=R.useRef(t);R.useEffect(()=>{e.current=t},[t]);let n=tn(r=>{for(let l of e.current)l!=null&&(typeof l=="function"?l(r):l.current=r)});return t.every(r=>r==null||(r==null?void 0:r[xE]))?void 0:n}let Km=R.createContext(null);Km.displayName="DescriptionContext";function yE(){let t=R.useContext(Km);if(t===null){let e=new Error("You used a <Description /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(e,yE),e}return t}function R9(){let[t,e]=R.useState([]);return[t.length>0?t.join(" "):void 0,R.useMemo(()=>function(n){let r=tn(u=>(e(g=>[...g,u]),()=>e(g=>{let y=g.slice(),b=y.indexOf(u);return b!==-1&&y.splice(b,1),y}))),l=R.useMemo(()=>({register:r,slot:n.slot,name:n.name,props:n.props,value:n.value}),[r,n.slot,n.name,n.props,n.value]);return nt.createElement(Km.Provider,{value:l},n.children)},[e])]}let O9="p";function I9(t,e){let n=R.useId(),r=y9(),{id:l=`headlessui-description-${n}`,...u}=t,g=yE(),y=yr(e);Ci(()=>g.register(l),[l,g.register]);let b=r||!1,x=R.useMemo(()=>({...g.slot,disabled:b}),[g.slot,b]),E={ref:y,...g.props,id:l};return Cs()({ourProps:E,theirProps:u,slot:x,defaultTag:O9,name:g.name||"Description"})}let M9=Yi(I9),D9=Object.assign(M9,{});var bE=(t=>(t.Space=" ",t.Enter="Enter",t.Escape="Escape",t.Backspace="Backspace",t.Delete="Delete",t.ArrowLeft="ArrowLeft",t.ArrowUp="ArrowUp",t.ArrowRight="ArrowRight",t.ArrowDown="ArrowDown",t.Home="Home",t.End="End",t.PageUp="PageUp",t.PageDown="PageDown",t.Tab="Tab",t))(bE||{});let L9=R.createContext(()=>{});function k9({value:t,children:e}){return nt.createElement(L9.Provider,{value:t},e)}let wE=class extends Map{constructor(e){super(),this.factory=e}get(e){let n=super.get(e);return n===void 0&&(n=this.factory(e),this.set(e,n)),n}};var j9=Object.defineProperty,B9=(t,e,n)=>e in t?j9(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,P9=(t,e,n)=>(B9(t,e+"",n),n),vE=(t,e,n)=>{if(!e.has(t))throw TypeError("Cannot "+n)},xs=(t,e,n)=>(vE(t,e,"read from private field"),n?n.call(t):e.get(t)),fg=(t,e,n)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,n)},tw=(t,e,n,r)=>(vE(t,e,"write to private field"),e.set(t,n),n),cr,Hu,$u;let U9=class{constructor(e){fg(this,cr,{}),fg(this,Hu,new wE(()=>new Set)),fg(this,$u,new Set),P9(this,"disposables",ta()),tw(this,cr,e)}dispose(){this.disposables.dispose()}get state(){return xs(this,cr)}subscribe(e,n){let r={selector:e,callback:n,current:e(xs(this,cr))};return xs(this,$u).add(r),this.disposables.add(()=>{xs(this,$u).delete(r)})}on(e,n){return xs(this,Hu).get(e).add(n),this.disposables.add(()=>{xs(this,Hu).get(e).delete(n)})}send(e){let n=this.reduce(xs(this,cr),e);if(n!==xs(this,cr)){tw(this,cr,n);for(let r of xs(this,$u)){let l=r.selector(xs(this,cr));EE(r.current,l)||(r.current=l,r.callback(l))}for(let r of xs(this,Hu).get(e.type))r(xs(this,cr),e)}}};cr=new WeakMap,Hu=new WeakMap,$u=new WeakMap;function EE(t,e){return Object.is(t,e)?!0:typeof t!="object"||t===null||typeof e!="object"||e===null?!1:Array.isArray(t)&&Array.isArray(e)?t.length!==e.length?!1:dg(t[Symbol.iterator](),e[Symbol.iterator]()):t instanceof Map&&e instanceof Map||t instanceof Set&&e instanceof Set?t.size!==e.size?!1:dg(t.entries(),e.entries()):nw(t)&&nw(e)?dg(Object.entries(t)[Symbol.iterator](),Object.entries(e)[Symbol.iterator]()):!1}function dg(t,e){do{let n=t.next(),r=e.next();if(n.done&&r.done)return!0;if(n.done||r.done||!Object.is(n.value,r.value))return!1}while(!0)}function nw(t){if(Object.prototype.toString.call(t)!=="[object Object]")return!1;let e=Object.getPrototypeOf(t);return e===null||Object.getPrototypeOf(e)===null}var F9=Object.defineProperty,V9=(t,e,n)=>e in t?F9(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,iw=(t,e,n)=>(V9(t,typeof e!="symbol"?e+"":e,n),n),z9=(t=>(t[t.Push=0]="Push",t[t.Pop=1]="Pop",t))(z9||{});let H9={0(t,e){let n=e.id,r=t.stack,l=t.stack.indexOf(n);if(l!==-1){let u=t.stack.slice();return u.splice(l,1),u.push(n),r=u,{...t,stack:r}}return{...t,stack:[...t.stack,n]}},1(t,e){let n=e.id,r=t.stack.indexOf(n);if(r===-1)return t;let l=t.stack.slice();return l.splice(r,1),{...t,stack:l}}},$9=class SE extends U9{constructor(){super(...arguments),iw(this,"actions",{push:e=>this.send({type:0,id:e}),pop:e=>this.send({type:1,id:e})}),iw(this,"selectors",{isTop:(e,n)=>e.stack[e.stack.length-1]===n,inStack:(e,n)=>e.stack.includes(n)})}static new(){return new SE({stack:[]})}reduce(e,n){return Zr(n.type,H9,e,n)}};const CE=new wE(()=>$9.new());var hg={exports:{}},gg={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sw;function G9(){if(sw)return gg;sw=1;var t=kh();function e(b,x){return b===x&&(b!==0||1/b===1/x)||b!==b&&x!==x}var n=typeof Object.is=="function"?Object.is:e,r=t.useSyncExternalStore,l=t.useRef,u=t.useEffect,g=t.useMemo,y=t.useDebugValue;return gg.useSyncExternalStoreWithSelector=function(b,x,E,C,N){var O=l(null);if(O.current===null){var M={hasValue:!1,value:null};O.current=M}else M=O.current;O=g(function(){function j(W){if(!V){if(V=!0,$=W,W=C(W),N!==void 0&&M.hasValue){var ne=M.value;if(N(ne,W))return U=ne}return U=W}if(ne=U,n($,W))return ne;var X=C(W);return N!==void 0&&N(ne,X)?($=W,ne):($=W,U=X)}var V=!1,$,U,q=E===void 0?null:E;return[function(){return j(x())},q===null?void 0:function(){return j(q())}]},[x,E,C,N]);var B=r(b,O[0],O[1]);return u(function(){M.hasValue=!0,M.value=B},[B]),y(B),B},gg}var rw;function q9(){return rw||(rw=1,hg.exports=G9()),hg.exports}var Y9=q9();function AE(t,e,n=EE){return Y9.useSyncExternalStoreWithSelector(tn(r=>t.subscribe(X9,r)),tn(()=>t.state),tn(()=>t.state),tn(e),n)}function X9(t){return t}function Nf(t,e){let n=R.useId(),r=CE.get(e),[l,u]=AE(r,R.useCallback(g=>[r.selectors.isTop(g,n),r.selectors.inStack(g,n)],[r,n]));return Ci(()=>{if(t)return r.actions.push(n),()=>r.actions.pop(n)},[r,t,n]),t?u?l:!0:!1}let am=new Map,Ju=new Map;function aw(t){var e;let n=(e=Ju.get(t))!=null?e:0;return Ju.set(t,n+1),n!==0?()=>ow(t):(am.set(t,{"aria-hidden":t.getAttribute("aria-hidden"),inert:t.inert}),t.setAttribute("aria-hidden","true"),t.inert=!0,()=>ow(t))}function ow(t){var e;let n=(e=Ju.get(t))!=null?e:1;if(n===1?Ju.delete(t):Ju.set(t,n-1),n!==1)return;let r=am.get(t);r&&(r["aria-hidden"]===null?t.removeAttribute("aria-hidden"):t.setAttribute("aria-hidden",r["aria-hidden"]),t.inert=r.inert,am.delete(t))}function W9(t,{allowed:e,disallowed:n}={}){let r=Nf(t,"inert-others");Ci(()=>{var l,u;if(!r)return;let g=ta();for(let b of(l=n==null?void 0:n())!=null?l:[])b&&g.add(aw(b));let y=(u=e==null?void 0:e())!=null?u:[];for(let b of y){if(!b)continue;let x=Uh(b);if(!x)continue;let E=b.parentElement;for(;E&&E!==x.body;){for(let C of E.children)y.some(N=>C.contains(N))||g.add(aw(C));E=E.parentElement}}return g.dispose},[r,e,n])}function K9(t,e,n){let r=ol(l=>{let u=l.getBoundingClientRect();u.x===0&&u.y===0&&u.width===0&&u.height===0&&n()});R.useEffect(()=>{if(!t)return;let l=e===null?null:rl(e)?e:e.current;if(!l)return;let u=ta();if(typeof ResizeObserver<"u"){let g=new ResizeObserver(()=>r.current(l));g.observe(l),u.add(()=>g.disconnect())}if(typeof IntersectionObserver<"u"){let g=new IntersectionObserver(()=>r.current(l));g.observe(l),u.add(()=>g.disconnect())}return()=>u.dispose()},[e,r,t])}let Th=["[contentEditable=true]","[tabindex]","a[href]","area[href]","button:not([disabled])","iframe","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].map(t=>`${t}:not([tabindex='-1'])`).join(","),Z9=["[data-autofocus]"].map(t=>`${t}:not([tabindex='-1'])`).join(",");var Gr=(t=>(t[t.First=1]="First",t[t.Previous=2]="Previous",t[t.Next=4]="Next",t[t.Last=8]="Last",t[t.WrapAround=16]="WrapAround",t[t.NoScroll=32]="NoScroll",t[t.AutoFocus=64]="AutoFocus",t))(Gr||{}),om=(t=>(t[t.Error=0]="Error",t[t.Overflow=1]="Overflow",t[t.Success=2]="Success",t[t.Underflow=3]="Underflow",t))(om||{}),Q9=(t=>(t[t.Previous=-1]="Previous",t[t.Next=1]="Next",t))(Q9||{});function J9(t=document.body){return t==null?[]:Array.from(t.querySelectorAll(Th)).sort((e,n)=>Math.sign((e.tabIndex||Number.MAX_SAFE_INTEGER)-(n.tabIndex||Number.MAX_SAFE_INTEGER)))}function eL(t=document.body){return t==null?[]:Array.from(t.querySelectorAll(Z9)).sort((e,n)=>Math.sign((e.tabIndex||Number.MAX_SAFE_INTEGER)-(n.tabIndex||Number.MAX_SAFE_INTEGER)))}var TE=(t=>(t[t.Strict=0]="Strict",t[t.Loose=1]="Loose",t))(TE||{});function tL(t,e=0){var n;return t===((n=Uh(t))==null?void 0:n.body)?!1:Zr(e,{0(){return t.matches(Th)},1(){let r=t;for(;r!==null;){if(r.matches(Th))return!0;r=r.parentElement}return!1}})}var nL=(t=>(t[t.Keyboard=0]="Keyboard",t[t.Mouse=1]="Mouse",t))(nL||{});typeof window<"u"&&typeof document<"u"&&(document.addEventListener("keydown",t=>{t.metaKey||t.altKey||t.ctrlKey||(document.documentElement.dataset.headlessuiFocusVisible="")},!0),document.addEventListener("click",t=>{t.detail===1?delete document.documentElement.dataset.headlessuiFocusVisible:t.detail===0&&(document.documentElement.dataset.headlessuiFocusVisible="")},!0));function Xr(t){t==null||t.focus({preventScroll:!0})}let iL=["textarea","input"].join(",");function sL(t){var e,n;return(n=(e=t==null?void 0:t.matches)==null?void 0:e.call(t,iL))!=null?n:!1}function rL(t,e=n=>n){return t.slice().sort((n,r)=>{let l=e(n),u=e(r);if(l===null||u===null)return 0;let g=l.compareDocumentPosition(u);return g&Node.DOCUMENT_POSITION_FOLLOWING?-1:g&Node.DOCUMENT_POSITION_PRECEDING?1:0})}function ef(t,e,{sorted:n=!0,relativeTo:r=null,skipElements:l=[]}={}){let u=Array.isArray(t)?t.length>0?t[0].ownerDocument:document:t.ownerDocument,g=Array.isArray(t)?n?rL(t):t:e&64?eL(t):J9(t);l.length>0&&g.length>1&&(g=g.filter(O=>!l.some(M=>M!=null&&"current"in M?(M==null?void 0:M.current)===O:M===O))),r=r??u.activeElement;let y=(()=>{if(e&5)return 1;if(e&10)return-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),b=(()=>{if(e&1)return 0;if(e&2)return Math.max(0,g.indexOf(r))-1;if(e&4)return Math.max(0,g.indexOf(r))+1;if(e&8)return g.length-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),x=e&32?{preventScroll:!0}:{},E=0,C=g.length,N;do{if(E>=C||E+C<=0)return 0;let O=b+E;if(e&16)O=(O+C)%C;else{if(O<0)return 3;if(O>=C)return 1}N=g[O],N==null||N.focus(x),E+=y}while(N!==u.activeElement);return e&6&&sL(N)&&N.select(),2}function _E(){return/iPhone/gi.test(window.navigator.platform)||/Mac/gi.test(window.navigator.platform)&&window.navigator.maxTouchPoints>0}function aL(){return/Android/gi.test(window.navigator.userAgent)}function lw(){return _E()||aL()}function nh(t,e,n,r){let l=ol(n);R.useEffect(()=>{if(!t)return;function u(g){l.current(g)}return document.addEventListener(e,u,r),()=>document.removeEventListener(e,u,r)},[t,e,r])}function NE(t,e,n,r){let l=ol(n);R.useEffect(()=>{if(!t)return;function u(g){l.current(g)}return window.addEventListener(e,u,r),()=>window.removeEventListener(e,u,r)},[t,e,r])}const cw=30;function oL(t,e,n){let r=ol(n),l=R.useCallback(function(y,b){if(y.defaultPrevented)return;let x=b(y);if(x===null||!x.getRootNode().contains(x)||!x.isConnected)return;let E=function C(N){return typeof N=="function"?C(N()):Array.isArray(N)||N instanceof Set?N:[N]}(e);for(let C of E)if(C!==null&&(C.contains(x)||y.composed&&y.composedPath().includes(C)))return;return!tL(x,TE.Loose)&&x.tabIndex!==-1&&y.preventDefault(),r.current(y,x)},[r,e]),u=R.useRef(null);nh(t,"pointerdown",y=>{var b,x;lw()||(u.current=((x=(b=y.composedPath)==null?void 0:b.call(y))==null?void 0:x[0])||y.target)},!0),nh(t,"pointerup",y=>{if(lw()||!u.current)return;let b=u.current;return u.current=null,l(y,()=>b)},!0);let g=R.useRef({x:0,y:0});nh(t,"touchstart",y=>{g.current.x=y.touches[0].clientX,g.current.y=y.touches[0].clientY},!0),nh(t,"touchend",y=>{let b={x:y.changedTouches[0].clientX,y:y.changedTouches[0].clientY};if(!(Math.abs(b.x-g.current.x)>=cw||Math.abs(b.y-g.current.y)>=cw))return l(y,()=>Ja(y.target)?y.target:null)},!0),NE(t,"blur",y=>l(y,()=>T9(window.document.activeElement)?window.document.activeElement:null),!0)}function Vh(...t){return R.useMemo(()=>Uh(...t),[...t])}function RE(t,e,n,r){let l=ol(n);R.useEffect(()=>{t=t??window;function u(g){l.current(g)}return t.addEventListener(e,u,r),()=>t.removeEventListener(e,u,r)},[t,e,r])}function lL(t){return R.useSyncExternalStore(t.subscribe,t.getSnapshot,t.getSnapshot)}function cL(t,e){let n=t(),r=new Set;return{getSnapshot(){return n},subscribe(l){return r.add(l),()=>r.delete(l)},dispatch(l,...u){let g=e[l].call(n,...u);g&&(n=g,r.forEach(y=>y()))}}}function uL(){let t;return{before({doc:e}){var n;let r=e.documentElement,l=(n=e.defaultView)!=null?n:window;t=Math.max(0,l.innerWidth-r.clientWidth)},after({doc:e,d:n}){let r=e.documentElement,l=Math.max(0,r.clientWidth-r.offsetWidth),u=Math.max(0,t-l);n.style(r,"paddingRight",`${u}px`)}}}function fL(){return _E()?{before({doc:t,d:e,meta:n}){function r(l){return n.containers.flatMap(u=>u()).some(u=>u.contains(l))}e.microTask(()=>{var l;if(window.getComputedStyle(t.documentElement).scrollBehavior!=="auto"){let y=ta();y.style(t.documentElement,"scrollBehavior","auto"),e.add(()=>e.microTask(()=>y.dispose()))}let u=(l=window.scrollY)!=null?l:window.pageYOffset,g=null;e.addEventListener(t,"click",y=>{if(Ja(y.target))try{let b=y.target.closest("a");if(!b)return;let{hash:x}=new URL(b.href),E=t.querySelector(x);Ja(E)&&!r(E)&&(g=E)}catch{}},!0),e.addEventListener(t,"touchstart",y=>{if(Ja(y.target)&&A9(y.target))if(r(y.target)){let b=y.target;for(;b.parentElement&&r(b.parentElement);)b=b.parentElement;e.style(b,"overscrollBehavior","contain")}else e.style(y.target,"touchAction","none")}),e.addEventListener(t,"touchmove",y=>{if(Ja(y.target)){if(_9(y.target))return;if(r(y.target)){let b=y.target;for(;b.parentElement&&b.dataset.headlessuiPortal!==""&&!(b.scrollHeight>b.clientHeight||b.scrollWidth>b.clientWidth);)b=b.parentElement;b.dataset.headlessuiPortal===""&&y.preventDefault()}else y.preventDefault()}},{passive:!1}),e.add(()=>{var y;let b=(y=window.scrollY)!=null?y:window.pageYOffset;u!==b&&window.scrollTo(0,u),g&&g.isConnected&&(g.scrollIntoView({block:"nearest"}),g=null)})})}}:{}}function dL(){return{before({doc:t,d:e}){e.style(t.documentElement,"overflow","hidden")}}}function hL(t){let e={};for(let n of t)Object.assign(e,n(e));return e}let Fo=cL(()=>new Map,{PUSH(t,e){var n;let r=(n=this.get(t))!=null?n:{doc:t,count:0,d:ta(),meta:new Set};return r.count++,r.meta.add(e),this.set(t,r),this},POP(t,e){let n=this.get(t);return n&&(n.count--,n.meta.delete(e)),this},SCROLL_PREVENT({doc:t,d:e,meta:n}){let r={doc:t,d:e,meta:hL(n)},l=[fL(),uL(),dL()];l.forEach(({before:u})=>u==null?void 0:u(r)),l.forEach(({after:u})=>u==null?void 0:u(r))},SCROLL_ALLOW({d:t}){t.dispose()},TEARDOWN({doc:t}){this.delete(t)}});Fo.subscribe(()=>{let t=Fo.getSnapshot(),e=new Map;for(let[n]of t)e.set(n,n.documentElement.style.overflow);for(let n of t.values()){let r=e.get(n.doc)==="hidden",l=n.count!==0;(l&&!r||!l&&r)&&Fo.dispatch(n.count>0?"SCROLL_PREVENT":"SCROLL_ALLOW",n),n.count===0&&Fo.dispatch("TEARDOWN",n)}});function gL(t,e,n=()=>({containers:[]})){let r=lL(Fo),l=e?r.get(e):void 0,u=l?l.count>0:!1;return Ci(()=>{if(!(!e||!t))return Fo.dispatch("PUSH",e,n),()=>Fo.dispatch("POP",e,n)},[t,e]),u}function mL(t,e,n=()=>[document.body]){let r=Nf(t,"scroll-lock");gL(r,e,l=>{var u;return{containers:[...(u=l.containers)!=null?u:[],n]}})}function pL(t=0){let[e,n]=R.useState(t),r=R.useCallback(b=>n(b),[e]),l=R.useCallback(b=>n(x=>x|b),[e]),u=R.useCallback(b=>(e&b)===b,[e]),g=R.useCallback(b=>n(x=>x&~b),[n]),y=R.useCallback(b=>n(x=>x^b),[n]);return{flags:e,setFlag:r,addFlag:l,hasFlag:u,removeFlag:g,toggleFlag:y}}var xL={},uw,fw;typeof process<"u"&&typeof globalThis<"u"&&typeof Element<"u"&&((uw=process==null?void 0:xL)==null?void 0:uw.NODE_ENV)==="test"&&typeof((fw=Element==null?void 0:Element.prototype)==null?void 0:fw.getAnimations)>"u"&&(Element.prototype.getAnimations=function(){return console.warn(["Headless UI has polyfilled `Element.prototype.getAnimations` for your tests.","Please install a proper polyfill e.g. `jsdom-testing-mocks`, to silence these warnings.","","Example usage:","```js","import { mockAnimationsApi } from 'jsdom-testing-mocks'","mockAnimationsApi()","```"].join(`
`)),[]});var yL=(t=>(t[t.None=0]="None",t[t.Closed=1]="Closed",t[t.Enter=2]="Enter",t[t.Leave=4]="Leave",t))(yL||{});function bL(t){let e={};for(let n in t)t[n]===!0&&(e[`data-${n}`]="");return e}function wL(t,e,n,r){let[l,u]=R.useState(n),{hasFlag:g,addFlag:y,removeFlag:b}=pL(t&&l?3:0),x=R.useRef(!1),E=R.useRef(!1),C=Wm();return Ci(()=>{var N;if(t){if(n&&u(!0),!e){n&&y(3);return}return(N=r==null?void 0:r.start)==null||N.call(r,n),vL(e,{inFlight:x,prepare(){E.current?E.current=!1:E.current=x.current,x.current=!0,!E.current&&(n?(y(3),b(4)):(y(4),b(2)))},run(){E.current?n?(b(3),y(4)):(b(4),y(3)):n?b(1):y(1)},done(){var O;E.current&&typeof e.getAnimations=="function"&&e.getAnimations().length>0||(x.current=!1,b(7),n||u(!1),(O=r==null?void 0:r.end)==null||O.call(r,n))}})}},[t,n,e,C]),t?[l,{closed:g(1),enter:g(2),leave:g(4),transition:g(2)||g(4)}]:[n,{closed:void 0,enter:void 0,leave:void 0,transition:void 0}]}function vL(t,{prepare:e,run:n,done:r,inFlight:l}){let u=ta();return SL(t,{prepare:e,inFlight:l}),u.nextFrame(()=>{n(),u.requestAnimationFrame(()=>{u.add(EL(t,r))})}),u.dispose}function EL(t,e){var n,r;let l=ta();if(!t)return l.dispose;let u=!1;l.add(()=>{u=!0});let g=(r=(n=t.getAnimations)==null?void 0:n.call(t).filter(y=>y instanceof CSSTransition))!=null?r:[];return g.length===0?(e(),l.dispose):(Promise.allSettled(g.map(y=>y.finished)).then(()=>{u||e()}),l.dispose)}function SL(t,{inFlight:e,prepare:n}){if(e!=null&&e.current){n();return}let r=t.style.transition;t.style.transition="none",n(),t.offsetHeight,t.style.transition=r}function Zm(t,e){let n=R.useRef([]),r=tn(t);R.useEffect(()=>{let l=[...n.current];for(let[u,g]of e.entries())if(n.current[u]!==g){let y=r(e,l);return n.current=e,y}},[r,...e])}let zh=R.createContext(null);zh.displayName="OpenClosedContext";var Vs=(t=>(t[t.Open=1]="Open",t[t.Closed=2]="Closed",t[t.Closing=4]="Closing",t[t.Opening=8]="Opening",t))(Vs||{});function Hh(){return R.useContext(zh)}function CL({value:t,children:e}){return nt.createElement(zh.Provider,{value:t},e)}function AL({children:t}){return nt.createElement(zh.Provider,{value:null},t)}function TL(t){function e(){document.readyState!=="loading"&&(t(),document.removeEventListener("DOMContentLoaded",e))}typeof window<"u"&&typeof document<"u"&&(document.addEventListener("DOMContentLoaded",e),e())}let Va=[];TL(()=>{function t(e){if(!Ja(e.target)||e.target===document.body||Va[0]===e.target)return;let n=e.target;n=n.closest(Th),Va.unshift(n??e.target),Va=Va.filter(r=>r!=null&&r.isConnected),Va.splice(10)}window.addEventListener("click",t,{capture:!0}),window.addEventListener("mousedown",t,{capture:!0}),window.addEventListener("focus",t,{capture:!0}),document.body.addEventListener("click",t,{capture:!0}),document.body.addEventListener("mousedown",t,{capture:!0}),document.body.addEventListener("focus",t,{capture:!0})});function OE(t){let e=tn(t),n=R.useRef(!1);R.useEffect(()=>(n.current=!1,()=>{n.current=!0,Fh(()=>{n.current&&e()})}),[e])}function _L(){let t=typeof document>"u";return"useSyncExternalStore"in K2?(e=>e.useSyncExternalStore)(K2)(()=>()=>{},()=>!1,()=>!t):!1}function Rf(){let t=_L(),[e,n]=R.useState(el.isHandoffComplete);return e&&el.isHandoffComplete===!1&&n(!1),R.useEffect(()=>{e!==!0&&n(!0)},[e]),R.useEffect(()=>el.handoff(),[]),t?!1:e}let IE=R.createContext(!1);function NL(){return R.useContext(IE)}function dw(t){return nt.createElement(IE.Provider,{value:t.force},t.children)}function RL(t){let e=NL(),n=R.useContext(DE),[r,l]=R.useState(()=>{var u;if(!e&&n!==null)return(u=n.current)!=null?u:null;if(el.isServer)return null;let g=t==null?void 0:t.getElementById("headlessui-portal-root");if(g)return g;if(t===null)return null;let y=t.createElement("div");return y.setAttribute("id","headlessui-portal-root"),t.body.appendChild(y)});return R.useEffect(()=>{r!==null&&(t!=null&&t.body.contains(r)||t==null||t.body.appendChild(r))},[r,t]),R.useEffect(()=>{e||n!==null&&l(n.current)},[n,l,e]),r}let ME=R.Fragment,OL=Yi(function(t,e){let{ownerDocument:n=null,...r}=t,l=R.useRef(null),u=yr(N9(O=>{l.current=O}),e),g=Vh(l),y=n??g,b=RL(y),[x]=R.useState(()=>{var O;return el.isServer?null:(O=y==null?void 0:y.createElement("div"))!=null?O:null}),E=R.useContext(lm),C=Rf();Ci(()=>{!b||!x||b.contains(x)||(x.setAttribute("data-headlessui-portal",""),b.appendChild(x))},[b,x]),Ci(()=>{if(x&&E)return E.register(x)},[E,x]),OE(()=>{var O;!b||!x||(pE(x)&&b.contains(x)&&b.removeChild(x),b.childNodes.length<=0&&((O=b.parentElement)==null||O.removeChild(b)))});let N=Cs();return C?!b||!x?null:wO.createPortal(N({ourProps:{ref:u},theirProps:r,slot:{},defaultTag:ME,name:"Portal"}),x):null});function IL(t,e){let n=yr(e),{enabled:r=!0,ownerDocument:l,...u}=t,g=Cs();return r?nt.createElement(OL,{...u,ownerDocument:l,ref:n}):g({ourProps:{ref:n},theirProps:u,slot:{},defaultTag:ME,name:"Portal"})}let ML=R.Fragment,DE=R.createContext(null);function DL(t,e){let{target:n,...r}=t,l={ref:yr(e)},u=Cs();return nt.createElement(DE.Provider,{value:n},u({ourProps:l,theirProps:r,defaultTag:ML,name:"Popover.Group"}))}let lm=R.createContext(null);function LL(){let t=R.useContext(lm),e=R.useRef([]),n=tn(u=>(e.current.push(u),t&&t.register(u),()=>r(u))),r=tn(u=>{let g=e.current.indexOf(u);g!==-1&&e.current.splice(g,1),t&&t.unregister(u)}),l=R.useMemo(()=>({register:n,unregister:r,portals:e}),[n,r,e]);return[e,R.useMemo(()=>function({children:u}){return nt.createElement(lm.Provider,{value:l},u)},[l])]}let kL=Yi(IL),LE=Yi(DL),jL=Object.assign(kL,{Group:LE});function BL(t,e=typeof document<"u"?document.defaultView:null,n){let r=Nf(t,"escape");RE(e,"keydown",l=>{r&&(l.defaultPrevented||l.key===bE.Escape&&n(l))})}function PL(){var t;let[e]=R.useState(()=>typeof window<"u"&&typeof window.matchMedia=="function"?window.matchMedia("(pointer: coarse)"):null),[n,r]=R.useState((t=e==null?void 0:e.matches)!=null?t:!1);return Ci(()=>{if(!e)return;function l(u){r(u.matches)}return e.addEventListener("change",l),()=>e.removeEventListener("change",l)},[e]),n}function UL({defaultContainers:t=[],portals:e,mainTreeNode:n}={}){let r=Vh(n),l=tn(()=>{var u,g;let y=[];for(let b of t)b!==null&&(to(b)?y.push(b):"current"in b&&to(b.current)&&y.push(b.current));if(e!=null&&e.current)for(let b of e.current)y.push(b);for(let b of(u=r==null?void 0:r.querySelectorAll("html > *, body > *"))!=null?u:[])b!==document.body&&b!==document.head&&to(b)&&b.id!=="headlessui-portal-root"&&(n&&(b.contains(n)||b.contains((g=n==null?void 0:n.getRootNode())==null?void 0:g.host))||y.some(x=>b.contains(x))||y.push(b));return y});return{resolveContainers:l,contains:tn(u=>l().some(g=>g.contains(u)))}}let kE=R.createContext(null);function hw({children:t,node:e}){let[n,r]=R.useState(null),l=jE(e??n);return nt.createElement(kE.Provider,{value:l},t,l===null&&nt.createElement(rm,{features:Ah.Hidden,ref:u=>{var g,y;if(u){for(let b of(y=(g=Uh(u))==null?void 0:g.querySelectorAll("html > *, body > *"))!=null?y:[])if(b!==document.body&&b!==document.head&&to(b)&&b!=null&&b.contains(u)){r(b);break}}}}))}function jE(t=null){var e;return(e=R.useContext(kE))!=null?e:t}function Qm(){let t=R.useRef(!1);return Ci(()=>(t.current=!0,()=>{t.current=!1}),[]),t}var Gu=(t=>(t[t.Forwards=0]="Forwards",t[t.Backwards=1]="Backwards",t))(Gu||{});function FL(){let t=R.useRef(0);return NE(!0,"keydown",e=>{e.key==="Tab"&&(t.current=e.shiftKey?1:0)},!0),t}function BE(t){if(!t)return new Set;if(typeof t=="function")return new Set(t());let e=new Set;for(let n of t.current)to(n.current)&&e.add(n.current);return e}let VL="div";var Uo=(t=>(t[t.None=0]="None",t[t.InitialFocus=1]="InitialFocus",t[t.TabLock=2]="TabLock",t[t.FocusLock=4]="FocusLock",t[t.RestoreFocus=8]="RestoreFocus",t[t.AutoFocus=16]="AutoFocus",t))(Uo||{});function zL(t,e){let n=R.useRef(null),r=yr(n,e),{initialFocus:l,initialFocusFallback:u,containers:g,features:y=15,...b}=t;Rf()||(y=0);let x=Vh(n);qL(y,{ownerDocument:x});let E=YL(y,{ownerDocument:x,container:n,initialFocus:l,initialFocusFallback:u});XL(y,{ownerDocument:x,container:n,containers:g,previousActiveElement:E});let C=FL(),N=tn($=>{if(!rl(n.current))return;let U=n.current;(q=>q())(()=>{Zr(C.current,{[Gu.Forwards]:()=>{ef(U,Gr.First,{skipElements:[$.relatedTarget,u]})},[Gu.Backwards]:()=>{ef(U,Gr.Last,{skipElements:[$.relatedTarget,u]})}})})}),O=Nf(!!(y&2),"focus-trap#tab-lock"),M=Wm(),B=R.useRef(!1),j={ref:r,onKeyDown($){$.key=="Tab"&&(B.current=!0,M.requestAnimationFrame(()=>{B.current=!1}))},onBlur($){if(!(y&4))return;let U=BE(g);rl(n.current)&&U.add(n.current);let q=$.relatedTarget;Ja(q)&&q.dataset.headlessuiFocusGuard!=="true"&&(PE(U,q)||(B.current?ef(n.current,Zr(C.current,{[Gu.Forwards]:()=>Gr.Next,[Gu.Backwards]:()=>Gr.Previous})|Gr.WrapAround,{relativeTo:$.target}):Ja($.target)&&Xr($.target)))}},V=Cs();return nt.createElement(nt.Fragment,null,O&&nt.createElement(rm,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:N,features:Ah.Focusable}),V({ourProps:j,theirProps:b,defaultTag:VL,name:"FocusTrap"}),O&&nt.createElement(rm,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:N,features:Ah.Focusable}))}let HL=Yi(zL),$L=Object.assign(HL,{features:Uo});function GL(t=!0){let e=R.useRef(Va.slice());return Zm(([n],[r])=>{r===!0&&n===!1&&Fh(()=>{e.current.splice(0)}),r===!1&&n===!0&&(e.current=Va.slice())},[t,Va,e]),tn(()=>{var n;return(n=e.current.find(r=>r!=null&&r.isConnected))!=null?n:null})}function qL(t,{ownerDocument:e}){let n=!!(t&8),r=GL(n);Zm(()=>{n||(e==null?void 0:e.activeElement)===(e==null?void 0:e.body)&&Xr(r())},[n]),OE(()=>{n&&Xr(r())})}function YL(t,{ownerDocument:e,container:n,initialFocus:r,initialFocusFallback:l}){let u=R.useRef(null),g=Nf(!!(t&1),"focus-trap#initial-focus"),y=Qm();return Zm(()=>{if(t===0)return;if(!g){l!=null&&l.current&&Xr(l.current);return}let b=n.current;b&&Fh(()=>{if(!y.current)return;let x=e==null?void 0:e.activeElement;if(r!=null&&r.current){if((r==null?void 0:r.current)===x){u.current=x;return}}else if(b.contains(x)){u.current=x;return}if(r!=null&&r.current)Xr(r.current);else{if(t&16){if(ef(b,Gr.First|Gr.AutoFocus)!==om.Error)return}else if(ef(b,Gr.First)!==om.Error)return;if(l!=null&&l.current&&(Xr(l.current),(e==null?void 0:e.activeElement)===l.current))return;console.warn("There are no focusable elements inside the <FocusTrap />")}u.current=e==null?void 0:e.activeElement})},[l,g,t]),u}function XL(t,{ownerDocument:e,container:n,containers:r,previousActiveElement:l}){let u=Qm(),g=!!(t&4);RE(e==null?void 0:e.defaultView,"focus",y=>{if(!g||!u.current)return;let b=BE(r);rl(n.current)&&b.add(n.current);let x=l.current;if(!x)return;let E=y.target;rl(E)?PE(b,E)?(l.current=E,Xr(E)):(y.preventDefault(),y.stopPropagation(),Xr(x)):Xr(l.current)},!0)}function PE(t,e){for(let n of t)if(n.contains(e))return!0;return!1}function UE(t){var e;return!!(t.enter||t.enterFrom||t.enterTo||t.leave||t.leaveFrom||t.leaveTo)||((e=t.as)!=null?e:VE)!==R.Fragment||nt.Children.count(t.children)===1}let $h=R.createContext(null);$h.displayName="TransitionContext";var WL=(t=>(t.Visible="visible",t.Hidden="hidden",t))(WL||{});function KL(){let t=R.useContext($h);if(t===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return t}function ZL(){let t=R.useContext(Gh);if(t===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return t}let Gh=R.createContext(null);Gh.displayName="NestingContext";function qh(t){return"children"in t?qh(t.children):t.current.filter(({el:e})=>e.current!==null).filter(({state:e})=>e==="visible").length>0}function FE(t,e){let n=ol(t),r=R.useRef([]),l=Qm(),u=Wm(),g=tn((O,M=Qa.Hidden)=>{let B=r.current.findIndex(({el:j})=>j===O);B!==-1&&(Zr(M,{[Qa.Unmount](){r.current.splice(B,1)},[Qa.Hidden](){r.current[B].state="hidden"}}),u.microTask(()=>{var j;!qh(r)&&l.current&&((j=n.current)==null||j.call(n))}))}),y=tn(O=>{let M=r.current.find(({el:B})=>B===O);return M?M.state!=="visible"&&(M.state="visible"):r.current.push({el:O,state:"visible"}),()=>g(O,Qa.Unmount)}),b=R.useRef([]),x=R.useRef(Promise.resolve()),E=R.useRef({enter:[],leave:[]}),C=tn((O,M,B)=>{b.current.splice(0),e&&(e.chains.current[M]=e.chains.current[M].filter(([j])=>j!==O)),e==null||e.chains.current[M].push([O,new Promise(j=>{b.current.push(j)})]),e==null||e.chains.current[M].push([O,new Promise(j=>{Promise.all(E.current[M].map(([V,$])=>$)).then(()=>j())})]),M==="enter"?x.current=x.current.then(()=>e==null?void 0:e.wait.current).then(()=>B(M)):B(M)}),N=tn((O,M,B)=>{Promise.all(E.current[M].splice(0).map(([j,V])=>V)).then(()=>{var j;(j=b.current.shift())==null||j()}).then(()=>B(M))});return R.useMemo(()=>({children:r,register:y,unregister:g,onStart:C,onStop:N,wait:x,chains:E}),[y,g,r,C,N,E,x])}let VE=R.Fragment,zE=Ch.RenderStrategy;function QL(t,e){var n,r;let{transition:l=!0,beforeEnter:u,afterEnter:g,beforeLeave:y,afterLeave:b,enter:x,enterFrom:E,enterTo:C,entered:N,leave:O,leaveFrom:M,leaveTo:B,...j}=t,[V,$]=R.useState(null),U=R.useRef(null),q=UE(t),W=yr(...q?[U,e,$]:e===null?[]:[e]),ne=(n=j.unmount)==null||n?Qa.Unmount:Qa.Hidden,{show:X,appear:oe,initial:ee}=KL(),[pe,ke]=R.useState(X?"visible":"hidden"),be=ZL(),{register:Ce,unregister:Be}=be;Ci(()=>Ce(U),[Ce,U]),Ci(()=>{if(ne===Qa.Hidden&&U.current){if(X&&pe!=="visible"){ke("visible");return}return Zr(pe,{hidden:()=>Be(U),visible:()=>Ce(U)})}},[pe,U,Ce,Be,X,ne]);let re=Rf();Ci(()=>{if(q&&re&&pe==="visible"&&U.current===null)throw new Error("Did you forget to passthrough the `ref` to the actual DOM node?")},[U,pe,re,q]);let se=ee&&!oe,le=oe&&X&&ee,Le=R.useRef(!1),ze=FE(()=>{Le.current||(ke("hidden"),Be(U))},be),z=tn(lt=>{Le.current=!0;let ve=lt?"enter":"leave";ze.onStart(U,ve,He=>{He==="enter"?u==null||u():He==="leave"&&(y==null||y())})}),te=tn(lt=>{let ve=lt?"enter":"leave";Le.current=!1,ze.onStop(U,ve,He=>{He==="enter"?g==null||g():He==="leave"&&(b==null||b())}),ve==="leave"&&!qh(ze)&&(ke("hidden"),Be(U))});R.useEffect(()=>{q&&l||(z(X),te(X))},[X,q,l]);let xe=!(!l||!q||!re||se),[,ye]=wL(xe,V,X,{start:z,end:te}),Me=jo({ref:W,className:((r=sm(j.className,le&&x,le&&E,ye.enter&&x,ye.enter&&ye.closed&&E,ye.enter&&!ye.closed&&C,ye.leave&&O,ye.leave&&!ye.closed&&M,ye.leave&&ye.closed&&B,!ye.transition&&X&&N))==null?void 0:r.trim())||void 0,...bL(ye)}),Pe=0;pe==="visible"&&(Pe|=Vs.Open),pe==="hidden"&&(Pe|=Vs.Closed),X&&pe==="hidden"&&(Pe|=Vs.Opening),!X&&pe==="visible"&&(Pe|=Vs.Closing);let we=Cs();return nt.createElement(Gh.Provider,{value:ze},nt.createElement(CL,{value:Pe},we({ourProps:Me,theirProps:j,defaultTag:VE,features:zE,visible:pe==="visible",name:"Transition.Child"})))}function JL(t,e){let{show:n,appear:r=!1,unmount:l=!0,...u}=t,g=R.useRef(null),y=UE(t),b=yr(...y?[g,e]:e===null?[]:[e]);Rf();let x=Hh();if(n===void 0&&x!==null&&(n=(x&Vs.Open)===Vs.Open),n===void 0)throw new Error("A <Transition /> is used but it is missing a `show={true | false}` prop.");let[E,C]=R.useState(n?"visible":"hidden"),N=FE(()=>{n||C("hidden")}),[O,M]=R.useState(!0),B=R.useRef([n]);Ci(()=>{O!==!1&&B.current[B.current.length-1]!==n&&(B.current.push(n),M(!1))},[B,n]);let j=R.useMemo(()=>({show:n,appear:r,initial:O}),[n,r,O]);Ci(()=>{n?C("visible"):!qh(N)&&g.current!==null&&C("hidden")},[n,N]);let V={unmount:l},$=tn(()=>{var W;O&&M(!1),(W=t.beforeEnter)==null||W.call(t)}),U=tn(()=>{var W;O&&M(!1),(W=t.beforeLeave)==null||W.call(t)}),q=Cs();return nt.createElement(Gh.Provider,{value:N},nt.createElement($h.Provider,{value:j},q({ourProps:{...V,as:R.Fragment,children:nt.createElement(HE,{ref:b,...V,...u,beforeEnter:$,beforeLeave:U})},theirProps:{},defaultTag:R.Fragment,features:zE,visible:E==="visible",name:"Transition"})))}function ek(t,e){let n=R.useContext($h)!==null,r=Hh()!==null;return nt.createElement(nt.Fragment,null,!n&&r?nt.createElement(cm,{ref:e,...t}):nt.createElement(HE,{ref:e,...t}))}let cm=Yi(JL),HE=Yi(QL),Jm=Yi(ek),tk=Object.assign(cm,{Child:Jm,Root:cm});var nk=(t=>(t[t.Open=0]="Open",t[t.Closed=1]="Closed",t))(nk||{}),ik=(t=>(t[t.SetTitleId=0]="SetTitleId",t))(ik||{});let sk={0(t,e){return t.titleId===e.id?t:{...t,titleId:e.id}}},ep=R.createContext(null);ep.displayName="DialogContext";function Yh(t){let e=R.useContext(ep);if(e===null){let n=new Error(`<${t} /> is missing a parent <Dialog /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,Yh),n}return e}function rk(t,e){return Zr(e.type,sk,t,e)}let gw=Yi(function(t,e){let n=R.useId(),{id:r=`headlessui-dialog-${n}`,open:l,onClose:u,initialFocus:g,role:y="dialog",autoFocus:b=!0,__demoMode:x=!1,unmount:E=!1,...C}=t,N=R.useRef(!1);y=function(){return y==="dialog"||y==="alertdialog"?y:(N.current||(N.current=!0,console.warn(`Invalid role [${y}] passed to <Dialog />. Only \`dialog\` and and \`alertdialog\` are supported. Using \`dialog\` instead.`)),"dialog")}();let O=Hh();l===void 0&&O!==null&&(l=(O&Vs.Open)===Vs.Open);let M=R.useRef(null),B=yr(M,e),j=Vh(M),V=l?0:1,[$,U]=R.useReducer(rk,{titleId:null,descriptionId:null,panelRef:R.createRef()}),q=tn(()=>u(!1)),W=tn(ye=>U({type:0,id:ye})),ne=Rf()?V===0:!1,[X,oe]=LL(),ee={get current(){var ye;return(ye=$.panelRef.current)!=null?ye:M.current}},pe=jE(),{resolveContainers:ke}=UL({mainTreeNode:pe,portals:X,defaultContainers:[ee]}),be=O!==null?(O&Vs.Closing)===Vs.Closing:!1;W9(x||be?!1:ne,{allowed:tn(()=>{var ye,Me;return[(Me=(ye=M.current)==null?void 0:ye.closest("[data-headlessui-portal]"))!=null?Me:null]}),disallowed:tn(()=>{var ye;return[(ye=pe==null?void 0:pe.closest("body > *:not(#headlessui-portal-root)"))!=null?ye:null]})});let Ce=CE.get(null);Ci(()=>{if(ne)return Ce.actions.push(r),()=>Ce.actions.pop(r)},[Ce,r,ne]);let Be=AE(Ce,R.useCallback(ye=>Ce.selectors.isTop(ye,r),[Ce,r]));oL(Be,ke,ye=>{ye.preventDefault(),q()}),BL(Be,j==null?void 0:j.defaultView,ye=>{ye.preventDefault(),ye.stopPropagation(),document.activeElement&&"blur"in document.activeElement&&typeof document.activeElement.blur=="function"&&document.activeElement.blur(),q()}),mL(x||be?!1:ne,j,ke),K9(ne,M,q);let[re,se]=R9(),le=R.useMemo(()=>[{dialogState:V,close:q,setTitleId:W,unmount:E},$],[V,$,q,W,E]),Le=R.useMemo(()=>({open:V===0}),[V]),ze={ref:B,id:r,role:y,tabIndex:-1,"aria-modal":x?void 0:V===0?!0:void 0,"aria-labelledby":$.titleId,"aria-describedby":re,unmount:E},z=!PL(),te=Uo.None;ne&&!x&&(te|=Uo.RestoreFocus,te|=Uo.TabLock,b&&(te|=Uo.AutoFocus),z&&(te|=Uo.InitialFocus));let xe=Cs();return nt.createElement(AL,null,nt.createElement(dw,{force:!0},nt.createElement(jL,null,nt.createElement(ep.Provider,{value:le},nt.createElement(LE,{target:M},nt.createElement(dw,{force:!1},nt.createElement(se,{slot:Le},nt.createElement(oe,null,nt.createElement($L,{initialFocus:g,initialFocusFallback:M,containers:ke,features:te},nt.createElement(k9,{value:q},xe({ourProps:ze,theirProps:C,slot:Le,defaultTag:ak,features:ok,visible:V===0,name:"Dialog"})))))))))))}),ak="div",ok=Ch.RenderStrategy|Ch.Static;function lk(t,e){let{transition:n=!1,open:r,...l}=t,u=Hh(),g=t.hasOwnProperty("open")||u!==null,y=t.hasOwnProperty("onClose");if(!g&&!y)throw new Error("You have to provide an `open` and an `onClose` prop to the `Dialog` component.");if(!g)throw new Error("You provided an `onClose` prop to the `Dialog`, but forgot an `open` prop.");if(!y)throw new Error("You provided an `open` prop to the `Dialog`, but forgot an `onClose` prop.");if(!u&&typeof t.open!="boolean")throw new Error(`You provided an \`open\` prop to the \`Dialog\`, but the value is not a boolean. Received: ${t.open}`);if(typeof t.onClose!="function")throw new Error(`You provided an \`onClose\` prop to the \`Dialog\`, but the value is not a function. Received: ${t.onClose}`);return(r!==void 0||n)&&!l.static?nt.createElement(hw,null,nt.createElement(tk,{show:r,transition:n,unmount:l.unmount},nt.createElement(gw,{ref:e,...l}))):nt.createElement(hw,null,nt.createElement(gw,{ref:e,open:r,...l}))}let ck="div";function uk(t,e){let n=R.useId(),{id:r=`headlessui-dialog-panel-${n}`,transition:l=!1,...u}=t,[{dialogState:g,unmount:y},b]=Yh("Dialog.Panel"),x=yr(e,b.panelRef),E=R.useMemo(()=>({open:g===0}),[g]),C=tn(j=>{j.stopPropagation()}),N={ref:x,id:r,onClick:C},O=l?Jm:R.Fragment,M=l?{unmount:y}:{},B=Cs();return nt.createElement(O,{...M},B({ourProps:N,theirProps:u,slot:E,defaultTag:ck,name:"Dialog.Panel"}))}let fk="div";function dk(t,e){let{transition:n=!1,...r}=t,[{dialogState:l,unmount:u}]=Yh("Dialog.Backdrop"),g=R.useMemo(()=>({open:l===0}),[l]),y={ref:e,"aria-hidden":!0},b=n?Jm:R.Fragment,x=n?{unmount:u}:{},E=Cs();return nt.createElement(b,{...x},E({ourProps:y,theirProps:r,slot:g,defaultTag:fk,name:"Dialog.Backdrop"}))}let hk="h2";function gk(t,e){let n=R.useId(),{id:r=`headlessui-dialog-title-${n}`,...l}=t,[{dialogState:u,setTitleId:g}]=Yh("Dialog.Title"),y=yr(e);R.useEffect(()=>(g(r),()=>g(null)),[r,g]);let b=R.useMemo(()=>({open:u===0}),[u]),x={ref:y,id:r};return Cs()({ourProps:x,theirProps:l,slot:b,defaultTag:hk,name:"Dialog.Title"})}let mk=Yi(lk),pk=Yi(uk);Yi(dk);let xk=Yi(gk),Ua=Object.assign(mk,{Panel:pk,Title:xk,Description:D9});const oi="#6654b3",mw="#f6f6f6",yk={new_application:{labelKey:"newApplications",color:oi,text:"#fff"},renewal:{labelKey:"renewals",color:"#e6e1f7",text:oi},edit:{labelKey:"courseChanges",color:"#edeaf7",text:oi}};function bk({urls:t,open:e,onClose:n}){const{t:r}=kn();return T.jsx(Ua,{open:e,onClose:n,className:"fixed z-50 inset-0 flex items-center justify-center bg-black/30",children:T.jsxs(Ua.Panel,{className:"bg-white rounded-2xl p-6 max-w-lg w-full relative",children:[T.jsx("button",{onClick:n,className:"absolute top-4 right-4 text-gray-400 hover:text-[#6654b3]",children:T.jsx(Jo,{className:"w-6 h-6"})}),T.jsx("h2",{className:"text-lg font-bold mb-2",style:{color:oi},children:r("receipts")}),T.jsx("div",{className:"space-y-3",children:t.map(l=>T.jsxs("div",{className:"rounded-lg border border-[#e1def5] bg-[#f6f6f6] px-3 py-2 flex items-center gap-3",children:[T.jsx("span",{className:"flex-1 truncate",style:{color:oi},children:decodeURIComponent(l.split("/").slice(-1)[0])}),T.jsx("button",{className:"hover:underline text-xs font-bold",style:{color:oi},onClick:()=>window.open(l,"_blank"),children:r("open")}),T.jsxs("button",{className:"hover:underline text-xs font-bold flex items-center gap-1",style:{color:oi},onClick:async()=>{const g=await(await fetch(l)).blob(),y=document.createElement("a");y.href=URL.createObjectURL(g),y.download=l.split("/").slice(-1)[0],y.click()},children:[T.jsx(t9,{className:"w-4 h-4 inline"})," ",r("download")]}),T.jsxs("button",{className:"hover:underline text-xs font-bold flex items-center gap-1",style:{color:oi},onClick:()=>{const u=document.createElement("iframe");u.style.position="fixed",u.style.right="0",u.style.top="0",u.style.width="0",u.style.height="0",u.src=l,document.body.appendChild(u),u.onload=()=>{var g;(g=u.contentWindow)==null||g.print(),setTimeout(()=>document.body.removeChild(u),1e3)}},children:[T.jsx(Xm,{className:"w-4 h-4 inline"})," ",r("print")]})]},l))})]})})}function wk(t,e){return t.reduce((n,r)=>{const l=e(r);return(n[l]||(n[l]=[])).push(r),n},{})}function pw(){const{t}=kn(),e=Dc(),[n,r]=R.useState(null),[l,u]=R.useState({}),[g,y]=R.useState({new_application:!1,renewal:!1,edit:!1}),{data:b=[]}=hi({queryKey:["courses","names"],queryFn:async()=>{const{data:U}=await je.from("courses").select("id,name");return U||[]},staleTime:5*60*1e3}),{data:x=[],isLoading:E}=hi({queryKey:["reviewHub","pending"],queryFn:async()=>{const[U,q]=await Promise.all([je.from("applications").select("*").eq("status","pending").order("created_at",{ascending:!0}),je.from("application_changes").select("*").eq("status","pending").order("created_at",{ascending:!0})]);return[...(U.data||[]).map(W=>({...W,group:"new_application"})),...(q.data||[]).map(W=>({...W,group:W.type}))]},staleTime:20*1e3}),C=R.useMemo(()=>Array.from(new Set((x||[]).map(U=>U.submitted_by).filter(Boolean))),[x]),{data:N={}}=hi({queryKey:["submitters",...C],queryFn:async()=>{const U={};return await Promise.all(C.map(async q=>{const{data:W}=await je.from("profiles").select("full_name,email").eq("id",q).single();W&&(U[q]=W)})),U},enabled:C.length>0}),O=R.useMemo(()=>Object.fromEntries(b.map(U=>[U.id,U.name])),[b]),M=R.useMemo(()=>wk(x,U=>U.group),[x]);function B(U,q){u(W=>{var ne;return{...W,[U]:new Set([...Array.from(W[U]||[]),...(ne=W[U])!=null&&ne.has(q)?[]:[q]].filter(X=>{var oe;return X!==q||!((oe=W[U])!=null&&oe.has(q))}))}})}function j(U){var W;const q=new Set(((W=M[U])==null?void 0:W.map(ne=>ne.id))||[]);u(ne=>{var X;return{...ne,[U]:((X=ne[U])==null?void 0:X.size)===q.size?new Set:q}})}async function V(U){const q=Array.from(l[U]||[]);if(!q.length||!window.confirm(t("approveConfirm",{count:q.length})))return;let W;U==="new_application"?W=je.from("applications").update({status:"approved"}).in("id",q):W=je.from("application_changes").update({status:"approved",reviewed_at:new Date().toISOString()}).in("id",q),await W,e.invalidateQueries({queryKey:["reviewHub","pending"]}),u(ne=>({...ne,[U]:new Set}))}async function $(U){const q=Array.from(l[U]||[]);q.length&&window.confirm(t("rejectConfirm",{count:q.length}))&&(U==="new_application"?await je.from("applications").delete().in("id",q):await je.from("application_changes").delete().in("id",q),e.invalidateQueries({queryKey:["reviewHub","pending"]}),u(W=>({...W,[U]:new Set})))}return E?T.jsxs("div",{className:"p-10 flex items-center justify-center",style:{background:mw,minHeight:"100vh"},children:[T.jsx("span",{className:"animate-bounce w-5 h-5 rounded-full",style:{background:oi,marginRight:8}}),T.jsx("span",{className:"animate-bounce w-5 h-5 rounded-full",style:{background:"#e6e1f7",marginRight:8}}),T.jsx("span",{className:"animate-bounce w-5 h-5 rounded-full",style:{background:"#edeaf7"}})]}):T.jsxs("div",{className:"min-h-screen flex flex-col items-center py-8 px-2 sm:px-6 font-sans",style:{background:mw},children:[T.jsx("div",{className:"w-full max-w-5xl space-y-8",children:Object.entries(yk).map(([U,q])=>{var W,ne,X,oe,ee,pe,ke;return T.jsxs("div",{className:"mb-4 border rounded-2xl shadow-sm",style:{borderColor:"#e1def5",background:"#fff"},children:[T.jsx("button",{className:"w-full flex items-center justify-between px-6 py-4 text-lg font-bold focus:outline-none rounded-t-2xl transition-all",style:{background:q.color,color:q.text,borderTopLeftRadius:16,borderTopRightRadius:16},onClick:()=>y(be=>({...be,[U]:!be[U]})),children:T.jsxs("div",{className:"flex items-center gap-2",children:[g[U]?T.jsx(fE,{className:"w-6 h-6"}):T.jsx(dE,{className:"w-6 h-6"}),t(q.labelKey),T.jsx("span",{className:"ml-2 rounded-full px-3 py-1 text-base font-bold border",style:{background:"#fff",color:oi,borderColor:"#e1def5"},children:((W=M[U])==null?void 0:W.length)||0})]})}),g[U]&&T.jsxs("div",{className:"px-4 pb-4 pt-2",children:[T.jsxs("div",{className:"flex flex-wrap gap-2 items-center my-3",children:[T.jsx("button",{className:"rounded-full px-3 py-1 border text-xs font-bold transition",style:{borderColor:oi,color:oi,background:"#f6f6f6"},onClick:()=>j(U),children:((ne=l[U])==null?void 0:ne.size)===(((X=M[U])==null?void 0:X.length)||0)?t("unselectAll"):t("selectAll")}),T.jsxs("button",{className:"px-3 py-1 rounded-full font-bold text-xs transition",style:{background:oi,color:"#fff",opacity:(oe=l[U])!=null&&oe.size?1:.5},disabled:!((ee=l[U])!=null&&ee.size),onClick:()=>V(U),children:[T.jsx(ZD,{className:"w-4 h-4 inline"})," ",t("approve")]}),T.jsxs("button",{className:"px-3 py-1 rounded-full font-bold text-xs transition",style:{background:"#ec4899",color:"#fff",opacity:(pe=l[U])!=null&&pe.size?1:.5},disabled:!((ke=l[U])!=null&&ke.size),onClick:()=>$(U),children:[T.jsx(d9,{className:"w-4 h-4 inline"})," ",t("reject")]})]}),T.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:(M[U]||[]).map(be=>{var ze,z,te,xe,ye,Me,Pe;const Ce=be.group==="new_application"?be.payment_receipt_urls||[]:((ze=be.changes)==null?void 0:ze.receipts)||be.receipt_urls||[],Be=be.nickname||be.nick_name||be.nick||"",re=be.first_name||be.first||"",se=be.last_name||be.last||"",le=be.submitted_by?((z=N[be.submitted_by])==null?void 0:z.full_name)||be.submitted_by:"-";let Le=[];return be.group==="new_application"?Le=Object.entries(be.courses||{}).map(([we,lt])=>{var ve;return{cid:we,days:lt,hours:((ve=be.course_limits)==null?void 0:ve[we])||0}}):be.type==="edit"?Le=Object.entries(((te=be.changes)==null?void 0:te.course_changes)||{}).map(([we,lt])=>{var ve;return{cid:we,days:lt,hours:((ve=be.changes.course_limits)==null?void 0:ve[we])||0}}):be.type==="renewal"&&(Le=Object.entries(((xe=be.changes)==null?void 0:xe.course_limits)||{}).map(([we,lt])=>({cid:we,days:null,hours:lt}))),T.jsxs("div",{className:im("rounded-2xl border p-4 space-y-2 flex flex-col relative transition",((ye=l[U])==null?void 0:ye.has(be.id))&&"ring-2"),style:{borderColor:"#edeaf7",background:"#fff",boxShadow:"0 2px 8px 0 rgba(102,84,179,0.03)",...(Me=l[U])!=null&&Me.has(be.id)?{boxShadow:`0 0 0 3px ${oi}40`}:{}},children:[T.jsx("label",{className:"absolute top-3 left-3",children:T.jsx("input",{type:"checkbox",checked:(Pe=l[U])==null?void 0:Pe.has(be.id),onChange:()=>B(U,be.id),className:"accent-[#6654b3] w-5 h-5"})}),T.jsxs("div",{className:"pl-8",children:[T.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[T.jsx(u9,{className:"w-8 h-8",style:{color:oi}}),T.jsxs("div",{children:[T.jsxs("div",{className:"font-bold text-base",style:{color:oi},children:[Be?`"${Be}"`:""," ",re," ",se]}),T.jsxs("div",{className:"text-xs text-gray-500",children:[T.jsxs("span",{children:[t("submittedBy"),": "]}),T.jsx("span",{children:le})]}),T.jsxs("div",{className:"text-xs text-gray-500",children:[be.parent_phone&&T.jsxs(T.Fragment,{children:[t("phone"),": ",be.parent_phone," "]}),be.parent_line_id&&T.jsxs(T.Fragment,{children:[t("lineId"),": ",be.parent_line_id," "]}),be.dob&&T.jsxs(T.Fragment,{children:[t("dob"),": ",new Date(be.dob).toLocaleDateString("en-GB")]})]})]})]}),T.jsxs("div",{className:"text-xs text-gray-600",children:[t("submittedAt"),": ",new Date(be.created_at).toLocaleString("en-GB")]}),T.jsx("div",{className:"my-2",children:Le.map(we=>T.jsxs("div",{className:"mb-1",children:[T.jsxs("div",{className:"font-semibold",style:{color:oi},children:[t("course"),": ",O[we.cid]||we.cid]}),we.days&&Object.entries(we.days).map(([lt,ve])=>T.jsxs("div",{className:"ml-2 text-sm",children:[T.jsxs("span",{className:"font-semibold",children:[lt,":"]})," ",(Array.isArray(ve)?ve:[]).join(", ")]},lt)),T.jsxs("div",{className:"ml-2 text-sm",children:[T.jsxs("span",{className:"font-semibold",children:[t("hours"),":"]})," ",we.hours]})]},we.cid))}),Ce&&Ce.length>0&&T.jsx("div",{className:"mb-2"}),Ce&&Ce.length>0&&T.jsx("button",{className:"rounded-full px-3 py-1 text-xs font-bold",style:{background:"#e6e1f7",color:oi},onClick:()=>r(Ce),children:t("viewReceipts",{count:Ce.length})})]})]},be.id)})})]})]},U)})}),n&&T.jsx(bk,{urls:n,open:!!n,onClose:()=>r(null)}),T.jsx("style",{children:`
        @keyframes fadein { from { opacity:0; transform: scale(0.98);} to { opacity:1; transform: scale(1);} }
      `})]})}const tp=R.createContext({});function np(t){const e=R.useRef(null);return e.current===null&&(e.current=t()),e.current}const ip=typeof window<"u",$E=ip?R.useLayoutEffect:R.useEffect,Xh=R.createContext(null);function sp(t,e){t.indexOf(e)===-1&&t.push(e)}function rp(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const Qr=(t,e,n)=>n>e?e:n<t?t:n;let ap=()=>{};const Jr={},GE=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function qE(t){return typeof t=="object"&&t!==null}const YE=t=>/^0[^.\s]+$/u.test(t);function op(t){let e;return()=>(e===void 0&&(e=t()),e)}const vs=t=>t,vk=(t,e)=>n=>e(t(n)),Of=(...t)=>t.reduce(vk),df=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r};class lp{constructor(){this.subscriptions=[]}add(e){return sp(this.subscriptions,e),()=>rp(this.subscriptions,e)}notify(e,n,r){const l=this.subscriptions.length;if(l)if(l===1)this.subscriptions[0](e,n,r);else for(let u=0;u<l;u++){const g=this.subscriptions[u];g&&g(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const mr=t=>t*1e3,pr=t=>t/1e3;function XE(t,e){return e?t*(1e3/e):0}const WE=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,Ek=1e-7,Sk=12;function Ck(t,e,n,r,l){let u,g,y=0;do g=e+(n-e)/2,u=WE(g,r,l)-t,u>0?n=g:e=g;while(Math.abs(u)>Ek&&++y<Sk);return g}function If(t,e,n,r){if(t===e&&n===r)return vs;const l=u=>Ck(u,0,1,t,n);return u=>u===0||u===1?u:WE(l(u),e,r)}const KE=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,ZE=t=>e=>1-t(1-e),QE=If(.33,1.53,.69,.99),cp=ZE(QE),JE=KE(cp),eS=t=>(t*=2)<1?.5*cp(t):.5*(2-Math.pow(2,-10*(t-1))),up=t=>1-Math.sin(Math.acos(t)),tS=ZE(up),nS=KE(up),Ak=If(.42,0,1,1),Tk=If(0,0,.58,1),iS=If(.42,0,.58,1),_k=t=>Array.isArray(t)&&typeof t[0]!="number",sS=t=>Array.isArray(t)&&typeof t[0]=="number",Nk={linear:vs,easeIn:Ak,easeInOut:iS,easeOut:Tk,circIn:up,circInOut:nS,circOut:tS,backIn:cp,backInOut:JE,backOut:QE,anticipate:eS},Rk=t=>typeof t=="string",xw=t=>{if(sS(t)){ap(t.length===4);const[e,n,r,l]=t;return If(e,n,r,l)}else if(Rk(t))return Nk[t];return t},ih=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"],yw={value:null};function Ok(t,e){let n=new Set,r=new Set,l=!1,u=!1;const g=new WeakSet;let y={delta:0,timestamp:0,isProcessing:!1},b=0;function x(C){g.has(C)&&(E.schedule(C),t()),b++,C(y)}const E={schedule:(C,N=!1,O=!1)=>{const B=O&&l?n:r;return N&&g.add(C),B.has(C)||B.add(C),C},cancel:C=>{r.delete(C),g.delete(C)},process:C=>{if(y=C,l){u=!0;return}l=!0,[n,r]=[r,n],n.forEach(x),e&&yw.value&&yw.value.frameloop[e].push(b),b=0,n.clear(),l=!1,u&&(u=!1,E.process(C))}};return E}const Ik=40;function rS(t,e){let n=!1,r=!0;const l={delta:0,timestamp:0,isProcessing:!1},u=()=>n=!0,g=ih.reduce((U,q)=>(U[q]=Ok(u,e?q:void 0),U),{}),{setup:y,read:b,resolveKeyframes:x,preUpdate:E,update:C,preRender:N,render:O,postRender:M}=g,B=()=>{const U=Jr.useManualTiming?l.timestamp:performance.now();n=!1,Jr.useManualTiming||(l.delta=r?1e3/60:Math.max(Math.min(U-l.timestamp,Ik),1)),l.timestamp=U,l.isProcessing=!0,y.process(l),b.process(l),x.process(l),E.process(l),C.process(l),N.process(l),O.process(l),M.process(l),l.isProcessing=!1,n&&e&&(r=!1,t(B))},j=()=>{n=!0,r=!0,l.isProcessing||t(B)};return{schedule:ih.reduce((U,q)=>{const W=g[q];return U[q]=(ne,X=!1,oe=!1)=>(n||j(),W.schedule(ne,X,oe)),U},{}),cancel:U=>{for(let q=0;q<ih.length;q++)g[ih[q]].cancel(U)},state:l,steps:g}}const{schedule:gn,cancel:no,state:di,steps:mg}=rS(typeof requestAnimationFrame<"u"?requestAnimationFrame:vs,!0);let uh;function Mk(){uh=void 0}const qi={now:()=>(uh===void 0&&qi.set(di.isProcessing||Jr.useManualTiming?di.timestamp:performance.now()),uh),set:t=>{uh=t,queueMicrotask(Mk)}},aS=t=>e=>typeof e=="string"&&e.startsWith(t),fp=aS("--"),Dk=aS("var(--"),dp=t=>Dk(t)?Lk.test(t.split("/*")[0].trim()):!1,Lk=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,kc={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},hf={...kc,transform:t=>Qr(0,1,t)},sh={...kc,default:1},tf=t=>Math.round(t*1e5)/1e5,hp=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function kk(t){return t==null}const jk=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,gp=(t,e)=>n=>!!(typeof n=="string"&&jk.test(n)&&n.startsWith(t)||e&&!kk(n)&&Object.prototype.hasOwnProperty.call(n,e)),oS=(t,e,n)=>r=>{if(typeof r!="string")return r;const[l,u,g,y]=r.match(hp);return{[t]:parseFloat(l),[e]:parseFloat(u),[n]:parseFloat(g),alpha:y!==void 0?parseFloat(y):1}},Bk=t=>Qr(0,255,t),pg={...kc,transform:t=>Math.round(Bk(t))},Vo={test:gp("rgb","red"),parse:oS("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+pg.transform(t)+", "+pg.transform(e)+", "+pg.transform(n)+", "+tf(hf.transform(r))+")"};function Pk(t){let e="",n="",r="",l="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),l=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),l=t.substring(4,5),e+=e,n+=n,r+=r,l+=l),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:l?parseInt(l,16)/255:1}}const um={test:gp("#"),parse:Pk,transform:Vo.transform},Mf=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Ba=Mf("deg"),xr=Mf("%"),tt=Mf("px"),Uk=Mf("vh"),Fk=Mf("vw"),bw={...xr,parse:t=>xr.parse(t)/100,transform:t=>xr.transform(t*100)},lc={test:gp("hsl","hue"),parse:oS("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+xr.transform(tf(e))+", "+xr.transform(tf(n))+", "+tf(hf.transform(r))+")"},Vn={test:t=>Vo.test(t)||um.test(t)||lc.test(t),parse:t=>Vo.test(t)?Vo.parse(t):lc.test(t)?lc.parse(t):um.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?Vo.transform(t):lc.transform(t),getAnimatableNone:t=>{const e=Vn.parse(t);return e.alpha=0,Vn.transform(e)}},Vk=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function zk(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(hp))==null?void 0:e.length)||0)+(((n=t.match(Vk))==null?void 0:n.length)||0)>0}const lS="number",cS="color",Hk="var",$k="var(",ww="${}",Gk=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function gf(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},l=[];let u=0;const y=e.replace(Gk,b=>(Vn.test(b)?(r.color.push(u),l.push(cS),n.push(Vn.parse(b))):b.startsWith($k)?(r.var.push(u),l.push(Hk),n.push(b)):(r.number.push(u),l.push(lS),n.push(parseFloat(b))),++u,ww)).split(ww);return{values:n,split:y,indexes:r,types:l}}function uS(t){return gf(t).values}function fS(t){const{split:e,types:n}=gf(t),r=e.length;return l=>{let u="";for(let g=0;g<r;g++)if(u+=e[g],l[g]!==void 0){const y=n[g];y===lS?u+=tf(l[g]):y===cS?u+=Vn.transform(l[g]):u+=l[g]}return u}}const qk=t=>typeof t=="number"?0:Vn.test(t)?Vn.getAnimatableNone(t):t;function Yk(t){const e=uS(t);return fS(t)(e.map(qk))}const io={test:zk,parse:uS,createTransformer:fS,getAnimatableNone:Yk};function xg(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function Xk({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let l=0,u=0,g=0;if(!e)l=u=g=n;else{const y=n<.5?n*(1+e):n+e-n*e,b=2*n-y;l=xg(b,y,t+1/3),u=xg(b,y,t),g=xg(b,y,t-1/3)}return{red:Math.round(l*255),green:Math.round(u*255),blue:Math.round(g*255),alpha:r}}function _h(t,e){return n=>n>0?e:t}const yn=(t,e,n)=>t+(e-t)*n,yg=(t,e,n)=>{const r=t*t,l=n*(e*e-r)+r;return l<0?0:Math.sqrt(l)},Wk=[um,Vo,lc],Kk=t=>Wk.find(e=>e.test(t));function vw(t){const e=Kk(t);if(!e)return!1;let n=e.parse(t);return e===lc&&(n=Xk(n)),n}const Ew=(t,e)=>{const n=vw(t),r=vw(e);if(!n||!r)return _h(t,e);const l={...n};return u=>(l.red=yg(n.red,r.red,u),l.green=yg(n.green,r.green,u),l.blue=yg(n.blue,r.blue,u),l.alpha=yn(n.alpha,r.alpha,u),Vo.transform(l))},fm=new Set(["none","hidden"]);function Zk(t,e){return fm.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function Qk(t,e){return n=>yn(t,e,n)}function mp(t){return typeof t=="number"?Qk:typeof t=="string"?dp(t)?_h:Vn.test(t)?Ew:tj:Array.isArray(t)?dS:typeof t=="object"?Vn.test(t)?Ew:Jk:_h}function dS(t,e){const n=[...t],r=n.length,l=t.map((u,g)=>mp(u)(u,e[g]));return u=>{for(let g=0;g<r;g++)n[g]=l[g](u);return n}}function Jk(t,e){const n={...t,...e},r={};for(const l in n)t[l]!==void 0&&e[l]!==void 0&&(r[l]=mp(t[l])(t[l],e[l]));return l=>{for(const u in r)n[u]=r[u](l);return n}}function ej(t,e){const n=[],r={color:0,var:0,number:0};for(let l=0;l<e.values.length;l++){const u=e.types[l],g=t.indexes[u][r[u]],y=t.values[g]??0;n[l]=y,r[u]++}return n}const tj=(t,e)=>{const n=io.createTransformer(e),r=gf(t),l=gf(e);return r.indexes.var.length===l.indexes.var.length&&r.indexes.color.length===l.indexes.color.length&&r.indexes.number.length>=l.indexes.number.length?fm.has(t)&&!l.values.length||fm.has(e)&&!r.values.length?Zk(t,e):Of(dS(ej(r,l),l.values),n):_h(t,e)};function hS(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?yn(t,e,n):mp(t)(t,e)}const nj=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>gn.update(e,n),stop:()=>no(e),now:()=>di.isProcessing?di.timestamp:qi.now()}},gS=(t,e,n=10)=>{let r="";const l=Math.max(Math.round(e/n),2);for(let u=0;u<l;u++)r+=Math.round(t(u/(l-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},Nh=2e4;function pp(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<Nh;)e+=n,r=t.next(e);return e>=Nh?1/0:e}function ij(t,e=100,n){const r=n({...t,keyframes:[0,e]}),l=Math.min(pp(r),Nh);return{type:"keyframes",ease:u=>r.next(l*u).value/e,duration:pr(l)}}const sj=5;function mS(t,e,n){const r=Math.max(e-sj,0);return XE(n-t(r),e-r)}const _n={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},bg=.001;function rj({duration:t=_n.duration,bounce:e=_n.bounce,velocity:n=_n.velocity,mass:r=_n.mass}){let l,u,g=1-e;g=Qr(_n.minDamping,_n.maxDamping,g),t=Qr(_n.minDuration,_n.maxDuration,pr(t)),g<1?(l=x=>{const E=x*g,C=E*t,N=E-n,O=dm(x,g),M=Math.exp(-C);return bg-N/O*M},u=x=>{const C=x*g*t,N=C*n+n,O=Math.pow(g,2)*Math.pow(x,2)*t,M=Math.exp(-C),B=dm(Math.pow(x,2),g);return(-l(x)+bg>0?-1:1)*((N-O)*M)/B}):(l=x=>{const E=Math.exp(-x*t),C=(x-n)*t+1;return-bg+E*C},u=x=>{const E=Math.exp(-x*t),C=(n-x)*(t*t);return E*C});const y=5/t,b=oj(l,u,y);if(t=mr(t),isNaN(b))return{stiffness:_n.stiffness,damping:_n.damping,duration:t};{const x=Math.pow(b,2)*r;return{stiffness:x,damping:g*2*Math.sqrt(r*x),duration:t}}}const aj=12;function oj(t,e,n){let r=n;for(let l=1;l<aj;l++)r=r-t(r)/e(r);return r}function dm(t,e){return t*Math.sqrt(1-e*e)}const lj=["duration","bounce"],cj=["stiffness","damping","mass"];function Sw(t,e){return e.some(n=>t[n]!==void 0)}function uj(t){let e={velocity:_n.velocity,stiffness:_n.stiffness,damping:_n.damping,mass:_n.mass,isResolvedFromDuration:!1,...t};if(!Sw(t,cj)&&Sw(t,lj))if(t.visualDuration){const n=t.visualDuration,r=2*Math.PI/(n*1.2),l=r*r,u=2*Qr(.05,1,1-(t.bounce||0))*Math.sqrt(l);e={...e,mass:_n.mass,stiffness:l,damping:u}}else{const n=rj(t);e={...e,...n,mass:_n.mass},e.isResolvedFromDuration=!0}return e}function Rh(t=_n.visualDuration,e=_n.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:l}=n;const u=n.keyframes[0],g=n.keyframes[n.keyframes.length-1],y={done:!1,value:u},{stiffness:b,damping:x,mass:E,duration:C,velocity:N,isResolvedFromDuration:O}=uj({...n,velocity:-pr(n.velocity||0)}),M=N||0,B=x/(2*Math.sqrt(b*E)),j=g-u,V=pr(Math.sqrt(b/E)),$=Math.abs(j)<5;r||(r=$?_n.restSpeed.granular:_n.restSpeed.default),l||(l=$?_n.restDelta.granular:_n.restDelta.default);let U;if(B<1){const W=dm(V,B);U=ne=>{const X=Math.exp(-B*V*ne);return g-X*((M+B*V*j)/W*Math.sin(W*ne)+j*Math.cos(W*ne))}}else if(B===1)U=W=>g-Math.exp(-V*W)*(j+(M+V*j)*W);else{const W=V*Math.sqrt(B*B-1);U=ne=>{const X=Math.exp(-B*V*ne),oe=Math.min(W*ne,300);return g-X*((M+B*V*j)*Math.sinh(oe)+W*j*Math.cosh(oe))/W}}const q={calculatedDuration:O&&C||null,next:W=>{const ne=U(W);if(O)y.done=W>=C;else{let X=W===0?M:0;B<1&&(X=W===0?mr(M):mS(U,W,ne));const oe=Math.abs(X)<=r,ee=Math.abs(g-ne)<=l;y.done=oe&&ee}return y.value=y.done?g:ne,y},toString:()=>{const W=Math.min(pp(q),Nh),ne=gS(X=>q.next(W*X).value,W,30);return W+"ms "+ne},toTransition:()=>{}};return q}Rh.applyToOptions=t=>{const e=ij(t,100,Rh);return t.ease=e.ease,t.duration=mr(e.duration),t.type="keyframes",t};function hm({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:l=10,bounceStiffness:u=500,modifyTarget:g,min:y,max:b,restDelta:x=.5,restSpeed:E}){const C=t[0],N={done:!1,value:C},O=oe=>y!==void 0&&oe<y||b!==void 0&&oe>b,M=oe=>y===void 0?b:b===void 0||Math.abs(y-oe)<Math.abs(b-oe)?y:b;let B=n*e;const j=C+B,V=g===void 0?j:g(j);V!==j&&(B=V-C);const $=oe=>-B*Math.exp(-oe/r),U=oe=>V+$(oe),q=oe=>{const ee=$(oe),pe=U(oe);N.done=Math.abs(ee)<=x,N.value=N.done?V:pe};let W,ne;const X=oe=>{O(N.value)&&(W=oe,ne=Rh({keyframes:[N.value,M(N.value)],velocity:mS(U,oe,N.value),damping:l,stiffness:u,restDelta:x,restSpeed:E}))};return X(0),{calculatedDuration:null,next:oe=>{let ee=!1;return!ne&&W===void 0&&(ee=!0,q(oe),X(oe)),W!==void 0&&oe>=W?ne.next(oe-W):(!ee&&q(oe),N)}}}function fj(t,e,n){const r=[],l=n||Jr.mix||hS,u=t.length-1;for(let g=0;g<u;g++){let y=l(t[g],t[g+1]);if(e){const b=Array.isArray(e)?e[g]||vs:e;y=Of(b,y)}r.push(y)}return r}function dj(t,e,{clamp:n=!0,ease:r,mixer:l}={}){const u=t.length;if(ap(u===e.length),u===1)return()=>e[0];if(u===2&&e[0]===e[1])return()=>e[1];const g=t[0]===t[1];t[0]>t[u-1]&&(t=[...t].reverse(),e=[...e].reverse());const y=fj(e,r,l),b=y.length,x=E=>{if(g&&E<t[0])return e[0];let C=0;if(b>1)for(;C<t.length-2&&!(E<t[C+1]);C++);const N=df(t[C],t[C+1],E);return y[C](N)};return n?E=>x(Qr(t[0],t[u-1],E)):x}function hj(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const l=df(0,e,r);t.push(yn(n,1,l))}}function gj(t){const e=[0];return hj(e,t.length-1),e}function mj(t,e){return t.map(n=>n*e)}function pj(t,e){return t.map(()=>e||iS).splice(0,t.length-1)}function nf({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const l=_k(r)?r.map(xw):xw(r),u={done:!1,value:e[0]},g=mj(n&&n.length===e.length?n:gj(e),t),y=dj(g,e,{ease:Array.isArray(l)?l:pj(e,l)});return{calculatedDuration:t,next:b=>(u.value=y(b),u.done=b>=t,u)}}const xj=t=>t!==null;function xp(t,{repeat:e,repeatType:n="loop"},r,l=1){const u=t.filter(xj),y=l<0||e&&n!=="loop"&&e%2===1?0:u.length-1;return!y||r===void 0?u[y]:r}const yj={decay:hm,inertia:hm,tween:nf,keyframes:nf,spring:Rh};function pS(t){typeof t.type=="string"&&(t.type=yj[t.type])}class yp{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const bj=t=>t/100;class bp extends yp{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var r,l;const{motionValue:n}=this.options;n&&n.updatedAt!==qi.now()&&this.tick(qi.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(l=(r=this.options).onStop)==null||l.call(r))},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;pS(e);const{type:n=nf,repeat:r=0,repeatDelay:l=0,repeatType:u,velocity:g=0}=e;let{keyframes:y}=e;const b=n||nf;b!==nf&&typeof y[0]!="number"&&(this.mixKeyframes=Of(bj,hS(y[0],y[1])),y=[0,100]);const x=b({...e,keyframes:y});u==="mirror"&&(this.mirroredGenerator=b({...e,keyframes:[...y].reverse(),velocity:-g})),x.calculatedDuration===null&&(x.calculatedDuration=pp(x));const{calculatedDuration:E}=x;this.calculatedDuration=E,this.resolvedDuration=E+l,this.totalDuration=this.resolvedDuration*(r+1)-l,this.generator=x}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:r,totalDuration:l,mixKeyframes:u,mirroredGenerator:g,resolvedDuration:y,calculatedDuration:b}=this;if(this.startTime===null)return r.next(0);const{delay:x=0,keyframes:E,repeat:C,repeatType:N,repeatDelay:O,type:M,onUpdate:B,finalKeyframe:j}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-l/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const V=this.currentTime-x*(this.playbackSpeed>=0?1:-1),$=this.playbackSpeed>=0?V<0:V>l;this.currentTime=Math.max(V,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=l);let U=this.currentTime,q=r;if(C){const oe=Math.min(this.currentTime,l)/y;let ee=Math.floor(oe),pe=oe%1;!pe&&oe>=1&&(pe=1),pe===1&&ee--,ee=Math.min(ee,C+1),!!(ee%2)&&(N==="reverse"?(pe=1-pe,O&&(pe-=O/y)):N==="mirror"&&(q=g)),U=Qr(0,1,pe)*y}const W=$?{done:!1,value:E[0]}:q.next(U);u&&(W.value=u(W.value));let{done:ne}=W;!$&&b!==null&&(ne=this.playbackSpeed>=0?this.currentTime>=l:this.currentTime<=0);const X=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&ne);return X&&M!==hm&&(W.value=xp(E,this.options,j,this.speed)),B&&B(W.value),X&&this.finish(),W}then(e,n){return this.finished.then(e,n)}get duration(){return pr(this.calculatedDuration)}get time(){return pr(this.currentTime)}set time(e){var n;e=mr(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),(n=this.driver)==null||n.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(qi.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=pr(this.currentTime))}play(){var l,u;if(this.isStopped)return;const{driver:e=nj,startTime:n}=this.options;this.driver||(this.driver=e(g=>this.tick(g))),(u=(l=this.options).onPlay)==null||u.call(l);const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=n??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(qi.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var e,n;this.notifyFinished(),this.teardown(),this.state="finished",(n=(e=this.options).onComplete)==null||n.call(e)}cancel(){var e,n;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(n=(e=this.options).onCancel)==null||n.call(e)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){var n;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(n=this.driver)==null||n.stop(),e.observe(this)}}function wj(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const zo=t=>t*180/Math.PI,gm=t=>{const e=zo(Math.atan2(t[1],t[0]));return mm(e)},vj={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:gm,rotateZ:gm,skewX:t=>zo(Math.atan(t[1])),skewY:t=>zo(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},mm=t=>(t=t%360,t<0&&(t+=360),t),Cw=gm,Aw=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),Tw=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),Ej={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:Aw,scaleY:Tw,scale:t=>(Aw(t)+Tw(t))/2,rotateX:t=>mm(zo(Math.atan2(t[6],t[5]))),rotateY:t=>mm(zo(Math.atan2(-t[2],t[0]))),rotateZ:Cw,rotate:Cw,skewX:t=>zo(Math.atan(t[4])),skewY:t=>zo(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function pm(t){return t.includes("scale")?1:0}function xm(t,e){if(!t||t==="none")return pm(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,l;if(n)r=Ej,l=n;else{const y=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=vj,l=y}if(!l)return pm(e);const u=r[e],g=l[1].split(",").map(Cj);return typeof u=="function"?u(g):g[u]}const Sj=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return xm(n,e)};function Cj(t){return parseFloat(t.trim())}const jc=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Bc=new Set(jc),_w=t=>t===kc||t===tt,Aj=new Set(["x","y","z"]),Tj=jc.filter(t=>!Aj.has(t));function _j(t){const e=[];return Tj.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const tl={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>xm(e,"x"),y:(t,{transform:e})=>xm(e,"y")};tl.translateX=tl.x;tl.translateY=tl.y;const nl=new Set;let ym=!1,bm=!1,wm=!1;function xS(){if(bm){const t=Array.from(nl).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const l=_j(r);l.length&&(n.set(r,l),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const l=n.get(r);l&&l.forEach(([u,g])=>{var y;(y=r.getValue(u))==null||y.set(g)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}bm=!1,ym=!1,nl.forEach(t=>t.complete(wm)),nl.clear()}function yS(){nl.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(bm=!0)})}function Nj(){wm=!0,yS(),xS(),wm=!1}class wp{constructor(e,n,r,l,u,g=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=l,this.element=u,this.isAsync=g}scheduleResolve(){this.state="scheduled",this.isAsync?(nl.add(this),ym||(ym=!0,gn.read(yS),gn.resolveKeyframes(xS))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:l}=this;if(e[0]===null){const u=l==null?void 0:l.get(),g=e[e.length-1];if(u!==void 0)e[0]=u;else if(r&&n){const y=r.readValue(n,g);y!=null&&(e[0]=y)}e[0]===void 0&&(e[0]=g),l&&u===void 0&&l.set(e[0])}wj(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),nl.delete(this)}cancel(){this.state==="scheduled"&&(nl.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const Rj=t=>t.startsWith("--");function Oj(t,e,n){Rj(e)?t.style.setProperty(e,n):t.style[e]=n}const Ij=op(()=>window.ScrollTimeline!==void 0),Mj={};function Dj(t,e){const n=op(t);return()=>Mj[e]??n()}const bS=Dj(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),qu=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,Nw={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:qu([0,.65,.55,1]),circOut:qu([.55,0,1,.45]),backIn:qu([.31,.01,.66,-.59]),backOut:qu([.33,1.53,.69,.99])};function wS(t,e){if(t)return typeof t=="function"?bS()?gS(t,e):"ease-out":sS(t)?qu(t):Array.isArray(t)?t.map(n=>wS(n,e)||Nw.easeOut):Nw[t]}function Lj(t,e,n,{delay:r=0,duration:l=300,repeat:u=0,repeatType:g="loop",ease:y="easeOut",times:b}={},x=void 0){const E={[e]:n};b&&(E.offset=b);const C=wS(y,l);Array.isArray(C)&&(E.easing=C);const N={delay:r,duration:l,easing:Array.isArray(C)?"linear":C,fill:"both",iterations:u+1,direction:g==="reverse"?"alternate":"normal"};return x&&(N.pseudoElement=x),t.animate(E,N)}function vS(t){return typeof t=="function"&&"applyToOptions"in t}function kj({type:t,...e}){return vS(t)&&bS()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class jj extends yp{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:n,name:r,keyframes:l,pseudoElement:u,allowFlatten:g=!1,finalKeyframe:y,onComplete:b}=e;this.isPseudoElement=!!u,this.allowFlatten=g,this.options=e,ap(typeof e.type!="string");const x=kj(e);this.animation=Lj(n,r,l,x,u),x.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!u){const E=xp(l,this.options,y,this.speed);this.updateMotionValue?this.updateMotionValue(E):Oj(n,r,E),this.animation.cancel()}b==null||b(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var e,n;(n=(e=this.animation).finish)==null||n.call(e)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var e,n;this.isPseudoElement||(n=(e=this.animation).commitStyles)==null||n.call(e)}get duration(){var n,r;const e=((r=(n=this.animation.effect)==null?void 0:n.getComputedTiming)==null?void 0:r.call(n).duration)||0;return pr(Number(e))}get time(){return pr(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=mr(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){var r;return this.allowFlatten&&((r=this.animation.effect)==null||r.updateTiming({easing:"linear"})),this.animation.onfinish=null,e&&Ij()?(this.animation.timeline=e,vs):n(this)}}const ES={anticipate:eS,backInOut:JE,circInOut:nS};function Bj(t){return t in ES}function Pj(t){typeof t.ease=="string"&&Bj(t.ease)&&(t.ease=ES[t.ease])}const Rw=10;class Uj extends jj{constructor(e){Pj(e),pS(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:r,onComplete:l,element:u,...g}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const y=new bp({...g,autoplay:!1}),b=mr(this.finishedTime??this.time);n.setWithVelocity(y.sample(b-Rw).value,y.sample(b).value,Rw),y.stop()}}const Ow=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(io.test(t)||t==="0")&&!t.startsWith("url("));function Fj(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function Vj(t,e,n,r){const l=t[0];if(l===null)return!1;if(e==="display"||e==="visibility")return!0;const u=t[t.length-1],g=Ow(l,e),y=Ow(u,e);return!g||!y?!1:Fj(t)||(n==="spring"||vS(n))&&r}function vp(t){return qE(t)&&"offsetHeight"in t}const zj=new Set(["opacity","clipPath","filter","transform"]),Hj=op(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function $j(t){var x;const{motionValue:e,name:n,repeatDelay:r,repeatType:l,damping:u,type:g}=t;if(!vp((x=e==null?void 0:e.owner)==null?void 0:x.current))return!1;const{onUpdate:y,transformTemplate:b}=e.owner.getProps();return Hj()&&n&&zj.has(n)&&(n!=="transform"||!b)&&!y&&!r&&l!=="mirror"&&u!==0&&g!=="inertia"}const Gj=40;class qj extends yp{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:l=0,repeatDelay:u=0,repeatType:g="loop",keyframes:y,name:b,motionValue:x,element:E,...C}){var M;super(),this.stop=()=>{var B,j;this._animation&&(this._animation.stop(),(B=this.stopTimeline)==null||B.call(this)),(j=this.keyframeResolver)==null||j.cancel()},this.createdAt=qi.now();const N={autoplay:e,delay:n,type:r,repeat:l,repeatDelay:u,repeatType:g,name:b,motionValue:x,element:E,...C},O=(E==null?void 0:E.KeyframeResolver)||wp;this.keyframeResolver=new O(y,(B,j,V)=>this.onKeyframesResolved(B,j,N,!V),b,x,E),(M=this.keyframeResolver)==null||M.scheduleResolve()}onKeyframesResolved(e,n,r,l){this.keyframeResolver=void 0;const{name:u,type:g,velocity:y,delay:b,isHandoff:x,onUpdate:E}=r;this.resolvedAt=qi.now(),Vj(e,u,g,y)||((Jr.instantAnimations||!b)&&(E==null||E(xp(e,r,n))),e[0]=e[e.length-1],r.duration=0,r.repeat=0);const N={startTime:l?this.resolvedAt?this.resolvedAt-this.createdAt>Gj?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...r,keyframes:e},O=!x&&$j(N)?new Uj({...N,element:N.motionValue.owner.current}):new bp(N);O.finished.then(()=>this.notifyFinished()).catch(vs),this.pendingTimeline&&(this.stopTimeline=O.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=O}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){var e;return this._animation||((e=this.keyframeResolver)==null||e.resume(),Nj()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var e;this._animation&&this.animation.cancel(),(e=this.keyframeResolver)==null||e.cancel()}}const Yj=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function Xj(t){const e=Yj.exec(t);if(!e)return[,];const[,n,r,l]=e;return[`--${n??r}`,l]}function SS(t,e,n=1){const[r,l]=Xj(t);if(!r)return;const u=window.getComputedStyle(e).getPropertyValue(r);if(u){const g=u.trim();return GE(g)?parseFloat(g):g}return dp(l)?SS(l,e,n+1):l}function Ep(t,e){return(t==null?void 0:t[e])??(t==null?void 0:t.default)??t}const CS=new Set(["width","height","top","left","right","bottom",...jc]),Wj={test:t=>t==="auto",parse:t=>t},AS=t=>e=>e.test(t),TS=[kc,tt,xr,Ba,Fk,Uk,Wj],Iw=t=>TS.find(AS(t));function Kj(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||YE(t):!0}const Zj=new Set(["brightness","contrast","saturate","opacity"]);function Qj(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(hp)||[];if(!r)return t;const l=n.replace(r,"");let u=Zj.has(e)?1:0;return r!==n&&(u*=100),e+"("+u+l+")"}const Jj=/\b([a-z-]*)\(.*?\)/gu,vm={...io,getAnimatableNone:t=>{const e=t.match(Jj);return e?e.map(Qj).join(" "):t}},Mw={...kc,transform:Math.round},eB={rotate:Ba,rotateX:Ba,rotateY:Ba,rotateZ:Ba,scale:sh,scaleX:sh,scaleY:sh,scaleZ:sh,skew:Ba,skewX:Ba,skewY:Ba,distance:tt,translateX:tt,translateY:tt,translateZ:tt,x:tt,y:tt,z:tt,perspective:tt,transformPerspective:tt,opacity:hf,originX:bw,originY:bw,originZ:tt},Sp={borderWidth:tt,borderTopWidth:tt,borderRightWidth:tt,borderBottomWidth:tt,borderLeftWidth:tt,borderRadius:tt,radius:tt,borderTopLeftRadius:tt,borderTopRightRadius:tt,borderBottomRightRadius:tt,borderBottomLeftRadius:tt,width:tt,maxWidth:tt,height:tt,maxHeight:tt,top:tt,right:tt,bottom:tt,left:tt,padding:tt,paddingTop:tt,paddingRight:tt,paddingBottom:tt,paddingLeft:tt,margin:tt,marginTop:tt,marginRight:tt,marginBottom:tt,marginLeft:tt,backgroundPositionX:tt,backgroundPositionY:tt,...eB,zIndex:Mw,fillOpacity:hf,strokeOpacity:hf,numOctaves:Mw},tB={...Sp,color:Vn,backgroundColor:Vn,outlineColor:Vn,fill:Vn,stroke:Vn,borderColor:Vn,borderTopColor:Vn,borderRightColor:Vn,borderBottomColor:Vn,borderLeftColor:Vn,filter:vm,WebkitFilter:vm},_S=t=>tB[t];function NS(t,e){let n=_S(t);return n!==vm&&(n=io),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const nB=new Set(["auto","none","0"]);function iB(t,e,n){let r=0,l;for(;r<t.length&&!l;){const u=t[r];typeof u=="string"&&!nB.has(u)&&gf(u).values.length&&(l=t[r]),r++}if(l&&n)for(const u of e)t[u]=NS(n,l)}class sB extends wp{constructor(e,n,r,l,u){super(e,n,r,l,u,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let b=0;b<e.length;b++){let x=e[b];if(typeof x=="string"&&(x=x.trim(),dp(x))){const E=SS(x,n.current);E!==void 0&&(e[b]=E),b===e.length-1&&(this.finalKeyframe=x)}}if(this.resolveNoneKeyframes(),!CS.has(r)||e.length!==2)return;const[l,u]=e,g=Iw(l),y=Iw(u);if(g!==y)if(_w(g)&&_w(y))for(let b=0;b<e.length;b++){const x=e[b];typeof x=="string"&&(e[b]=parseFloat(x))}else tl[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let l=0;l<e.length;l++)(e[l]===null||Kj(e[l]))&&r.push(l);r.length&&iB(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=tl[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const l=n[n.length-1];l!==void 0&&e.getValue(r,l).jump(l,!1)}measureEndState(){var y;const{element:e,name:n,unresolvedKeyframes:r}=this;if(!e||!e.current)return;const l=e.getValue(n);l&&l.jump(this.measuredOrigin,!1);const u=r.length-1,g=r[u];r[u]=tl[n](e.measureViewportBox(),window.getComputedStyle(e.current)),g!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=g),(y=this.removedTransforms)!=null&&y.length&&this.removedTransforms.forEach(([b,x])=>{e.getValue(b).set(x)}),this.resolveNoneKeyframes()}}function rB(t,e,n){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let r=document;const l=(n==null?void 0:n[t])??r.querySelectorAll(t);return l?Array.from(l):[]}return Array.from(t)}const RS=(t,e)=>e&&typeof t=="number"?e.transform(t):t,Dw=30,aB=t=>!isNaN(parseFloat(t));class oB{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,l=!0)=>{var g,y;const u=qi.now();if(this.updatedAt!==u&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&((g=this.events.change)==null||g.notify(this.current),this.dependents))for(const b of this.dependents)b.dirty();l&&((y=this.events.renderRequest)==null||y.notify(this.current))},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=qi.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=aB(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new lp);const r=this.events[e].add(n);return e==="change"?()=>{r(),gn.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var e;(e=this.events.change)==null||e.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=qi.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>Dw)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,Dw);return XE(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var e,n;(e=this.dependents)==null||e.clear(),(n=this.events.destroy)==null||n.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function _c(t,e){return new oB(t,e)}const{schedule:Cp}=rS(queueMicrotask,!1),ks={x:!1,y:!1};function OS(){return ks.x||ks.y}function lB(t){return t==="x"||t==="y"?ks[t]?null:(ks[t]=!0,()=>{ks[t]=!1}):ks.x||ks.y?null:(ks.x=ks.y=!0,()=>{ks.x=ks.y=!1})}function IS(t,e){const n=rB(t),r=new AbortController,l={passive:!0,...e,signal:r.signal};return[n,l,()=>r.abort()]}function Lw(t){return!(t.pointerType==="touch"||OS())}function cB(t,e,n={}){const[r,l,u]=IS(t,n),g=y=>{if(!Lw(y))return;const{target:b}=y,x=e(b,y);if(typeof x!="function"||!b)return;const E=C=>{Lw(C)&&(x(C),b.removeEventListener("pointerleave",E))};b.addEventListener("pointerleave",E,l)};return r.forEach(y=>{y.addEventListener("pointerenter",g,l)}),u}const MS=(t,e)=>e?t===e?!0:MS(t,e.parentElement):!1,Ap=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,uB=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function fB(t){return uB.has(t.tagName)||t.tabIndex!==-1}const fh=new WeakSet;function kw(t){return e=>{e.key==="Enter"&&t(e)}}function wg(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const dB=(t,e)=>{const n=t.currentTarget;if(!n)return;const r=kw(()=>{if(fh.has(n))return;wg(n,"down");const l=kw(()=>{wg(n,"up")}),u=()=>wg(n,"cancel");n.addEventListener("keyup",l,e),n.addEventListener("blur",u,e)});n.addEventListener("keydown",r,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),e)};function jw(t){return Ap(t)&&!OS()}function hB(t,e,n={}){const[r,l,u]=IS(t,n),g=y=>{const b=y.currentTarget;if(!jw(y))return;fh.add(b);const x=e(b,y),E=(O,M)=>{window.removeEventListener("pointerup",C),window.removeEventListener("pointercancel",N),fh.has(b)&&fh.delete(b),jw(O)&&typeof x=="function"&&x(O,{success:M})},C=O=>{E(O,b===window||b===document||n.useGlobalTarget||MS(b,O.target))},N=O=>{E(O,!1)};window.addEventListener("pointerup",C,l),window.addEventListener("pointercancel",N,l)};return r.forEach(y=>{(n.useGlobalTarget?window:y).addEventListener("pointerdown",g,l),vp(y)&&(y.addEventListener("focus",x=>dB(x,l)),!fB(y)&&!y.hasAttribute("tabindex")&&(y.tabIndex=0))}),u}function DS(t){return qE(t)&&"ownerSVGElement"in t}function gB(t){return DS(t)&&t.tagName==="svg"}const Si=t=>!!(t&&t.getVelocity),mB=[...TS,Vn,io],pB=t=>mB.find(AS(t)),Tp=R.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});class xB extends R.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const r=n.offsetParent,l=vp(r)&&r.offsetWidth||0,u=this.props.sizeRef.current;u.height=n.offsetHeight||0,u.width=n.offsetWidth||0,u.top=n.offsetTop,u.left=n.offsetLeft,u.right=l-u.width-u.left}return null}componentDidUpdate(){}render(){return this.props.children}}function yB({children:t,isPresent:e,anchorX:n,root:r}){const l=R.useId(),u=R.useRef(null),g=R.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:y}=R.useContext(Tp);return R.useInsertionEffect(()=>{const{width:b,height:x,top:E,left:C,right:N}=g.current;if(e||!u.current||!b||!x)return;const O=n==="left"?`left: ${C}`:`right: ${N}`;u.current.dataset.motionPopId=l;const M=document.createElement("style");y&&(M.nonce=y);const B=r??document.head;return B.appendChild(M),M.sheet&&M.sheet.insertRule(`
          [data-motion-pop-id="${l}"] {
            position: absolute !important;
            width: ${b}px !important;
            height: ${x}px !important;
            ${O}px !important;
            top: ${E}px !important;
          }
        `),()=>{B.removeChild(M),B.contains(M)&&B.removeChild(M)}},[e]),T.jsx(xB,{isPresent:e,childRef:u,sizeRef:g,children:R.cloneElement(t,{ref:u})})}const bB=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:l,presenceAffectsLayout:u,mode:g,anchorX:y,root:b})=>{const x=np(wB),E=R.useId();let C=!0,N=R.useMemo(()=>(C=!1,{id:E,initial:e,isPresent:n,custom:l,onExitComplete:O=>{x.set(O,!0);for(const M of x.values())if(!M)return;r&&r()},register:O=>(x.set(O,!1),()=>x.delete(O))}),[n,x,r]);return u&&C&&(N={...N}),R.useMemo(()=>{x.forEach((O,M)=>x.set(M,!1))},[n]),R.useEffect(()=>{!n&&!x.size&&r&&r()},[n]),g==="popLayout"&&(t=T.jsx(yB,{isPresent:n,anchorX:y,root:b,children:t})),T.jsx(Xh.Provider,{value:N,children:t})};function wB(){return new Map}function LS(t=!0){const e=R.useContext(Xh);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:l}=e,u=R.useId();R.useEffect(()=>{if(t)return l(u)},[t]);const g=R.useCallback(()=>t&&r&&r(u),[u,r,t]);return!n&&r?[!1,g]:[!0]}const rh=t=>t.key||"";function Bw(t){const e=[];return R.Children.forEach(t,n=>{R.isValidElement(n)&&e.push(n)}),e}const Uu=({children:t,custom:e,initial:n=!0,onExitComplete:r,presenceAffectsLayout:l=!0,mode:u="sync",propagate:g=!1,anchorX:y="left",root:b})=>{const[x,E]=LS(g),C=R.useMemo(()=>Bw(t),[t]),N=g&&!x?[]:C.map(rh),O=R.useRef(!0),M=R.useRef(C),B=np(()=>new Map),[j,V]=R.useState(C),[$,U]=R.useState(C);$E(()=>{O.current=!1,M.current=C;for(let ne=0;ne<$.length;ne++){const X=rh($[ne]);N.includes(X)?B.delete(X):B.get(X)!==!0&&B.set(X,!1)}},[$,N.length,N.join("-")]);const q=[];if(C!==j){let ne=[...C];for(let X=0;X<$.length;X++){const oe=$[X],ee=rh(oe);N.includes(ee)||(ne.splice(X,0,oe),q.push(oe))}return u==="wait"&&q.length&&(ne=q),U(Bw(ne)),V(C),null}const{forceRender:W}=R.useContext(tp);return T.jsx(T.Fragment,{children:$.map(ne=>{const X=rh(ne),oe=g&&!x?!1:C===$||N.includes(X),ee=()=>{if(B.has(X))B.set(X,!0);else return;let pe=!0;B.forEach(ke=>{ke||(pe=!1)}),pe&&(W==null||W(),U(M.current),g&&(E==null||E()),r&&r())};return T.jsx(bB,{isPresent:oe,initial:!O.current||n?void 0:!1,custom:e,presenceAffectsLayout:l,mode:u,root:b,onExitComplete:oe?void 0:ee,anchorX:y,children:ne},X)})})},kS=R.createContext({strict:!1}),Pw={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Nc={};for(const t in Pw)Nc[t]={isEnabled:e=>Pw[t].some(n=>!!e[n])};function vB(t){for(const e in t)Nc[e]={...Nc[e],...t[e]}}const EB=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Oh(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||EB.has(t)}let jS=t=>!Oh(t);function SB(t){typeof t=="function"&&(jS=e=>e.startsWith("on")?!Oh(e):t(e))}try{SB(require("@emotion/is-prop-valid").default)}catch{}function CB(t,e,n){const r={};for(const l in t)l==="values"&&typeof t.values=="object"||(jS(l)||n===!0&&Oh(l)||!e&&!Oh(l)||t.draggable&&l.startsWith("onDrag"))&&(r[l]=t[l]);return r}function AB(t){if(typeof Proxy>"u")return t;const e=new Map,n=(...r)=>t(...r);return new Proxy(n,{get:(r,l)=>l==="create"?t:(e.has(l)||e.set(l,t(l)),e.get(l))})}const Wh=R.createContext({});function Kh(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function mf(t){return typeof t=="string"||Array.isArray(t)}const _p=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Np=["initial",..._p];function Zh(t){return Kh(t.animate)||Np.some(e=>mf(t[e]))}function BS(t){return!!(Zh(t)||t.variants)}function TB(t,e){if(Zh(t)){const{initial:n,animate:r}=t;return{initial:n===!1||mf(n)?n:void 0,animate:mf(r)?r:void 0}}return t.inherit!==!1?e:{}}function _B(t){const{initial:e,animate:n}=TB(t,R.useContext(Wh));return R.useMemo(()=>({initial:e,animate:n}),[Uw(e),Uw(n)])}function Uw(t){return Array.isArray(t)?t.join(" "):t}const NB=Symbol.for("motionComponentSymbol");function cc(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function RB(t,e,n){return R.useCallback(r=>{r&&t.onMount&&t.onMount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):cc(n)&&(n.current=r))},[e])}const Rp=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),OB="framerAppearId",PS="data-"+Rp(OB),US=R.createContext({});function IB(t,e,n,r,l){var B,j;const{visualElement:u}=R.useContext(Wh),g=R.useContext(kS),y=R.useContext(Xh),b=R.useContext(Tp).reducedMotion,x=R.useRef(null);r=r||g.renderer,!x.current&&r&&(x.current=r(t,{visualState:e,parent:u,props:n,presenceContext:y,blockInitialAnimation:y?y.initial===!1:!1,reducedMotionConfig:b}));const E=x.current,C=R.useContext(US);E&&!E.projection&&l&&(E.type==="html"||E.type==="svg")&&MB(x.current,n,l,C);const N=R.useRef(!1);R.useInsertionEffect(()=>{E&&N.current&&E.update(n,y)});const O=n[PS],M=R.useRef(!!O&&!((B=window.MotionHandoffIsComplete)!=null&&B.call(window,O))&&((j=window.MotionHasOptimisedAnimation)==null?void 0:j.call(window,O)));return $E(()=>{E&&(N.current=!0,window.MotionIsMounted=!0,E.updateFeatures(),Cp.render(E.render),M.current&&E.animationState&&E.animationState.animateChanges())}),R.useEffect(()=>{E&&(!M.current&&E.animationState&&E.animationState.animateChanges(),M.current&&(queueMicrotask(()=>{var V;(V=window.MotionHandoffMarkAsComplete)==null||V.call(window,O)}),M.current=!1))}),E}function MB(t,e,n,r){const{layoutId:l,layout:u,drag:g,dragConstraints:y,layoutScroll:b,layoutRoot:x,layoutCrossfade:E}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:FS(t.parent)),t.projection.setOptions({layoutId:l,layout:u,alwaysMeasureLayout:!!g||y&&cc(y),visualElement:t,animationType:typeof u=="string"?u:"both",initialPromotionConfig:r,crossfade:E,layoutScroll:b,layoutRoot:x})}function FS(t){if(t)return t.options.allowProjection!==!1?t.projection:FS(t.parent)}function DB({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:r,Component:l}){t&&vB(t);function u(y,b){let x;const E={...R.useContext(Tp),...y,layoutId:LB(y)},{isStatic:C}=E,N=_B(y),O=r(y,C);if(!C&&ip){kB();const M=jB(E);x=M.MeasureLayout,N.visualElement=IB(l,O,E,e,M.ProjectionNode)}return T.jsxs(Wh.Provider,{value:N,children:[x&&N.visualElement?T.jsx(x,{visualElement:N.visualElement,...E}):null,n(l,y,RB(O,N.visualElement,b),O,C,N.visualElement)]})}u.displayName=`motion.${typeof l=="string"?l:`create(${l.displayName??l.name??""})`}`;const g=R.forwardRef(u);return g[NB]=l,g}function LB({layoutId:t}){const e=R.useContext(tp).id;return e&&t!==void 0?e+"-"+t:t}function kB(t,e){R.useContext(kS).strict}function jB(t){const{drag:e,layout:n}=Nc;if(!e&&!n)return{};const r={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const pf={};function BB(t){for(const e in t)pf[e]=t[e],fp(e)&&(pf[e].isCSSVariable=!0)}function VS(t,{layout:e,layoutId:n}){return Bc.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!pf[t]||t==="opacity")}const PB={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},UB=jc.length;function FB(t,e,n){let r="",l=!0;for(let u=0;u<UB;u++){const g=jc[u],y=t[g];if(y===void 0)continue;let b=!0;if(typeof y=="number"?b=y===(g.startsWith("scale")?1:0):b=parseFloat(y)===0,!b||n){const x=RS(y,Sp[g]);if(!b){l=!1;const E=PB[g]||g;r+=`${E}(${x}) `}n&&(e[g]=x)}}return r=r.trim(),n?r=n(e,l?"":r):l&&(r="none"),r}function Op(t,e,n){const{style:r,vars:l,transformOrigin:u}=t;let g=!1,y=!1;for(const b in e){const x=e[b];if(Bc.has(b)){g=!0;continue}else if(fp(b)){l[b]=x;continue}else{const E=RS(x,Sp[b]);b.startsWith("origin")?(y=!0,u[b]=E):r[b]=E}}if(e.transform||(g||n?r.transform=FB(e,t.transform,n):r.transform&&(r.transform="none")),y){const{originX:b="50%",originY:x="50%",originZ:E=0}=u;r.transformOrigin=`${b} ${x} ${E}`}}const Ip=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function zS(t,e,n){for(const r in e)!Si(e[r])&&!VS(r,n)&&(t[r]=e[r])}function VB({transformTemplate:t},e){return R.useMemo(()=>{const n=Ip();return Op(n,e,t),Object.assign({},n.vars,n.style)},[e])}function zB(t,e){const n=t.style||{},r={};return zS(r,n,t),Object.assign(r,VB(t,e)),r}function HB(t,e){const n={},r=zB(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}const $B={offset:"stroke-dashoffset",array:"stroke-dasharray"},GB={offset:"strokeDashoffset",array:"strokeDasharray"};function qB(t,e,n=1,r=0,l=!0){t.pathLength=1;const u=l?$B:GB;t[u.offset]=tt.transform(-r);const g=tt.transform(e),y=tt.transform(n);t[u.array]=`${g} ${y}`}function HS(t,{attrX:e,attrY:n,attrScale:r,pathLength:l,pathSpacing:u=1,pathOffset:g=0,...y},b,x,E){if(Op(t,y,x),b){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:C,style:N}=t;C.transform&&(N.transform=C.transform,delete C.transform),(N.transform||C.transformOrigin)&&(N.transformOrigin=C.transformOrigin??"50% 50%",delete C.transformOrigin),N.transform&&(N.transformBox=(E==null?void 0:E.transformBox)??"fill-box",delete C.transformBox),e!==void 0&&(C.x=e),n!==void 0&&(C.y=n),r!==void 0&&(C.scale=r),l!==void 0&&qB(C,l,u,g,!1)}const $S=()=>({...Ip(),attrs:{}}),GS=t=>typeof t=="string"&&t.toLowerCase()==="svg";function YB(t,e,n,r){const l=R.useMemo(()=>{const u=$S();return HS(u,e,GS(r),t.transformTemplate,t.style),{...u.attrs,style:{...u.style}}},[e]);if(t.style){const u={};zS(u,t.style,t),l.style={...u,...l.style}}return l}const XB=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Mp(t){return typeof t!="string"||t.includes("-")?!1:!!(XB.indexOf(t)>-1||/[A-Z]/u.test(t))}function WB(t=!1){return(n,r,l,{latestValues:u},g)=>{const b=(Mp(n)?YB:HB)(r,u,g,n),x=CB(r,typeof n=="string",t),E=n!==R.Fragment?{...x,...b,ref:l}:{},{children:C}=r,N=R.useMemo(()=>Si(C)?C.get():C,[C]);return R.createElement(n,{...E,children:N})}}function Fw(t){const e=[{},{}];return t==null||t.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function Dp(t,e,n,r){if(typeof e=="function"){const[l,u]=Fw(r);e=e(n!==void 0?n:t.custom,l,u)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[l,u]=Fw(r);e=e(n!==void 0?n:t.custom,l,u)}return e}function dh(t){return Si(t)?t.get():t}function KB({scrapeMotionValuesFromProps:t,createRenderState:e},n,r,l){return{latestValues:ZB(n,r,l,t),renderState:e()}}const qS=t=>(e,n)=>{const r=R.useContext(Wh),l=R.useContext(Xh),u=()=>KB(t,e,r,l);return n?u():np(u)};function ZB(t,e,n,r){const l={},u=r(t,{});for(const N in u)l[N]=dh(u[N]);let{initial:g,animate:y}=t;const b=Zh(t),x=BS(t);e&&x&&!b&&t.inherit!==!1&&(g===void 0&&(g=e.initial),y===void 0&&(y=e.animate));let E=n?n.initial===!1:!1;E=E||g===!1;const C=E?y:g;if(C&&typeof C!="boolean"&&!Kh(C)){const N=Array.isArray(C)?C:[C];for(let O=0;O<N.length;O++){const M=Dp(t,N[O]);if(M){const{transitionEnd:B,transition:j,...V}=M;for(const $ in V){let U=V[$];if(Array.isArray(U)){const q=E?U.length-1:0;U=U[q]}U!==null&&(l[$]=U)}for(const $ in B)l[$]=B[$]}}}return l}function Lp(t,e,n){var u;const{style:r}=t,l={};for(const g in r)(Si(r[g])||e.style&&Si(e.style[g])||VS(g,t)||((u=n==null?void 0:n.getValue(g))==null?void 0:u.liveStyle)!==void 0)&&(l[g]=r[g]);return l}const QB={useVisualState:qS({scrapeMotionValuesFromProps:Lp,createRenderState:Ip})};function YS(t,e,n){const r=Lp(t,e,n);for(const l in t)if(Si(t[l])||Si(e[l])){const u=jc.indexOf(l)!==-1?"attr"+l.charAt(0).toUpperCase()+l.substring(1):l;r[u]=t[l]}return r}const JB={useVisualState:qS({scrapeMotionValuesFromProps:YS,createRenderState:$S})};function eP(t,e){return function(r,{forwardMotionProps:l}={forwardMotionProps:!1}){const g={...Mp(r)?JB:QB,preloadedFeatures:t,useRender:WB(l),createVisualElement:e,Component:r};return DB(g)}}function xf(t,e,n){const r=t.getProps();return Dp(r,e,n!==void 0?n:r.custom,t)}const Em=t=>Array.isArray(t);function tP(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,_c(n))}function nP(t){return Em(t)?t[t.length-1]||0:t}function iP(t,e){const n=xf(t,e);let{transitionEnd:r={},transition:l={},...u}=n||{};u={...u,...r};for(const g in u){const y=nP(u[g]);tP(t,g,y)}}function sP(t){return!!(Si(t)&&t.add)}function Sm(t,e){const n=t.getValue("willChange");if(sP(n))return n.add(e);if(!n&&Jr.WillChange){const r=new Jr.WillChange("auto");t.addValue("willChange",r),r.add(e)}}function XS(t){return t.props[PS]}const rP=t=>t!==null;function aP(t,{repeat:e,repeatType:n="loop"},r){const l=t.filter(rP),u=e&&n!=="loop"&&e%2===1?0:l.length-1;return l[u]}const oP={type:"spring",stiffness:500,damping:25,restSpeed:10},lP=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),cP={type:"keyframes",duration:.8},uP={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},fP=(t,{keyframes:e})=>e.length>2?cP:Bc.has(t)?t.startsWith("scale")?lP(e[1]):oP:uP;function dP({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:l,repeat:u,repeatType:g,repeatDelay:y,from:b,elapsed:x,...E}){return!!Object.keys(E).length}const kp=(t,e,n,r={},l,u)=>g=>{const y=Ep(r,t)||{},b=y.delay||r.delay||0;let{elapsed:x=0}=r;x=x-mr(b);const E={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...y,delay:-x,onUpdate:N=>{e.set(N),y.onUpdate&&y.onUpdate(N)},onComplete:()=>{g(),y.onComplete&&y.onComplete()},name:t,motionValue:e,element:u?void 0:l};dP(y)||Object.assign(E,fP(t,E)),E.duration&&(E.duration=mr(E.duration)),E.repeatDelay&&(E.repeatDelay=mr(E.repeatDelay)),E.from!==void 0&&(E.keyframes[0]=E.from);let C=!1;if((E.type===!1||E.duration===0&&!E.repeatDelay)&&(E.duration=0,E.delay===0&&(C=!0)),(Jr.instantAnimations||Jr.skipAnimations)&&(C=!0,E.duration=0,E.delay=0),E.allowFlatten=!y.type&&!y.ease,C&&!u&&e.get()!==void 0){const N=aP(E.keyframes,y);if(N!==void 0){gn.update(()=>{E.onUpdate(N),E.onComplete()});return}}return y.isSync?new bp(E):new qj(E)};function hP({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function WS(t,e,{delay:n=0,transitionOverride:r,type:l}={}){let{transition:u=t.getDefaultTransition(),transitionEnd:g,...y}=e;r&&(u=r);const b=[],x=l&&t.animationState&&t.animationState.getState()[l];for(const E in y){const C=t.getValue(E,t.latestValues[E]??null),N=y[E];if(N===void 0||x&&hP(x,E))continue;const O={delay:n,...Ep(u||{},E)},M=C.get();if(M!==void 0&&!C.isAnimating&&!Array.isArray(N)&&N===M&&!O.velocity)continue;let B=!1;if(window.MotionHandoffAnimation){const V=XS(t);if(V){const $=window.MotionHandoffAnimation(V,E,gn);$!==null&&(O.startTime=$,B=!0)}}Sm(t,E),C.start(kp(E,C,N,t.shouldReduceMotion&&CS.has(E)?{type:!1}:O,t,B));const j=C.animation;j&&b.push(j)}return g&&Promise.all(b).then(()=>{gn.update(()=>{g&&iP(t,g)})}),b}function Cm(t,e,n={}){var b;const r=xf(t,e,n.type==="exit"?(b=t.presenceContext)==null?void 0:b.custom:void 0);let{transition:l=t.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(l=n.transitionOverride);const u=r?()=>Promise.all(WS(t,r,n)):()=>Promise.resolve(),g=t.variantChildren&&t.variantChildren.size?(x=0)=>{const{delayChildren:E=0,staggerChildren:C,staggerDirection:N}=l;return gP(t,e,x,E,C,N,n)}:()=>Promise.resolve(),{when:y}=l;if(y){const[x,E]=y==="beforeChildren"?[u,g]:[g,u];return x().then(()=>E())}else return Promise.all([u(),g(n.delay)])}function gP(t,e,n=0,r=0,l=0,u=1,g){const y=[],b=t.variantChildren.size,x=(b-1)*l,E=typeof r=="function",C=E?N=>r(N,b):u===1?(N=0)=>N*l:(N=0)=>x-N*l;return Array.from(t.variantChildren).sort(mP).forEach((N,O)=>{N.notify("AnimationStart",e),y.push(Cm(N,e,{...g,delay:n+(E?0:r)+C(O)}).then(()=>N.notify("AnimationComplete",e)))}),Promise.all(y)}function mP(t,e){return t.sortNodePosition(e)}function pP(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const l=e.map(u=>Cm(t,u,n));r=Promise.all(l)}else if(typeof e=="string")r=Cm(t,e,n);else{const l=typeof e=="function"?xf(t,e,n.custom):e;r=Promise.all(WS(t,l,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}function KS(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}const xP=Np.length;function ZS(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?ZS(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<xP;n++){const r=Np[n],l=t.props[r];(mf(l)||l===!1)&&(e[r]=l)}return e}const yP=[..._p].reverse(),bP=_p.length;function wP(t){return e=>Promise.all(e.map(({animation:n,options:r})=>pP(t,n,r)))}function vP(t){let e=wP(t),n=Vw(),r=!0;const l=b=>(x,E)=>{var N;const C=xf(t,E,b==="exit"?(N=t.presenceContext)==null?void 0:N.custom:void 0);if(C){const{transition:O,transitionEnd:M,...B}=C;x={...x,...B,...M}}return x};function u(b){e=b(t)}function g(b){const{props:x}=t,E=ZS(t.parent)||{},C=[],N=new Set;let O={},M=1/0;for(let j=0;j<bP;j++){const V=yP[j],$=n[V],U=x[V]!==void 0?x[V]:E[V],q=mf(U),W=V===b?$.isActive:null;W===!1&&(M=j);let ne=U===E[V]&&U!==x[V]&&q;if(ne&&r&&t.manuallyAnimateOnMount&&(ne=!1),$.protectedKeys={...O},!$.isActive&&W===null||!U&&!$.prevProp||Kh(U)||typeof U=="boolean")continue;const X=EP($.prevProp,U);let oe=X||V===b&&$.isActive&&!ne&&q||j>M&&q,ee=!1;const pe=Array.isArray(U)?U:[U];let ke=pe.reduce(l(V),{});W===!1&&(ke={});const{prevResolvedValues:be={}}=$,Ce={...be,...ke},Be=le=>{oe=!0,N.has(le)&&(ee=!0,N.delete(le)),$.needsAnimating[le]=!0;const Le=t.getValue(le);Le&&(Le.liveStyle=!1)};for(const le in Ce){const Le=ke[le],ze=be[le];if(O.hasOwnProperty(le))continue;let z=!1;Em(Le)&&Em(ze)?z=!KS(Le,ze):z=Le!==ze,z?Le!=null?Be(le):N.add(le):Le!==void 0&&N.has(le)?Be(le):$.protectedKeys[le]=!0}$.prevProp=U,$.prevResolvedValues=ke,$.isActive&&(O={...O,...ke}),r&&t.blockInitialAnimation&&(oe=!1),oe&&(!(ne&&X)||ee)&&C.push(...pe.map(le=>({animation:le,options:{type:V}})))}if(N.size){const j={};if(typeof x.initial!="boolean"){const V=xf(t,Array.isArray(x.initial)?x.initial[0]:x.initial);V&&V.transition&&(j.transition=V.transition)}N.forEach(V=>{const $=t.getBaseTarget(V),U=t.getValue(V);U&&(U.liveStyle=!0),j[V]=$??null}),C.push({animation:j})}let B=!!C.length;return r&&(x.initial===!1||x.initial===x.animate)&&!t.manuallyAnimateOnMount&&(B=!1),r=!1,B?e(C):Promise.resolve()}function y(b,x){var C;if(n[b].isActive===x)return Promise.resolve();(C=t.variantChildren)==null||C.forEach(N=>{var O;return(O=N.animationState)==null?void 0:O.setActive(b,x)}),n[b].isActive=x;const E=g(b);for(const N in n)n[N].protectedKeys={};return E}return{animateChanges:g,setActive:y,setAnimateFunction:u,getState:()=>n,reset:()=>{n=Vw(),r=!0}}}function EP(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!KS(e,t):!1}function Lo(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Vw(){return{animate:Lo(!0),whileInView:Lo(),whileHover:Lo(),whileTap:Lo(),whileDrag:Lo(),whileFocus:Lo(),exit:Lo()}}class ao{constructor(e){this.isMounted=!1,this.node=e}update(){}}class SP extends ao{constructor(e){super(e),e.animationState||(e.animationState=vP(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Kh(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)==null||e.call(this)}}let CP=0;class AP extends ao{constructor(){super(...arguments),this.id=CP++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const l=this.node.animationState.setActive("exit",!e);n&&!e&&l.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const TP={animation:{Feature:SP},exit:{Feature:AP}};function yf(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}function Df(t){return{point:{x:t.pageX,y:t.pageY}}}const _P=t=>e=>Ap(e)&&t(e,Df(e));function sf(t,e,n,r){return yf(t,e,_P(n),r)}function QS({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function NP({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function RP(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}const JS=1e-4,OP=1-JS,IP=1+JS,eC=.01,MP=0-eC,DP=0+eC;function Mi(t){return t.max-t.min}function LP(t,e,n){return Math.abs(t-e)<=n}function zw(t,e,n,r=.5){t.origin=r,t.originPoint=yn(e.min,e.max,t.origin),t.scale=Mi(n)/Mi(e),t.translate=yn(n.min,n.max,t.origin)-t.originPoint,(t.scale>=OP&&t.scale<=IP||isNaN(t.scale))&&(t.scale=1),(t.translate>=MP&&t.translate<=DP||isNaN(t.translate))&&(t.translate=0)}function rf(t,e,n,r){zw(t.x,e.x,n.x,r?r.originX:void 0),zw(t.y,e.y,n.y,r?r.originY:void 0)}function Hw(t,e,n){t.min=n.min+e.min,t.max=t.min+Mi(e)}function kP(t,e,n){Hw(t.x,e.x,n.x),Hw(t.y,e.y,n.y)}function $w(t,e,n){t.min=e.min-n.min,t.max=t.min+Mi(e)}function af(t,e,n){$w(t.x,e.x,n.x),$w(t.y,e.y,n.y)}const Gw=()=>({translate:0,scale:1,origin:0,originPoint:0}),uc=()=>({x:Gw(),y:Gw()}),qw=()=>({min:0,max:0}),Ln=()=>({x:qw(),y:qw()});function bs(t){return[t("x"),t("y")]}function vg(t){return t===void 0||t===1}function Am({scale:t,scaleX:e,scaleY:n}){return!vg(t)||!vg(e)||!vg(n)}function Bo(t){return Am(t)||tC(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function tC(t){return Yw(t.x)||Yw(t.y)}function Yw(t){return t&&t!=="0%"}function Ih(t,e,n){const r=t-n,l=e*r;return n+l}function Xw(t,e,n,r,l){return l!==void 0&&(t=Ih(t,l,r)),Ih(t,n,r)+e}function Tm(t,e=0,n=1,r,l){t.min=Xw(t.min,e,n,r,l),t.max=Xw(t.max,e,n,r,l)}function nC(t,{x:e,y:n}){Tm(t.x,e.translate,e.scale,e.originPoint),Tm(t.y,n.translate,n.scale,n.originPoint)}const Ww=.999999999999,Kw=1.0000000000001;function jP(t,e,n,r=!1){const l=n.length;if(!l)return;e.x=e.y=1;let u,g;for(let y=0;y<l;y++){u=n[y],g=u.projectionDelta;const{visualElement:b}=u.options;b&&b.props.style&&b.props.style.display==="contents"||(r&&u.options.layoutScroll&&u.scroll&&u!==u.root&&dc(t,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),g&&(e.x*=g.x.scale,e.y*=g.y.scale,nC(t,g)),r&&Bo(u.latestValues)&&dc(t,u.latestValues))}e.x<Kw&&e.x>Ww&&(e.x=1),e.y<Kw&&e.y>Ww&&(e.y=1)}function fc(t,e){t.min=t.min+e,t.max=t.max+e}function Zw(t,e,n,r,l=.5){const u=yn(t.min,t.max,l);Tm(t,e,n,u,r)}function dc(t,e){Zw(t.x,e.x,e.scaleX,e.scale,e.originX),Zw(t.y,e.y,e.scaleY,e.scale,e.originY)}function iC(t,e){return QS(RP(t.getBoundingClientRect(),e))}function BP(t,e,n){const r=iC(t,n),{scroll:l}=e;return l&&(fc(r.x,l.offset.x),fc(r.y,l.offset.y)),r}const sC=({current:t})=>t?t.ownerDocument.defaultView:null,Qw=(t,e)=>Math.abs(t-e);function PP(t,e){const n=Qw(t.x,e.x),r=Qw(t.y,e.y);return Math.sqrt(n**2+r**2)}class rC{constructor(e,n,{transformPagePoint:r,contextWindow:l=window,dragSnapToOrigin:u=!1,distanceThreshold:g=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const N=Sg(this.lastMoveEventInfo,this.history),O=this.startEvent!==null,M=PP(N.offset,{x:0,y:0})>=this.distanceThreshold;if(!O&&!M)return;const{point:B}=N,{timestamp:j}=di;this.history.push({...B,timestamp:j});const{onStart:V,onMove:$}=this.handlers;O||(V&&V(this.lastMoveEvent,N),this.startEvent=this.lastMoveEvent),$&&$(this.lastMoveEvent,N)},this.handlePointerMove=(N,O)=>{this.lastMoveEvent=N,this.lastMoveEventInfo=Eg(O,this.transformPagePoint),gn.update(this.updatePoint,!0)},this.handlePointerUp=(N,O)=>{this.end();const{onEnd:M,onSessionEnd:B,resumeAnimation:j}=this.handlers;if(this.dragSnapToOrigin&&j&&j(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const V=Sg(N.type==="pointercancel"?this.lastMoveEventInfo:Eg(O,this.transformPagePoint),this.history);this.startEvent&&M&&M(N,V),B&&B(N,V)},!Ap(e))return;this.dragSnapToOrigin=u,this.handlers=n,this.transformPagePoint=r,this.distanceThreshold=g,this.contextWindow=l||window;const y=Df(e),b=Eg(y,this.transformPagePoint),{point:x}=b,{timestamp:E}=di;this.history=[{...x,timestamp:E}];const{onSessionStart:C}=n;C&&C(e,Sg(b,this.history)),this.removeListeners=Of(sf(this.contextWindow,"pointermove",this.handlePointerMove),sf(this.contextWindow,"pointerup",this.handlePointerUp),sf(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),no(this.updatePoint)}}function Eg(t,e){return e?{point:e(t.point)}:t}function Jw(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Sg({point:t},e){return{point:t,delta:Jw(t,aC(e)),offset:Jw(t,UP(e)),velocity:FP(e,.1)}}function UP(t){return t[0]}function aC(t){return t[t.length-1]}function FP(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const l=aC(t);for(;n>=0&&(r=t[n],!(l.timestamp-r.timestamp>mr(e)));)n--;if(!r)return{x:0,y:0};const u=pr(l.timestamp-r.timestamp);if(u===0)return{x:0,y:0};const g={x:(l.x-r.x)/u,y:(l.y-r.y)/u};return g.x===1/0&&(g.x=0),g.y===1/0&&(g.y=0),g}function VP(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?yn(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?yn(n,t,r.max):Math.min(t,n)),t}function ev(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function zP(t,{top:e,left:n,bottom:r,right:l}){return{x:ev(t.x,n,l),y:ev(t.y,e,r)}}function tv(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function HP(t,e){return{x:tv(t.x,e.x),y:tv(t.y,e.y)}}function $P(t,e){let n=.5;const r=Mi(t),l=Mi(e);return l>r?n=df(e.min,e.max-r,t.min):r>l&&(n=df(t.min,t.max-l,e.min)),Qr(0,1,n)}function GP(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const _m=.35;function qP(t=_m){return t===!1?t=0:t===!0&&(t=_m),{x:nv(t,"left","right"),y:nv(t,"top","bottom")}}function nv(t,e,n){return{min:iv(t,e),max:iv(t,n)}}function iv(t,e){return typeof t=="number"?t:t[e]||0}const YP=new WeakMap;class XP{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Ln(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:n=!1,distanceThreshold:r}={}){const{presenceContext:l}=this.visualElement;if(l&&l.isPresent===!1)return;const u=C=>{const{dragSnapToOrigin:N}=this.getProps();N?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Df(C).point)},g=(C,N)=>{const{drag:O,dragPropagation:M,onDragStart:B}=this.getProps();if(O&&!M&&(this.openDragLock&&this.openDragLock(),this.openDragLock=lB(O),!this.openDragLock))return;this.latestPointerEvent=C,this.latestPanInfo=N,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),bs(V=>{let $=this.getAxisMotionValue(V).get()||0;if(xr.test($)){const{projection:U}=this.visualElement;if(U&&U.layout){const q=U.layout.layoutBox[V];q&&($=Mi(q)*(parseFloat($)/100))}}this.originPoint[V]=$}),B&&gn.postRender(()=>B(C,N)),Sm(this.visualElement,"transform");const{animationState:j}=this.visualElement;j&&j.setActive("whileDrag",!0)},y=(C,N)=>{this.latestPointerEvent=C,this.latestPanInfo=N;const{dragPropagation:O,dragDirectionLock:M,onDirectionLock:B,onDrag:j}=this.getProps();if(!O&&!this.openDragLock)return;const{offset:V}=N;if(M&&this.currentDirection===null){this.currentDirection=WP(V),this.currentDirection!==null&&B&&B(this.currentDirection);return}this.updateAxis("x",N.point,V),this.updateAxis("y",N.point,V),this.visualElement.render(),j&&j(C,N)},b=(C,N)=>{this.latestPointerEvent=C,this.latestPanInfo=N,this.stop(C,N),this.latestPointerEvent=null,this.latestPanInfo=null},x=()=>bs(C=>{var N;return this.getAnimationState(C)==="paused"&&((N=this.getAxisMotionValue(C).animation)==null?void 0:N.play())}),{dragSnapToOrigin:E}=this.getProps();this.panSession=new rC(e,{onSessionStart:u,onStart:g,onMove:y,onSessionEnd:b,resumeAnimation:x},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:E,distanceThreshold:r,contextWindow:sC(this.visualElement)})}stop(e,n){const r=e||this.latestPointerEvent,l=n||this.latestPanInfo,u=this.isDragging;if(this.cancel(),!u||!l||!r)return;const{velocity:g}=l;this.startAnimation(g);const{onDragEnd:y}=this.getProps();y&&gn.postRender(()=>y(r,l))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:l}=this.getProps();if(!r||!ah(e,l,this.currentDirection))return;const u=this.getAxisMotionValue(e);let g=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(g=VP(g,this.constraints[e],this.elastic[e])),u.set(g)}resolveConstraints(){var u;const{dragConstraints:e,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(u=this.visualElement.projection)==null?void 0:u.layout,l=this.constraints;e&&cc(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&r?this.constraints=zP(r.layoutBox,e):this.constraints=!1,this.elastic=qP(n),l!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&bs(g=>{this.constraints!==!1&&this.getAxisMotionValue(g)&&(this.constraints[g]=GP(r.layoutBox[g],this.constraints[g]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!cc(e))return!1;const r=e.current,{projection:l}=this.visualElement;if(!l||!l.layout)return!1;const u=BP(r,l.root,this.visualElement.getTransformPagePoint());let g=HP(l.layout.layoutBox,u);if(n){const y=n(NP(g));this.hasMutatedConstraints=!!y,y&&(g=QS(y))}return g}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:l,dragTransition:u,dragSnapToOrigin:g,onDragTransitionEnd:y}=this.getProps(),b=this.constraints||{},x=bs(E=>{if(!ah(E,n,this.currentDirection))return;let C=b&&b[E]||{};g&&(C={min:0,max:0});const N=l?200:1e6,O=l?40:1e7,M={type:"inertia",velocity:r?e[E]:0,bounceStiffness:N,bounceDamping:O,timeConstant:750,restDelta:1,restSpeed:10,...u,...C};return this.startAxisValueAnimation(E,M)});return Promise.all(x).then(y)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return Sm(this.visualElement,e),r.start(kp(e,r,0,n,this.visualElement,!1))}stopAnimation(){bs(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){bs(e=>{var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),l=r[n];return l||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){bs(n=>{const{drag:r}=this.getProps();if(!ah(n,r,this.currentDirection))return;const{projection:l}=this.visualElement,u=this.getAxisMotionValue(n);if(l&&l.layout){const{min:g,max:y}=l.layout.layoutBox[n];u.set(e[n]-yn(g,y,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!cc(n)||!r||!this.constraints)return;this.stopAnimation();const l={x:0,y:0};bs(g=>{const y=this.getAxisMotionValue(g);if(y&&this.constraints!==!1){const b=y.get();l[g]=$P({min:b,max:b},this.constraints[g])}});const{transformTemplate:u}=this.visualElement.getProps();this.visualElement.current.style.transform=u?u({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),bs(g=>{if(!ah(g,e,null))return;const y=this.getAxisMotionValue(g),{min:b,max:x}=this.constraints[g];y.set(yn(b,x,l[g]))})}addListeners(){if(!this.visualElement.current)return;YP.set(this.visualElement,this);const e=this.visualElement.current,n=sf(e,"pointerdown",b=>{const{drag:x,dragListener:E=!0}=this.getProps();x&&E&&this.start(b)}),r=()=>{const{dragConstraints:b}=this.getProps();cc(b)&&b.current&&(this.constraints=this.resolveRefConstraints())},{projection:l}=this.visualElement,u=l.addEventListener("measure",r);l&&!l.layout&&(l.root&&l.root.updateScroll(),l.updateLayout()),gn.read(r);const g=yf(window,"resize",()=>this.scalePositionWithinConstraints()),y=l.addEventListener("didUpdate",({delta:b,hasLayoutChanged:x})=>{this.isDragging&&x&&(bs(E=>{const C=this.getAxisMotionValue(E);C&&(this.originPoint[E]+=b[E].translate,C.set(C.get()+b[E].translate))}),this.visualElement.render())});return()=>{g(),n(),u(),y&&y()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:l=!1,dragConstraints:u=!1,dragElastic:g=_m,dragMomentum:y=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:l,dragConstraints:u,dragElastic:g,dragMomentum:y}}}function ah(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function WP(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class KP extends ao{constructor(e){super(e),this.removeGroupControls=vs,this.removeListeners=vs,this.controls=new XP(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||vs}unmount(){this.removeGroupControls(),this.removeListeners()}}const sv=t=>(e,n)=>{t&&gn.postRender(()=>t(e,n))};class ZP extends ao{constructor(){super(...arguments),this.removePointerDownListener=vs}onPointerDown(e){this.session=new rC(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:sC(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:l}=this.node.getProps();return{onSessionStart:sv(e),onStart:sv(n),onMove:r,onEnd:(u,g)=>{delete this.session,l&&gn.postRender(()=>l(u,g))}}}mount(){this.removePointerDownListener=sf(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const hh={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function rv(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Fu={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(tt.test(t))t=parseFloat(t);else return t;const n=rv(t,e.target.x),r=rv(t,e.target.y);return`${n}% ${r}%`}},QP={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,l=io.parse(t);if(l.length>5)return r;const u=io.createTransformer(t),g=typeof l[0]!="number"?1:0,y=n.x.scale*e.x,b=n.y.scale*e.y;l[0+g]/=y,l[1+g]/=b;const x=yn(y,b,.5);return typeof l[2+g]=="number"&&(l[2+g]/=x),typeof l[3+g]=="number"&&(l[3+g]/=x),u(l)}};let av=!1;class JP extends R.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:l}=this.props,{projection:u}=e;BB(eU),u&&(n.group&&n.group.add(u),r&&r.register&&l&&r.register(u),av&&u.root.didUpdate(),u.addEventListener("animationComplete",()=>{this.safeToRemove()}),u.setOptions({...u.options,onExitComplete:()=>this.safeToRemove()})),hh.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:l,isPresent:u}=this.props,{projection:g}=r;return g&&(g.isPresent=u,av=!0,l||e.layoutDependency!==n||n===void 0||e.isPresent!==u?g.willUpdate():this.safeToRemove(),e.isPresent!==u&&(u?g.promote():g.relegate()||gn.postRender(()=>{const y=g.getStack();(!y||!y.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),Cp.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:l}=e;l&&(l.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(l),r&&r.deregister&&r.deregister(l))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function oC(t){const[e,n]=LS(),r=R.useContext(tp);return T.jsx(JP,{...t,layoutGroup:r,switchLayoutGroup:R.useContext(US),isPresent:e,safeToRemove:n})}const eU={borderRadius:{...Fu,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Fu,borderTopRightRadius:Fu,borderBottomLeftRadius:Fu,borderBottomRightRadius:Fu,boxShadow:QP};function tU(t,e,n){const r=Si(t)?t:_c(t);return r.start(kp("",r,e,n)),r.animation}const nU=(t,e)=>t.depth-e.depth;class iU{constructor(){this.children=[],this.isDirty=!1}add(e){sp(this.children,e),this.isDirty=!0}remove(e){rp(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(nU),this.isDirty=!1,this.children.forEach(e)}}function sU(t,e){const n=qi.now(),r=({timestamp:l})=>{const u=l-n;u>=e&&(no(r),t(u-e))};return gn.setup(r,!0),()=>no(r)}const lC=["TopLeft","TopRight","BottomLeft","BottomRight"],rU=lC.length,ov=t=>typeof t=="string"?parseFloat(t):t,lv=t=>typeof t=="number"||tt.test(t);function aU(t,e,n,r,l,u){l?(t.opacity=yn(0,n.opacity??1,oU(r)),t.opacityExit=yn(e.opacity??1,0,lU(r))):u&&(t.opacity=yn(e.opacity??1,n.opacity??1,r));for(let g=0;g<rU;g++){const y=`border${lC[g]}Radius`;let b=cv(e,y),x=cv(n,y);if(b===void 0&&x===void 0)continue;b||(b=0),x||(x=0),b===0||x===0||lv(b)===lv(x)?(t[y]=Math.max(yn(ov(b),ov(x),r),0),(xr.test(x)||xr.test(b))&&(t[y]+="%")):t[y]=x}(e.rotate||n.rotate)&&(t.rotate=yn(e.rotate||0,n.rotate||0,r))}function cv(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const oU=cC(0,.5,tS),lU=cC(.5,.95,vs);function cC(t,e,n){return r=>r<t?0:r>e?1:n(df(t,e,r))}function uv(t,e){t.min=e.min,t.max=e.max}function ys(t,e){uv(t.x,e.x),uv(t.y,e.y)}function fv(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function dv(t,e,n,r,l){return t-=e,t=Ih(t,1/n,r),l!==void 0&&(t=Ih(t,1/l,r)),t}function cU(t,e=0,n=1,r=.5,l,u=t,g=t){if(xr.test(e)&&(e=parseFloat(e),e=yn(g.min,g.max,e/100)-g.min),typeof e!="number")return;let y=yn(u.min,u.max,r);t===u&&(y-=e),t.min=dv(t.min,e,n,y,l),t.max=dv(t.max,e,n,y,l)}function hv(t,e,[n,r,l],u,g){cU(t,e[n],e[r],e[l],e.scale,u,g)}const uU=["x","scaleX","originX"],fU=["y","scaleY","originY"];function gv(t,e,n,r){hv(t.x,e,uU,n?n.x:void 0,r?r.x:void 0),hv(t.y,e,fU,n?n.y:void 0,r?r.y:void 0)}function mv(t){return t.translate===0&&t.scale===1}function uC(t){return mv(t.x)&&mv(t.y)}function pv(t,e){return t.min===e.min&&t.max===e.max}function dU(t,e){return pv(t.x,e.x)&&pv(t.y,e.y)}function xv(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function fC(t,e){return xv(t.x,e.x)&&xv(t.y,e.y)}function yv(t){return Mi(t.x)/Mi(t.y)}function bv(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class hU{constructor(){this.members=[]}add(e){sp(this.members,e),e.scheduleRender()}remove(e){if(rp(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(l=>e===l);if(n===0)return!1;let r;for(let l=n;l>=0;l--){const u=this.members[l];if(u.isPresent!==!1){r=u;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:l}=e.options;l===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function gU(t,e,n){let r="";const l=t.x.translate/e.x,u=t.y.translate/e.y,g=(n==null?void 0:n.z)||0;if((l||u||g)&&(r=`translate3d(${l}px, ${u}px, ${g}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:x,rotate:E,rotateX:C,rotateY:N,skewX:O,skewY:M}=n;x&&(r=`perspective(${x}px) ${r}`),E&&(r+=`rotate(${E}deg) `),C&&(r+=`rotateX(${C}deg) `),N&&(r+=`rotateY(${N}deg) `),O&&(r+=`skewX(${O}deg) `),M&&(r+=`skewY(${M}deg) `)}const y=t.x.scale*e.x,b=t.y.scale*e.y;return(y!==1||b!==1)&&(r+=`scale(${y}, ${b})`),r||"none"}const Cg=["","X","Y","Z"],mU=1e3;let pU=0;function Ag(t,e,n,r){const{latestValues:l}=e;l[t]&&(n[t]=l[t],e.setStaticValue(t,0),r&&(r[t]=0))}function dC(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=XS(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:l,layoutId:u}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",gn,!(l||u))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&dC(r)}function hC({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:l}){return class{constructor(g={},y=e==null?void 0:e()){this.id=pU++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(bU),this.nodes.forEach(SU),this.nodes.forEach(CU),this.nodes.forEach(wU)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=g,this.root=y?y.root||y:this,this.path=y?[...y.path,y]:[],this.parent=y,this.depth=y?y.depth+1:0;for(let b=0;b<this.path.length;b++)this.path[b].shouldResetTransform=!0;this.root===this&&(this.nodes=new iU)}addEventListener(g,y){return this.eventHandlers.has(g)||this.eventHandlers.set(g,new lp),this.eventHandlers.get(g).add(y)}notifyListeners(g,...y){const b=this.eventHandlers.get(g);b&&b.notify(...y)}hasListeners(g){return this.eventHandlers.has(g)}mount(g){if(this.instance)return;this.isSVG=DS(g)&&!gB(g),this.instance=g;const{layoutId:y,layout:b,visualElement:x}=this.options;if(x&&!x.current&&x.mount(g),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(b||y)&&(this.isLayoutDirty=!0),t){let E,C=0;const N=()=>this.root.updateBlockedByResize=!1;gn.read(()=>{C=window.innerWidth}),t(g,()=>{const O=window.innerWidth;O!==C&&(C=O,this.root.updateBlockedByResize=!0,E&&E(),E=sU(N,250),hh.hasAnimatedSinceResize&&(hh.hasAnimatedSinceResize=!1,this.nodes.forEach(Ev)))})}y&&this.root.registerSharedNode(y,this),this.options.animate!==!1&&x&&(y||b)&&this.addEventListener("didUpdate",({delta:E,hasLayoutChanged:C,hasRelativeLayoutChanged:N,layout:O})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const M=this.options.transition||x.getDefaultTransition()||RU,{onLayoutAnimationStart:B,onLayoutAnimationComplete:j}=x.getProps(),V=!this.targetLayout||!fC(this.targetLayout,O),$=!C&&N;if(this.options.layoutRoot||this.resumeFrom||$||C&&(V||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const U={...Ep(M,"layout"),onPlay:B,onComplete:j};(x.shouldReduceMotion||this.options.layoutRoot)&&(U.delay=0,U.type=!1),this.startAnimation(U),this.setAnimationOrigin(E,$)}else C||Ev(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=O})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const g=this.getStack();g&&g.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),no(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(AU),this.animationId++)}getTransformTemplate(){const{visualElement:g}=this.options;return g&&g.getProps().transformTemplate}willUpdate(g=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&dC(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let E=0;E<this.path.length;E++){const C=this.path[E];C.shouldResetTransform=!0,C.updateScroll("snapshot"),C.options.layoutRoot&&C.willUpdate(!1)}const{layoutId:y,layout:b}=this.options;if(y===void 0&&!b)return;const x=this.getTransformTemplate();this.prevTransformTemplateValue=x?x(this.latestValues,""):void 0,this.updateSnapshot(),g&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(wv);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(vv);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(EU),this.nodes.forEach(xU),this.nodes.forEach(yU)):this.nodes.forEach(vv),this.clearAllSnapshots();const y=qi.now();di.delta=Qr(0,1e3/60,y-di.timestamp),di.timestamp=y,di.isProcessing=!0,mg.update.process(di),mg.preRender.process(di),mg.render.process(di),di.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Cp.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(vU),this.sharedNodes.forEach(TU)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,gn.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){gn.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Mi(this.snapshot.measuredBox.x)&&!Mi(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let b=0;b<this.path.length;b++)this.path[b].updateScroll();const g=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Ln(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:y}=this.options;y&&y.notify("LayoutMeasure",this.layout.layoutBox,g?g.layoutBox:void 0)}updateScroll(g="measure"){let y=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===g&&(y=!1),y&&this.instance){const b=r(this.instance);this.scroll={animationId:this.root.animationId,phase:g,isRoot:b,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:b}}}resetTransform(){if(!l)return;const g=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,y=this.projectionDelta&&!uC(this.projectionDelta),b=this.getTransformTemplate(),x=b?b(this.latestValues,""):void 0,E=x!==this.prevTransformTemplateValue;g&&this.instance&&(y||Bo(this.latestValues)||E)&&(l(this.instance,x),this.shouldResetTransform=!1,this.scheduleRender())}measure(g=!0){const y=this.measurePageBox();let b=this.removeElementScroll(y);return g&&(b=this.removeTransform(b)),OU(b),{animationId:this.root.animationId,measuredBox:y,layoutBox:b,latestValues:{},source:this.id}}measurePageBox(){var x;const{visualElement:g}=this.options;if(!g)return Ln();const y=g.measureViewportBox();if(!(((x=this.scroll)==null?void 0:x.wasRoot)||this.path.some(IU))){const{scroll:E}=this.root;E&&(fc(y.x,E.offset.x),fc(y.y,E.offset.y))}return y}removeElementScroll(g){var b;const y=Ln();if(ys(y,g),(b=this.scroll)!=null&&b.wasRoot)return y;for(let x=0;x<this.path.length;x++){const E=this.path[x],{scroll:C,options:N}=E;E!==this.root&&C&&N.layoutScroll&&(C.wasRoot&&ys(y,g),fc(y.x,C.offset.x),fc(y.y,C.offset.y))}return y}applyTransform(g,y=!1){const b=Ln();ys(b,g);for(let x=0;x<this.path.length;x++){const E=this.path[x];!y&&E.options.layoutScroll&&E.scroll&&E!==E.root&&dc(b,{x:-E.scroll.offset.x,y:-E.scroll.offset.y}),Bo(E.latestValues)&&dc(b,E.latestValues)}return Bo(this.latestValues)&&dc(b,this.latestValues),b}removeTransform(g){const y=Ln();ys(y,g);for(let b=0;b<this.path.length;b++){const x=this.path[b];if(!x.instance||!Bo(x.latestValues))continue;Am(x.latestValues)&&x.updateSnapshot();const E=Ln(),C=x.measurePageBox();ys(E,C),gv(y,x.latestValues,x.snapshot?x.snapshot.layoutBox:void 0,E)}return Bo(this.latestValues)&&gv(y,this.latestValues),y}setTargetDelta(g){this.targetDelta=g,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(g){this.options={...this.options,...g,crossfade:g.crossfade!==void 0?g.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==di.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(g=!1){var N;const y=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=y.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=y.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=y.isSharedProjectionDirty);const b=!!this.resumingFrom||this!==y;if(!(g||b&&this.isSharedProjectionDirty||this.isProjectionDirty||(N=this.parent)!=null&&N.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:E,layoutId:C}=this.options;if(!(!this.layout||!(E||C))){if(this.resolvedRelativeTargetAt=di.timestamp,!this.targetDelta&&!this.relativeTarget){const O=this.getClosestProjectingParent();O&&O.layout&&this.animationProgress!==1?(this.relativeParent=O,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ln(),this.relativeTargetOrigin=Ln(),af(this.relativeTargetOrigin,this.layout.layoutBox,O.layout.layoutBox),ys(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Ln(),this.targetWithTransforms=Ln()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),kP(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):ys(this.target,this.layout.layoutBox),nC(this.target,this.targetDelta)):ys(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const O=this.getClosestProjectingParent();O&&!!O.resumingFrom==!!this.resumingFrom&&!O.options.layoutScroll&&O.target&&this.animationProgress!==1?(this.relativeParent=O,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ln(),this.relativeTargetOrigin=Ln(),af(this.relativeTargetOrigin,this.target,O.target),ys(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||Am(this.parent.latestValues)||tC(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var M;const g=this.getLead(),y=!!this.resumingFrom||this!==g;let b=!0;if((this.isProjectionDirty||(M=this.parent)!=null&&M.isProjectionDirty)&&(b=!1),y&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(b=!1),this.resolvedRelativeTargetAt===di.timestamp&&(b=!1),b)return;const{layout:x,layoutId:E}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(x||E))return;ys(this.layoutCorrected,this.layout.layoutBox);const C=this.treeScale.x,N=this.treeScale.y;jP(this.layoutCorrected,this.treeScale,this.path,y),g.layout&&!g.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(g.target=g.layout.layoutBox,g.targetWithTransforms=Ln());const{target:O}=g;if(!O){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(fv(this.prevProjectionDelta.x,this.projectionDelta.x),fv(this.prevProjectionDelta.y,this.projectionDelta.y)),rf(this.projectionDelta,this.layoutCorrected,O,this.latestValues),(this.treeScale.x!==C||this.treeScale.y!==N||!bv(this.projectionDelta.x,this.prevProjectionDelta.x)||!bv(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",O))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(g=!0){var y;if((y=this.options.visualElement)==null||y.scheduleRender(),g){const b=this.getStack();b&&b.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=uc(),this.projectionDelta=uc(),this.projectionDeltaWithTransform=uc()}setAnimationOrigin(g,y=!1){const b=this.snapshot,x=b?b.latestValues:{},E={...this.latestValues},C=uc();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!y;const N=Ln(),O=b?b.source:void 0,M=this.layout?this.layout.source:void 0,B=O!==M,j=this.getStack(),V=!j||j.members.length<=1,$=!!(B&&!V&&this.options.crossfade===!0&&!this.path.some(NU));this.animationProgress=0;let U;this.mixTargetDelta=q=>{const W=q/1e3;Sv(C.x,g.x,W),Sv(C.y,g.y,W),this.setTargetDelta(C),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(af(N,this.layout.layoutBox,this.relativeParent.layout.layoutBox),_U(this.relativeTarget,this.relativeTargetOrigin,N,W),U&&dU(this.relativeTarget,U)&&(this.isProjectionDirty=!1),U||(U=Ln()),ys(U,this.relativeTarget)),B&&(this.animationValues=E,aU(E,x,this.latestValues,W,$,V)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=W},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(g){var y,b,x;this.notifyListeners("animationStart"),(y=this.currentAnimation)==null||y.stop(),(x=(b=this.resumingFrom)==null?void 0:b.currentAnimation)==null||x.stop(),this.pendingAnimation&&(no(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=gn.update(()=>{hh.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=_c(0)),this.currentAnimation=tU(this.motionValue,[0,1e3],{...g,velocity:0,isSync:!0,onUpdate:E=>{this.mixTargetDelta(E),g.onUpdate&&g.onUpdate(E)},onStop:()=>{},onComplete:()=>{g.onComplete&&g.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const g=this.getStack();g&&g.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(mU),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const g=this.getLead();let{targetWithTransforms:y,target:b,layout:x,latestValues:E}=g;if(!(!y||!b||!x)){if(this!==g&&this.layout&&x&&gC(this.options.animationType,this.layout.layoutBox,x.layoutBox)){b=this.target||Ln();const C=Mi(this.layout.layoutBox.x);b.x.min=g.target.x.min,b.x.max=b.x.min+C;const N=Mi(this.layout.layoutBox.y);b.y.min=g.target.y.min,b.y.max=b.y.min+N}ys(y,b),dc(y,E),rf(this.projectionDeltaWithTransform,this.layoutCorrected,y,E)}}registerSharedNode(g,y){this.sharedNodes.has(g)||this.sharedNodes.set(g,new hU),this.sharedNodes.get(g).add(y);const x=y.options.initialPromotionConfig;y.promote({transition:x?x.transition:void 0,preserveFollowOpacity:x&&x.shouldPreserveFollowOpacity?x.shouldPreserveFollowOpacity(y):void 0})}isLead(){const g=this.getStack();return g?g.lead===this:!0}getLead(){var y;const{layoutId:g}=this.options;return g?((y=this.getStack())==null?void 0:y.lead)||this:this}getPrevLead(){var y;const{layoutId:g}=this.options;return g?(y=this.getStack())==null?void 0:y.prevLead:void 0}getStack(){const{layoutId:g}=this.options;if(g)return this.root.sharedNodes.get(g)}promote({needsReset:g,transition:y,preserveFollowOpacity:b}={}){const x=this.getStack();x&&x.promote(this,b),g&&(this.projectionDelta=void 0,this.needsReset=!0),y&&this.setOptions({transition:y})}relegate(){const g=this.getStack();return g?g.relegate(this):!1}resetSkewAndRotation(){const{visualElement:g}=this.options;if(!g)return;let y=!1;const{latestValues:b}=g;if((b.z||b.rotate||b.rotateX||b.rotateY||b.rotateZ||b.skewX||b.skewY)&&(y=!0),!y)return;const x={};b.z&&Ag("z",g,x,this.animationValues);for(let E=0;E<Cg.length;E++)Ag(`rotate${Cg[E]}`,g,x,this.animationValues),Ag(`skew${Cg[E]}`,g,x,this.animationValues);g.render();for(const E in x)g.setStaticValue(E,x[E]),this.animationValues&&(this.animationValues[E]=x[E]);g.scheduleRender()}applyProjectionStyles(g,y){if(!this.instance||this.isSVG)return;if(!this.isVisible){g.visibility="hidden";return}const b=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,g.visibility="",g.opacity="",g.pointerEvents=dh(y==null?void 0:y.pointerEvents)||"",g.transform=b?b(this.latestValues,""):"none";return}const x=this.getLead();if(!this.projectionDelta||!this.layout||!x.target){this.options.layoutId&&(g.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,g.pointerEvents=dh(y==null?void 0:y.pointerEvents)||""),this.hasProjected&&!Bo(this.latestValues)&&(g.transform=b?b({},""):"none",this.hasProjected=!1);return}g.visibility="";const E=x.animationValues||x.latestValues;this.applyTransformsToTarget();let C=gU(this.projectionDeltaWithTransform,this.treeScale,E);b&&(C=b(E,C)),g.transform=C;const{x:N,y:O}=this.projectionDelta;g.transformOrigin=`${N.origin*100}% ${O.origin*100}% 0`,x.animationValues?g.opacity=x===this?E.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:E.opacityExit:g.opacity=x===this?E.opacity!==void 0?E.opacity:"":E.opacityExit!==void 0?E.opacityExit:0;for(const M in pf){if(E[M]===void 0)continue;const{correct:B,applyTo:j,isCSSVariable:V}=pf[M],$=C==="none"?E[M]:B(E[M],x);if(j){const U=j.length;for(let q=0;q<U;q++)g[j[q]]=$}else V?this.options.visualElement.renderState.vars[M]=$:g[M]=$}this.options.layoutId&&(g.pointerEvents=x===this?dh(y==null?void 0:y.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(g=>{var y;return(y=g.currentAnimation)==null?void 0:y.stop()}),this.root.nodes.forEach(wv),this.root.sharedNodes.clear()}}}function xU(t){t.updateLayout()}function yU(t){var n;const e=((n=t.resumeFrom)==null?void 0:n.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:l}=t.layout,{animationType:u}=t.options,g=e.source!==t.layout.source;u==="size"?bs(C=>{const N=g?e.measuredBox[C]:e.layoutBox[C],O=Mi(N);N.min=r[C].min,N.max=N.min+O}):gC(u,e.layoutBox,r)&&bs(C=>{const N=g?e.measuredBox[C]:e.layoutBox[C],O=Mi(r[C]);N.max=N.min+O,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[C].max=t.relativeTarget[C].min+O)});const y=uc();rf(y,r,e.layoutBox);const b=uc();g?rf(b,t.applyTransform(l,!0),e.measuredBox):rf(b,r,e.layoutBox);const x=!uC(y);let E=!1;if(!t.resumeFrom){const C=t.getClosestProjectingParent();if(C&&!C.resumeFrom){const{snapshot:N,layout:O}=C;if(N&&O){const M=Ln();af(M,e.layoutBox,N.layoutBox);const B=Ln();af(B,r,O.layoutBox),fC(M,B)||(E=!0),C.options.layoutRoot&&(t.relativeTarget=B,t.relativeTargetOrigin=M,t.relativeParent=C)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:e,delta:b,layoutDelta:y,hasLayoutChanged:x,hasRelativeLayoutChanged:E})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function bU(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function wU(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function vU(t){t.clearSnapshot()}function wv(t){t.clearMeasurements()}function vv(t){t.isLayoutDirty=!1}function EU(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function Ev(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function SU(t){t.resolveTargetDelta()}function CU(t){t.calcProjection()}function AU(t){t.resetSkewAndRotation()}function TU(t){t.removeLeadSnapshot()}function Sv(t,e,n){t.translate=yn(e.translate,0,n),t.scale=yn(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function Cv(t,e,n,r){t.min=yn(e.min,n.min,r),t.max=yn(e.max,n.max,r)}function _U(t,e,n,r){Cv(t.x,e.x,n.x,r),Cv(t.y,e.y,n.y,r)}function NU(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const RU={duration:.45,ease:[.4,0,.1,1]},Av=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),Tv=Av("applewebkit/")&&!Av("chrome/")?Math.round:vs;function _v(t){t.min=Tv(t.min),t.max=Tv(t.max)}function OU(t){_v(t.x),_v(t.y)}function gC(t,e,n){return t==="position"||t==="preserve-aspect"&&!LP(yv(e),yv(n),.2)}function IU(t){var e;return t!==t.root&&((e=t.scroll)==null?void 0:e.wasRoot)}const MU=hC({attachResizeListener:(t,e)=>yf(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Tg={current:void 0},mC=hC({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Tg.current){const t=new MU({});t.mount(window),t.setOptions({layoutScroll:!0}),Tg.current=t}return Tg.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),DU={pan:{Feature:ZP},drag:{Feature:KP,ProjectionNode:mC,MeasureLayout:oC}};function Nv(t,e,n){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",n==="Start");const l="onHover"+n,u=r[l];u&&gn.postRender(()=>u(e,Df(e)))}class LU extends ao{mount(){const{current:e}=this.node;e&&(this.unmount=cB(e,(n,r)=>(Nv(this.node,r,"Start"),l=>Nv(this.node,l,"End"))))}unmount(){}}class kU extends ao{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Of(yf(this.node.current,"focus",()=>this.onFocus()),yf(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function Rv(t,e,n){const{props:r}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",n==="Start");const l="onTap"+(n==="End"?"":n),u=r[l];u&&gn.postRender(()=>u(e,Df(e)))}class jU extends ao{mount(){const{current:e}=this.node;e&&(this.unmount=hB(e,(n,r)=>(Rv(this.node,r,"Start"),(l,{success:u})=>Rv(this.node,l,u?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Nm=new WeakMap,_g=new WeakMap,BU=t=>{const e=Nm.get(t.target);e&&e(t)},PU=t=>{t.forEach(BU)};function UU({root:t,...e}){const n=t||document;_g.has(n)||_g.set(n,{});const r=_g.get(n),l=JSON.stringify(e);return r[l]||(r[l]=new IntersectionObserver(PU,{root:t,...e})),r[l]}function FU(t,e,n){const r=UU(e);return Nm.set(t,n),r.observe(t),()=>{Nm.delete(t),r.unobserve(t)}}const VU={some:0,all:1};class zU extends ao{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:l="some",once:u}=e,g={root:n?n.current:void 0,rootMargin:r,threshold:typeof l=="number"?l:VU[l]},y=b=>{const{isIntersecting:x}=b;if(this.isInView===x||(this.isInView=x,u&&!x&&this.hasEnteredView))return;x&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",x);const{onViewportEnter:E,onViewportLeave:C}=this.node.getProps(),N=x?E:C;N&&N(b)};return FU(this.node.current,g,y)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(HU(e,n))&&this.startObserver()}unmount(){}}function HU({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const $U={inView:{Feature:zU},tap:{Feature:jU},focus:{Feature:kU},hover:{Feature:LU}},GU={layout:{ProjectionNode:mC,MeasureLayout:oC}},Rm={current:null},pC={current:!1};function qU(){if(pC.current=!0,!!ip)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>Rm.current=t.matches;t.addEventListener("change",e),e()}else Rm.current=!1}const YU=new WeakMap;function XU(t,e,n){for(const r in e){const l=e[r],u=n[r];if(Si(l))t.addValue(r,l);else if(Si(u))t.addValue(r,_c(l,{owner:t}));else if(u!==l)if(t.hasValue(r)){const g=t.getValue(r);g.liveStyle===!0?g.jump(l):g.hasAnimated||g.set(l)}else{const g=t.getStaticValue(r);t.addValue(r,_c(g!==void 0?g:l,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const Ov=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class WU{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:l,blockInitialAnimation:u,visualState:g},y={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=wp,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const N=qi.now();this.renderScheduledAt<N&&(this.renderScheduledAt=N,gn.render(this.render,!1,!0))};const{latestValues:b,renderState:x}=g;this.latestValues=b,this.baseTarget={...b},this.initialValues=n.initial?{...b}:{},this.renderState=x,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=l,this.options=y,this.blockInitialAnimation=!!u,this.isControllingVariants=Zh(n),this.isVariantNode=BS(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:E,...C}=this.scrapeMotionValuesFromProps(n,{},this);for(const N in C){const O=C[N];b[N]!==void 0&&Si(O)&&O.set(b[N],!1)}}mount(e){this.current=e,YU.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),pC.current||qU(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Rm.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),no(this.notifyUpdate),no(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=Bc.has(e);r&&this.onBindTransform&&this.onBindTransform();const l=n.on("change",y=>{this.latestValues[e]=y,this.props.onUpdate&&gn.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),u=n.on("renderRequest",this.scheduleRender);let g;window.MotionCheckAppearSync&&(g=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{l(),u(),g&&g(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Nc){const n=Nc[e];if(!n)continue;const{isEnabled:r,Feature:l}=n;if(!this.features[e]&&l&&r(this.props)&&(this.features[e]=new l(this)),this.features[e]){const u=this.features[e];u.isMounted?u.update():(u.mount(),u.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Ln()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<Ov.length;r++){const l=Ov[r];this.propEventSubscriptions[l]&&(this.propEventSubscriptions[l](),delete this.propEventSubscriptions[l]);const u="on"+l,g=e[u];g&&(this.propEventSubscriptions[l]=this.on(l,g))}this.prevMotionValues=XU(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=_c(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){let r=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return r!=null&&(typeof r=="string"&&(GE(r)||YE(r))?r=parseFloat(r):!pB(r)&&io.test(n)&&(r=NS(e,n)),this.setBaseTarget(e,Si(r)?r.get():r)),Si(r)?r.get():r}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var u;const{initial:n}=this.props;let r;if(typeof n=="string"||typeof n=="object"){const g=Dp(this.props,n,(u=this.presenceContext)==null?void 0:u.custom);g&&(r=g[e])}if(n&&r!==void 0)return r;const l=this.getBaseTargetFromProps(this.props,e);return l!==void 0&&!Si(l)?l:this.initialValues[e]!==void 0&&r===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new lp),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class xC extends WU{constructor(){super(...arguments),this.KeyframeResolver=sB}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Si(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function yC(t,{style:e,vars:n},r,l){const u=t.style;let g;for(g in e)u[g]=e[g];l==null||l.applyProjectionStyles(u,r);for(g in n)u.setProperty(g,n[g])}function KU(t){return window.getComputedStyle(t)}class ZU extends xC{constructor(){super(...arguments),this.type="html",this.renderInstance=yC}readValueFromInstance(e,n){var r;if(Bc.has(n))return(r=this.projection)!=null&&r.isProjecting?pm(n):Sj(e,n);{const l=KU(e),u=(fp(n)?l.getPropertyValue(n):l[n])||0;return typeof u=="string"?u.trim():u}}measureInstanceViewportBox(e,{transformPagePoint:n}){return iC(e,n)}build(e,n,r){Op(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return Lp(e,n,r)}}const bC=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function QU(t,e,n,r){yC(t,e,void 0,r);for(const l in e.attrs)t.setAttribute(bC.has(l)?l:Rp(l),e.attrs[l])}class JU extends xC{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Ln}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(Bc.has(n)){const r=_S(n);return r&&r.default||0}return n=bC.has(n)?n:Rp(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return YS(e,n,r)}build(e,n,r){HS(e,n,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(e,n,r,l){QU(e,n,r,l)}mount(e){this.isSVGTag=GS(e.tagName),super.mount(e)}}const eF=(t,e)=>Mp(t)?new JU(e):new ZU(e,{allowProjection:t!==R.Fragment}),tF=eP({...TP,...$U,...DU,...GU},eF),Gi=AB(tF);function nF(t){return hi({queryKey:["review_count"],queryFn:async()=>{const[{data:e,error:n},{data:r,error:l}]=await Promise.all([je.from("applications").select("id",{count:"exact"}).eq("status","pending"),je.from("application_changes").select("id",{count:"exact"}).eq("status","pending")]);if(n||l)throw new Error((n==null?void 0:n.message)||(l==null?void 0:l.message)||"Failed to count reviews");return((e==null?void 0:e.length)||0)+((r==null?void 0:r.length)||0)},staleTime:1e4,enabled:t,initialData:0})}function iF({label:t,icon:e,color:n,onClick:r,badge:l}){return T.jsxs(Gi.button,{onClick:r,className:`relative ${n} text-white font-bold text-lg p-8
                  flex flex-col items-center gap-3 rounded-2xl shadow-lg
                  w-full min-w-[220px] min-h-[150px] transition-all`,whileHover:{scale:1.05},whileTap:{scale:.97},style:{boxShadow:"0 2px 20px 0 rgba(102,84,179,0.08)"},children:[e,T.jsx("span",{className:"mt-2",children:t}),l?T.jsx("span",{className:"absolute top-2 right-4 bg-red-500 text-white rounded-full text-base font-extrabold px-4 py-2 shadow-lg border-2 border-white",style:{minWidth:36,minHeight:36,display:"flex",alignItems:"center",justifyContent:"center",fontSize:"1.25rem",lineHeight:1},children:l}):null]})}function sF(){const{t}=kn(),e=Ss(),{user:n}=_f(),r=(n==null?void 0:n.role)==="admin",{data:l}=nF(r),u=[{label:t("addNewStudent"),icon:T.jsx(BD,{className:"w-12 h-12"}),color:"bg-green-500 hover:bg-green-600",onClick:()=>e("/admissions")},{label:t("takeAttendance"),icon:T.jsx(xD,{className:"w-12 h-12"}),color:"bg-blue-500 hover:bg-blue-600",onClick:()=>e("/attendance")},{label:t("studentsActive"),icon:T.jsx(Kb,{className:"w-14 h-14"}),color:"bg-[#6654b3] hover:bg-[#5542a0]",onClick:()=>e("/myschool/students")},{label:t("studentsInactive"),icon:T.jsx(Kb,{className:"w-14 h-14"}),color:"bg-pink-400 hover:bg-pink-500",onClick:()=>e("/myschool/students/inactive")},{label:t("courses"),icon:T.jsx(fD,{className:"w-12 h-12"}),color:"bg-teal-500 hover:bg-teal-600",onClick:()=>e("/myschool/courses")},...r?[{label:t("review"),icon:T.jsx(lD,{className:"w-12 h-12"}),color:"bg-yellow-500 hover:bg-yellow-600",onClick:()=>e("/review"),badge:l&&l>0?l:null}]:[]];return T.jsxs("main",{className:"min-h-screen flex flex-col bg-[#f6f6f6]",children:[T.jsx("div",{className:"flex flex-col items-center pt-10 pb-6",children:T.jsx("p",{className:"text-lg text-[#6654b3] font-medium mb-6 text-center",children:t("homepageSlogan")})}),T.jsx("div",{className:"flex-1 flex flex-col items-center w-full",children:T.jsx("div",{className:"w-full max-w-5xl grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-7 p-5 sm:p-6",children:u.map(g=>T.jsx(iF,{...g},g.label))})})]})}function rF(t,e){switch(t.type){case"new_application":return e("newApplication",{name:t.payload.name||`${t.payload.first} ${t.payload.last}`});case"course_limit":return e("courseLimitReached",{name:t.payload.student_name});case"edit_request":return e("editRequestFrom",{name:t.payload.student_name});default:return e(t.type.replace(/_/g,""),t.payload)||t.type.replace(/_/g," ")}}function Iv(t){const e=new Set,n=[];for(const r of t){const l=`${r.type}_${r.payload.application_id??""}_${r.created_at}`;e.has(l)||(e.add(l),n.push(r))}return n}function aF(){const{t}=kn(),e=Ss(),[n,r]=R.useState([]),[l,u]=R.useState(!0),g=R.useRef(null);R.useEffect(()=>{(async()=>{const{data:E,error:C}=await je.from("notifications").select("*").order("created_at",{ascending:!1}).limit(200);C?console.error(C):r(Iv(E)),u(!1)})()},[]),R.useEffect(()=>{if(!g.current)return g.current=je.channel("notifications_live").on("postgres_changes",{event:"INSERT",schema:"public",table:"notifications"},({new:E})=>r(C=>Iv([E,...C]))).subscribe(),()=>{g.current&&(je.removeChannel(g.current),g.current=null)}},[]);const y=async(E,C)=>{C==null||C.stopPropagation(),!E.read&&(r(N=>N.map(O=>O.id===E.id?{...O,read:!0}:O)),await je.from("notifications").update({read:!0}).eq("id",E.id))},b=E=>{switch(E.type){case"new_application":e(`/admissions?view=review&app=${E.payload.application_id}`);break;case"course_limit":case"edit_request":e(`/myschool/student/${E.student_id}`);break;default:return}y(E)};if(l)return T.jsx("p",{className:"p-8",children:t("loading")});const x=n.filter(E=>!E.read).length;return T.jsxs("div",{className:"p-4 sm:p-8 space-y-6 max-w-3xl mx-auto",children:[T.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[T.jsx(lE,{className:"w-6 h-6 text-[#6654b3]"}),T.jsxs("h1",{className:"text-2xl font-bold text-[#6654b3]",children:[t("notifications")," ",x>0&&T.jsxs("span",{className:"text-[#ec4899]",children:["(",x,")"]})]})]}),n.length===0?T.jsx("p",{className:"text-gray-600",children:t("noNotifications")}):T.jsx("ul",{className:"space-y-4",children:n.map(E=>T.jsx("li",{onClick:()=>b(E),className:`border rounded-xl p-4 cursor-pointer hover:bg-[#ede9fe] transition
                          ${E.read?"bg-white":"bg-purple-50"}`,children:T.jsxs("div",{className:"flex justify-between items-start gap-3",children:[T.jsxs("div",{children:[T.jsx("p",{className:"font-medium",children:rF(E,t)}),T.jsx("p",{className:"text-xs text-gray-500",children:new Date(E.created_at).toLocaleString()})]}),!E.read&&T.jsxs("button",{type:"button",onClick:C=>y(E,C),className:"text-[#6654b3] hover:underline text-xs flex items-center gap-1",children:[T.jsx(mD,{className:"w-4 h-4"})," ",t("markRead")]})]})},E.id))})]})}const oF=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],wC=[];for(let t=6;t<23;++t)wC.push(`${String(t).padStart(2,"0")}:00-${String(t+1).padStart(2,"0")}:00`);function lF(){return hi({queryKey:["courses_full"],queryFn:async()=>{const{data:t,error:e}=await je.from("courses").select("id,name,weekdays,times,capacity").order("name");if(e)throw new Error(e.message);return t||[]},staleTime:12e4})}function cF(){return hi({queryKey:["courseFilters"],queryFn:async()=>{const{data:t,error:e}=await je.from("courses").select("id,name,weekdays,times").order("name");if(e)throw new Error(e.message);return t||[]},staleTime:12e4})}function uF(t,e,n){return hi({queryKey:["students",t,e,n],queryFn:async()=>{if(!t)return[];const{data:r,error:l}=await je.from("students").select("id,first_name,last_name,nick_name,courses");if(l)throw new Error(l.message);return r?e?n?r.filter(u=>{var y,b;return(((b=(y=u.courses)==null?void 0:y[t])==null?void 0:b[e])||[]).some(x=>x===n||x.startsWith(n.split("-")[0]))}):r.filter(u=>{var g,y;return(y=(g=u.courses)==null?void 0:g[t])==null?void 0:y[e]}):r.filter(u=>{var g;return(g=u.courses)==null?void 0:g[t]}):[]},enabled:!!t,staleTime:3e4})}function fF(){const{t}=kn(),[e,n]=R.useState("check"),[r,l]=R.useState(""),[u,g]=R.useState(""),[y,b]=R.useState(""),{data:x=[],isLoading:E}=cF(),{data:C=[],isLoading:N}=uF(r,u,y);return T.jsx("div",{className:"min-h-screen bg-[#f6f6f6] flex flex-col items-center py-8 px-2",children:T.jsxs("div",{className:"w-full max-w-5xl mx-auto",children:[T.jsxs("div",{className:"flex mb-6 border-b border-purple-200",children:[T.jsx("button",{className:`px-5 py-3 font-bold rounded-t-2xl transition ${e==="check"?"bg-white text-[#6654b3] border-x border-t border-purple-200 border-b-0 shadow":"text-gray-400 hover:text-[#6654b3]"}`,onClick:()=>n("check"),children:t("checkCourses")}),T.jsx("button",{className:`ml-3 px-5 py-3 font-bold rounded-t-2xl transition ${e==="manage"?"bg-white text-[#6654b3] border-x border-t border-purple-200 border-b-0 shadow":"text-gray-400 hover:text-[#6654b3]"}`,onClick:()=>n("manage"),children:t("manageCourses")})]}),e==="check"?T.jsx(dF,{courseFilters:x,loadingCourses:E,courseId:r,setCourseId:l,day:u,setDay:g,time:y,setTime:b,filteredStudents:C,loadingStudents:N}):T.jsx(hF,{})]})})}function dF({courseFilters:t,courseId:e,setCourseId:n,day:r,setDay:l,time:u,setTime:g,filteredStudents:y,loadingStudents:b}){const{t:x}=kn(),E=Ss(),C=t==null?void 0:t.find(M=>M.id===e),N=(C==null?void 0:C.weekdays)||[];let O=[];if(C&&r&&C.times&&C.times[r]){const B=(C.times[r]||[]).map(j=>{if(j.includes("-"))return j;const V=Number(j.slice(0,2));return!isNaN(V)&&V>=6&&V<23?`${j}-${String(V+1).padStart(2,"0")}:00`:j});O=Array.from(new Set(B)).sort()}return T.jsxs("div",{className:"w-full",children:[T.jsxs("div",{className:"flex flex-wrap gap-4 mb-6",children:[T.jsxs("select",{className:"px-4 py-2 rounded-xl border border-purple-200 text-[#6654b3] bg-white",value:e,onChange:M=>{n(M.target.value),l(""),g("")},children:[T.jsx("option",{value:"",children:x("selectCourse")}),t==null?void 0:t.map(M=>T.jsx("option",{value:M.id,children:M.name},M.id))]}),T.jsxs("select",{className:"px-4 py-2 rounded-xl border border-purple-200 text-[#6654b3] bg-white",value:r,onChange:M=>{l(M.target.value),g("")},disabled:!e,children:[T.jsx("option",{value:"",children:x("selectDay")}),N.map(M=>T.jsx("option",{children:M},M))]}),T.jsxs("select",{className:"px-4 py-2 rounded-xl border border-purple-200 text-[#6654b3] bg-white",value:u,onChange:M=>g(M.target.value),disabled:!e||!r,children:[T.jsx("option",{value:"",children:x("selectTime")}),O.map(M=>T.jsx("option",{children:M},M))]})]}),T.jsx("div",{children:e?b?T.jsx("div",{className:"text-center text-gray-400 py-8",children:x("loadingStudents")}):T.jsxs("table",{className:"w-full bg-white border border-purple-200 rounded-2xl",children:[T.jsx("thead",{children:T.jsxs("tr",{children:[T.jsx("th",{className:"py-3 px-2 text-left font-semibold text-[#6654b3]",children:"#"}),T.jsx("th",{className:"py-3 px-2 text-left font-semibold text-[#6654b3]",children:x("nickName")}),T.jsx("th",{className:"py-3 px-2 text-left font-semibold text-[#6654b3]",children:x("fullName")})]})}),T.jsx("tbody",{children:!y||y.length===0?T.jsx("tr",{children:T.jsx("td",{colSpan:3,className:"text-center text-gray-300 py-8",children:x("noStudentsFound")})}):y.map((M,B)=>T.jsxs("tr",{className:"hover:bg-purple-50 transition",children:[T.jsx("td",{className:"py-2 px-2",children:B+1}),T.jsx("td",{className:"py-2 px-2 text-[#6654b3] font-bold",children:M.nick_name||"—"}),T.jsxs("td",{className:"py-2 px-2 text-blue-700 font-semibold cursor-pointer hover:underline",onClick:()=>E(`/myschool/student/${M.id}`),children:[M.first_name," ",M.last_name]})]},M.id))})]}):T.jsx("div",{className:"text-center text-gray-400 py-8",children:x("Choose a course to see students")})})]})}function hF(){const{t}=kn(),e=Dc(),{data:n=[],isLoading:r}=lF(),[l,u]=R.useState(null),[g,y]=R.useState(""),b=Eb({mutationFn:async j=>{const V={name:j.name,weekdays:j.weekdays,times:j.times,capacity:j.capacity};if(j.id){const{error:$}=await je.from("courses").update(V).eq("id",j.id);if($)throw $}else{const{error:$}=await je.from("courses").insert([V]);if($)throw $}},onSuccess:()=>{u(null),e.invalidateQueries({queryKey:["courses_full"]})},onError:j=>y(j.message)}),x=Eb({mutationFn:async j=>{if(!window.confirm(t("deleteCourseConfirm")))return;const{error:V}=await je.from("courses").delete().eq("id",j);if(V)throw V},onSuccess:()=>{e.invalidateQueries({queryKey:["courses_full"]})},onError:j=>y(j.message)});function E(j){u(j||{name:"",weekdays:[],times:{},capacity:0}),y("")}function C(j){u(V=>{if(!V)return V;const $=V.weekdays.includes(j)?V.weekdays.filter(q=>q!==j):[...V.weekdays,j],U={...V.times};return $.includes(j)||delete U[j],{...V,weekdays:$,times:U}})}function N(j,V){u($=>$&&{...$,times:{...$.times,[j]:[...$.times[j]||[],V]}})}function O(j,V){u($=>$&&{...$,times:{...$.times,[j]:$.times[j].filter((U,q)=>q!==V)}})}function M(){if(!l||!l.name)return y(t("enterCourseName"));b.mutate(l)}function B(j){x.mutate(j)}return T.jsxs("div",{className:"relative bg-white rounded-3xl p-6",children:[T.jsx("h2",{className:"text-xl font-bold mb-4 text-[#6654b3]",children:t("manageCourses")}),r?T.jsx("p",{children:t("loadingCourses")}):T.jsxs(T.Fragment,{children:[T.jsxs("table",{className:"w-full mb-4 border border-purple-200 rounded-lg",children:[T.jsx("thead",{children:T.jsxs("tr",{children:[T.jsx("th",{className:"px-4 py-2 text-left text-[#6654b3]",children:t("course")}),T.jsx("th",{className:"px-4 py-2 text-left text-[#6654b3]",children:t("days")}),T.jsx("th",{className:"px-4 py-2 text-left text-[#6654b3]",children:t("times")}),T.jsx("th",{className:"px-4 py-2 text-left text-[#6654b3]",children:t("capacity")}),T.jsx("th",{className:"px-4 py-2"})]})}),T.jsx("tbody",{className:"divide-y divide-gray-200 bg-white",children:n.map(j=>T.jsxs("tr",{className:"hover:bg-purple-50 transition",children:[T.jsx("td",{className:"px-4 py-2",children:j.name}),T.jsx("td",{className:"px-4 py-2",children:(j.weekdays||[]).join(", ")}),T.jsx("td",{className:"px-4 py-2",children:Object.entries(j.times||{}).map(([V,$])=>$.length?T.jsxs("div",{children:[V,": ",$.join(", ")]},V):null)}),T.jsx("td",{className:"px-4 py-2",children:j.capacity}),T.jsxs("td",{className:"px-4 py-2 space-x-2",children:[T.jsx("button",{onClick:()=>E(j),className:"bg-gray-100 hover:bg-gray-200 text-blue-600 px-3 py-1 rounded-full text-sm",children:t("edit")}),T.jsx("button",{onClick:()=>B(j.id),className:"bg-gray-100 hover:bg-gray-200 text-red-600 px-3 py-1 rounded-full text-sm",children:t("delete")})]})]},j.id))})]}),T.jsx("button",{onClick:()=>E(null),className:"bg-[#6654b3] hover:bg-purple-700 text-white px-4 py-2 rounded-full",children:t("addCourse")})]}),l&&T.jsxs("div",{className:"absolute inset-0 bg-white bg-opacity-95 rounded-3xl flex flex-col p-6 overflow-y-auto",children:[T.jsx("h3",{className:"text-lg font-bold mb-3 text-[#6654b3]",children:l.id?t("editCourse"):t("newCourse")}),T.jsxs("label",{className:"block mb-2",children:[t("courseName"),T.jsx("input",{className:"border rounded px-2 py-1 ml-2 w-full",value:l.name,onChange:j=>u(V=>V&&{...V,name:j.target.value})})]}),T.jsxs("label",{className:"block mb-2",children:[t("capacity"),T.jsx("input",{type:"number",min:0,className:"border rounded px-2 py-1 ml-2 w-24",value:l.capacity||0,onChange:j=>u(V=>V&&{...V,capacity:Number(j.target.value)})})]}),T.jsxs("div",{className:"mb-2",children:[T.jsxs("span",{className:"font-semibold",children:[t("days"),":"]}),T.jsx("div",{className:"flex flex-wrap gap-2 mt-1",children:oF.map(j=>T.jsxs("label",{className:`border rounded-full px-3 py-1 cursor-pointer ${l.weekdays.includes(j)?"bg-[#6654b3] text-white border-[#6654b3]":"border-gray-300"}`,children:[T.jsx("input",{type:"checkbox",className:"hidden",checked:l.weekdays.includes(j),onChange:()=>C(j)}),j]},j))})]}),l.weekdays.map(j=>T.jsxs("div",{className:"mb-2 ml-4",children:[T.jsx("span",{className:"font-semibold",children:t("timesForDay",{day:j})}),T.jsxs("div",{className:"flex flex-wrap gap-2 mt-1",children:[(l.times[j]||[]).map((V,$)=>T.jsxs("span",{className:"inline-flex items-center bg-gray-200 rounded-full px-3 py-1 mr-2",children:[V,T.jsx("button",{onClick:()=>O(j,$),className:"ml-1 text-red-500",children:"✕"})]},$)),T.jsxs("select",{className:"border rounded px-2 py-1 max-h-40 overflow-y-auto",defaultValue:"",onChange:V=>{V.target.value&&(N(j,V.target.value),V.target.value="")},children:[T.jsx("option",{value:"",children:t("addTime")}),wC.filter(V=>!(l.times[j]||[]).includes(V)).map(V=>T.jsx("option",{children:V},V))]})]})]},j)),g&&T.jsx("p",{className:"text-red-600",children:g}),T.jsxs("div",{className:"flex gap-2 mt-4",children:[T.jsx("button",{onClick:M,className:"bg-green-500 hover:bg-green-600 text-white px-4 py-2 rounded-full",disabled:b.status==="pending",children:t("save")}),T.jsx("button",{onClick:()=>u(null),className:"bg-gray-100 hover:bg-gray-200 px-4 py-2 rounded-full",children:t("cancel")})]})]})]})}const ss="#6654b3",gF="#f6f6f6";function mF(){return je.from("students").select("id,first_name,last_name,nick_name,parent_phone,parent_line_id,joined_at").order("joined_at",{ascending:!1})}function pF(){const{t}=kn(),e=Ss(),[n,r]=R.useState(""),[l,u]=R.useState(new Set),[g,y]=R.useState(!1),{data:b,isLoading:x,error:E}=hi({queryKey:["students"],queryFn:mF,staleTime:1e3*60*10,refetchOnWindowFocus:!1}),C=b&&"data"in b&&Array.isArray(b.data)?b.data:[],N=R.useMemo(()=>{const O=n.trim().toLowerCase();return O?C.filter(M=>(M.nick_name||"").toLowerCase().includes(O)||M.first_name.toLowerCase().includes(O)||M.last_name.toLowerCase().includes(O)||M.parent_phone.includes(O)||(M.parent_line_id||"").toLowerCase().includes(O)):C},[C,n]);return T.jsxs("div",{className:"min-h-screen flex flex-col items-center py-8 px-2 sm:px-6 font-sans",style:{background:gF},children:[T.jsxs("div",{className:"w-full max-w-6xl mx-auto flex flex-col sm:flex-row items-center justify-between gap-3 pb-4",children:[T.jsxs("div",{className:"flex items-center gap-3",children:[T.jsx("h1",{className:"text-2xl sm:text-3xl font-extrabold tracking-tight",style:{color:ss},children:t("students")}),T.jsx("span",{className:"ml-2 px-3 py-1 rounded-full text-lg font-semibold",style:{background:"#ebe7f7",color:ss,border:"1px solid #e1def5"},children:C.length})]}),T.jsxs("div",{className:"flex gap-2 mt-3 sm:mt-0",children:[T.jsx("input",{type:"text",placeholder:t("searchStudents"),value:n,onChange:O=>r(O.target.value),className:"rounded-2xl border border-[#e1def5] px-4 py-2 bg-white shadow focus:outline-none focus:ring-2 focus:ring-[#6654b3] transition w-56",style:{color:ss}}),T.jsxs("button",{onClick:()=>e("/admissions"),className:"flex items-center gap-1 font-semibold px-4 py-2 rounded-2xl transition active:scale-95",style:{background:ss,color:"#fff",boxShadow:"0 2px 8px 0 rgba(102,84,179,0.06)"},children:[T.jsx(hE,{className:"w-5 h-5"})," ",t("addStudent")]}),T.jsxs("button",{onClick:()=>y(!0),disabled:!l.size,className:"flex items-center gap-1 font-semibold px-4 py-2 rounded-2xl transition active:scale-95 disabled:opacity-60",style:{background:"#ec4899",color:"#fff",boxShadow:"0 2px 8px 0 rgba(102,84,179,0.02)"},children:[T.jsx(Sh,{className:"w-5 h-5"})," ",t("export")]})]})]}),T.jsx("div",{className:"w-full max-w-6xl mx-auto overflow-x-auto",children:x?T.jsx("div",{className:"text-center text-[#a7a3c0] py-10",children:t("loading")}):E?T.jsx("div",{className:"text-red-500 py-10 text-center",children:E.message||E.toString()}):T.jsxs("table",{className:"w-full min-w-[650px] rounded-2xl",style:{background:"#fff",borderCollapse:"separate",borderSpacing:0,boxShadow:"0 2px 18px 0 rgba(102,84,179,0.05)",border:"1.5px solid #e1def5"},children:[T.jsx("thead",{style:{background:"#f6f6f6"},children:T.jsxs("tr",{children:[T.jsx("th",{className:"px-2 py-3 rounded-l-2xl",children:T.jsx("input",{type:"checkbox",className:"accent-[#6654b3]",checked:N.length>0&&N.every(O=>l.has(O.id)),onChange:O=>{const M=new Set(l);O.target.checked?N.forEach(B=>M.add(B.id)):N.forEach(B=>M.delete(B.id)),u(M)}})}),T.jsx("th",{className:"px-2 py-3 text-left font-semibold",style:{color:ss},children:"#"}),T.jsx("th",{className:"px-2 py-3 text-left font-semibold",style:{color:ss},children:t("nickName")}),T.jsx("th",{className:"px-2 py-3 text-left font-semibold",style:{color:ss},children:t("firstName")}),T.jsx("th",{className:"px-2 py-3 text-left font-semibold",style:{color:ss},children:t("lastName")}),T.jsx("th",{className:"px-2 py-3 text-left font-semibold",style:{color:ss},children:t("parentPhone")}),T.jsx("th",{className:"px-2 py-3 text-left font-semibold",style:{color:ss},children:t("lineID")})]})}),T.jsx("tbody",{children:N.length===0?T.jsx("tr",{children:T.jsx("td",{colSpan:7,className:"text-center text-[#b0b0b0] py-8",children:t("noStudentsFound")})}):N.map((O,M)=>T.jsxs("tr",{className:"transition",style:{animation:"fadein 0.3s",background:l.has(O.id)?"#f6e6fa":"inherit"},children:[T.jsx("td",{className:"px-2 py-2 text-center align-middle",children:T.jsx("input",{type:"checkbox",className:"accent-[#6654b3]",checked:l.has(O.id),onChange:B=>{const j=new Set(l);B.target.checked?j.add(O.id):j.delete(O.id),u(j)}})}),T.jsx("td",{className:"px-2 py-2 align-middle",children:M+1}),T.jsx("td",{className:"px-2 py-2 align-middle font-semibold",style:{color:ss},children:O.nick_name||T.jsx("span",{className:"text-[#d3d3e0]",children:"—"})}),T.jsx("td",{className:"px-2 py-2 align-middle font-semibold cursor-pointer hover:underline",style:{color:"#3a38a0"},onClick:()=>e(`/myschool/student/${O.id}`),children:O.first_name}),T.jsx("td",{className:"px-2 py-2 align-middle",children:O.last_name}),T.jsx("td",{className:"px-2 py-2 align-middle font-mono",children:O.parent_phone}),T.jsx("td",{className:"px-2 py-2 align-middle",children:T.jsx("span",{className:"rounded-xl px-2 py-1 text-xs font-semibold",style:{background:"#ebe7f7",color:ss,border:"1px solid #e1def5"},children:O.parent_line_id||"—"})})]},O.id))})]})}),g&&T.jsx("div",{className:"fixed z-50 inset-0 bg-black/40 flex items-center justify-center",children:T.jsxs("div",{className:"rounded-2xl shadow-lg p-6 max-w-md w-full relative",style:{background:"#fff"},children:[T.jsx("button",{className:"absolute right-4 top-4 text-[#c2bce5] hover:text-[#ec4899]",onClick:()=>y(!1),children:T.jsx(Jo,{className:"w-6 h-6"})}),T.jsx("h2",{className:"text-lg font-bold mb-3",style:{color:"#ec4899"},children:t("exportStudents",{count:l.size})}),T.jsxs("div",{className:"flex gap-2 justify-between",children:[T.jsxs("button",{onClick:()=>{const O=C.filter(q=>l.has(q.id)),M=[t("no"),t("nickName"),t("firstName"),t("lastName"),t("parentPhone"),t("lineID")],B=O.map((q,W)=>[W+1,`"${q.nick_name||""}"`,`"${q.first_name}"`,`"${q.last_name}"`,`"${q.parent_phone}"`,`"${q.parent_line_id||""}"`]),j=[M,...B].map(q=>q.join(",")).join(`
`),V=new Blob([j],{type:"text/csv"}),$=URL.createObjectURL(V),U=document.createElement("a");U.href=$,U.download=`students_export_${Date.now()}.csv`,U.click(),URL.revokeObjectURL($),y(!1)},className:"rounded-xl px-4 py-2 font-semibold flex items-center gap-1",style:{background:"#34d399",color:"#fff"},children:[T.jsx(Sh,{className:"w-5 h-5"})," ",t("exportCSV")]}),T.jsxs("button",{onClick:()=>{window.print(),y(!1)},className:"rounded-xl px-4 py-2 font-semibold flex items-center gap-1",style:{background:ss,color:"#fff"},children:[T.jsx(Xm,{className:"w-5 h-5"})," ",t("print")]})]})]})}),T.jsx("style",{children:`
        @keyframes fadein { from { opacity:0; transform: scale(0.98);} to { opacity:1; transform: scale(1);} }
      `})]})}const Mv=["bg-pink-50","bg-blue-50","bg-yellow-50","bg-purple-50","bg-green-50","bg-indigo-50"];function xF(t){return Mv[t%Mv.length]}async function yF(){const{data:{user:t}}=await je.auth.getUser();if(!t)return{id:null,role:null};const{data:e}=await je.from("profiles").select("role").eq("id",t.id).single();return{id:t.id,role:(e==null?void 0:e.role)||null}}function bF(t){return hi({queryKey:["student",t],queryFn:async()=>{const{data:e}=await je.from("students").select("*").eq("id",t).single();return e},enabled:!!t,staleTime:3e5})}function wF(){return hi({queryKey:["courses"],queryFn:async()=>{const{data:t}=await je.from("courses").select("*").order("name");return t||[]},staleTime:3e5})}function vF(t){return hi({queryKey:["attendance",t],queryFn:async()=>{const{data:e}=await je.from("attendance").select("*").eq("student_id",t);return e||[]},enabled:!!t,staleTime:12e4})}function EF(t){return hi({queryKey:["appchanges",t],queryFn:async()=>{const{data:e}=await je.from("application_changes").select("*").eq("student_id",t);return e||[]},enabled:!!t,staleTime:12e4})}function SF(){return hi({queryKey:["profile"],queryFn:yF,staleTime:12e4})}function CF(){var Ai,$s,kt,jt;const{t}=kn(),{id:e}=CR(),n=Ss(),r=Dc(),{data:l}=SF(),{data:u,isLoading:g}=bF(e),{data:y}=wF(),{data:b}=vF(e),{data:x}=EF(e),[E,C]=R.useState(!1),[N,O]=R.useState(null),[M,B]=R.useState(null),[j,V]=R.useState(null),[$,U]=R.useState(1),[q,W]=R.useState(null),[ne,X]=R.useState(null),[oe,ee]=R.useState(1),[pe,ke]=R.useState(null),[be,Ce]=R.useState(null),[Be,re]=R.useState(null),[se,le]=R.useState(null),[Le,ze]=R.useState(null),[z,te]=R.useState(null),[xe,ye]=R.useState(null),Me=R.useMemo(()=>Object.fromEntries((y||[]).map(Ee=>[Ee.id,Ee])),[y]);function Pe(){return u!=null&&u.courses?Object.keys(u.courses).map((Ee,yt)=>{var gt,It,Mt;const Ne=Me[Ee];return{cid:Ee,idx:yt,course:Ne,days:u.courses[Ee],hours:((gt=u.course_limits)==null?void 0:gt[Ee])||0,cancelled_at:((It=u.cancelled_at)==null?void 0:It[Ee])||null,cancelled_by:((Mt=u.cancelled_by)==null?void 0:Mt[Ee])||null}}):[]}function we(Ee){var It;const yt=Array.isArray(u==null?void 0:u.payment_receipt_urls)?u.payment_receipt_urls:[],Ne=((It=u==null?void 0:u.receipts)==null?void 0:It[Ee])||[],gt=(x||[]).filter(Mt=>{var Qn,nn,un,bn,Tt,As,sn;return(((nn=(Qn=Mt.changes)==null?void 0:Qn.course_limits)==null?void 0:nn[Ee])||((bn=(un=Mt.changes)==null?void 0:un.course_changes)==null?void 0:bn[Ee]))&&(((As=(Tt=Mt.changes)==null?void 0:Tt.receipts)==null?void 0:As.length)||((sn=Mt.receipt_urls)==null?void 0:sn.length))}).flatMap(Mt=>{var Qn,nn,un;return(nn=(Qn=Mt.changes)==null?void 0:Qn.receipts)!=null&&nn.length?Mt.changes.receipts:(un=Mt.receipt_urls)!=null&&un.length?Mt.receipt_urls:[]});return[...yt,...Ne,...gt]}function lt(Ee){return(b||[]).filter(yt=>yt.course_id===Ee)}function ve(Ee){var gt;const yt=lt(Ee).length,Ne=((gt=u==null?void 0:u.course_limits)==null?void 0:gt[Ee])||0;return{used:yt,purchased:Ne,left:Math.max(0,Ne-yt),status:Ne-yt>0?t("ongoing"):t("renewalNeeded")}}async function He(Ee,yt,Ne){if(!(u!=null&&u.courses[Ee][yt])||Ne===yt){Ce(null);return}const gt=u.courses[Ee][yt],It={...u.courses};It[Ee][Ne]||(It[Ee][Ne]=[]),It[Ee][Ne]=Array.from(new Set([...It[Ee][Ne],...gt])),delete It[Ee][yt],await je.from("students").update({courses:It}).eq("id",u.id),r.invalidateQueries({queryKey:["student",e]}),Ce(null),re(null)}async function xt(Ee,yt,Ne,gt){if(!(u!=null&&u.courses[Ee][yt])||gt===Ne){le(null);return}const It=u.courses[Ee][yt].map(Qn=>Qn===Ne?gt:Qn),Mt={...u.courses};Mt[Ee][yt]=Array.from(new Set(It)),await je.from("students").update({courses:Mt}).eq("id",u.id),r.invalidateQueries({queryKey:["student",e]}),le(null),ze(null)}async function ht(Ee){if(!u||!l||!l.id){alert(t("profileMissingError"));return}const yt={...u.cancelled_at||{}},Ne={...u.cancelled_by||{}};yt[Ee]=new Date().toISOString(),Ne[Ee]=l.id,await je.from("students").update({cancelled_at:yt,cancelled_by:Ne}).eq("id",u.id),r.invalidateQueries({queryKey:["student",e]})}async function st(){if(!ne||!pe||oe<1)return;const Ee=pe,yt=`${Date.now()}-${Ee.name}`,{data:Ne,error:gt}=await je.storage.from("receipts").upload(yt,Ee);if(gt){alert(gt.message);return}const{data:It}=je.storage.from("receipts").getPublicUrl(Ne.path);await je.from("application_changes").insert([{student_id:u.id,type:"renewal",status:"pending",changes:{course_limits:{[ne]:oe},receipts:[It.publicUrl]}}]),X(null),ee(1),ke(null),alert(t("submitRenewal")),r.invalidateQueries({queryKey:["appchanges",e]})}async function Je(){if(!N||!M||!j||!q||$<1)return;const Ee=q,yt=`${Date.now()}-${Ee.name}`,{data:Ne,error:gt}=await je.storage.from("receipts").upload(yt,Ee);if(gt){alert(gt.message);return}const{data:It}=je.storage.from("receipts").getPublicUrl(Ne.path);await je.from("application_changes").insert([{student_id:u.id,type:"edit",status:"pending",changes:{course_changes:{[N]:{[M]:[j]}},course_limits:{[N]:$},receipts:[It.publicUrl]}}]),C(!1),O(null),B(null),V(null),W(null),U(1),alert(t("submitAdd")),r.invalidateQueries({queryKey:["appchanges",e]})}function Di({urls:Ee,title:yt}){return T.jsx(Ua,{open:!!Ee,onClose:()=>te(null),className:"fixed z-50 inset-0 flex items-center justify-center bg-black/30",children:T.jsxs(Ua.Panel,{className:"bg-white rounded-2xl p-6 max-w-lg w-full shadow-2xl relative",children:[T.jsx("button",{type:"button",onClick:()=>te(null),className:"absolute top-4 right-4 text-gray-500 hover:text-gray-800",children:T.jsx(Jo,{className:"w-6 h-6"})}),T.jsxs("h2",{className:"text-lg font-bold mb-2",children:[yt," ",t("receipt")]}),T.jsx("div",{className:"space-y-3",children:Ee.map(Ne=>T.jsxs("div",{className:"rounded-lg border bg-gray-50 px-3 py-2 flex items-center gap-3",children:[T.jsx("span",{className:"flex-1 truncate",children:Ne.split("/").slice(-1)[0]}),T.jsx("button",{type:"button",className:"text-blue-600 hover:underline text-sm",onClick:()=>window.open(Ne,"_blank"),children:t("open")}),T.jsx("button",{type:"button",className:"text-green-600 hover:underline text-sm",onClick:async()=>{const It=await(await fetch(Ne)).blob(),Mt=document.createElement("a");Mt.href=URL.createObjectURL(It),Mt.download=Ne.split("/").slice(-1)[0],Mt.click()},children:t("download")}),T.jsx("button",{type:"button",className:"text-pink-600 hover:underline text-sm",onClick:()=>{const gt=document.createElement("iframe");gt.style.position="fixed",gt.style.right="0",gt.style.top="0",gt.style.width="0",gt.style.height="0",gt.src=Ne,document.body.appendChild(gt),gt.onload=()=>{var It;(It=gt.contentWindow)==null||It.print(),setTimeout(()=>document.body.removeChild(gt),1e3)}},children:t("print")})]},Ne))})]})})}return g||!l||!y||!b||!x?T.jsxs("div",{className:"min-h-[300px] flex items-center justify-center",children:[T.jsx("span",{className:"animate-bounce w-5 h-5 rounded-full bg-pink-300 mr-2"}),T.jsx("span",{className:"animate-bounce w-5 h-5 rounded-full bg-blue-200 mr-2"}),T.jsx("span",{className:"animate-bounce w-5 h-5 rounded-full bg-yellow-200"})]}):u?T.jsx("div",{className:"p-0 min-h-screen",style:{background:"#f6f6f6"},children:T.jsxs("div",{className:"max-w-5xl mx-auto py-8 px-2 sm:px-10 space-y-8",children:[T.jsx("div",{className:"flex justify-end w-full",children:T.jsxs("button",{type:"button",onClick:async()=>{window.confirm(t("deleteStudentConfirm"))&&(await je.from("students").delete().eq("id",u.id),n("/myschool/students"))},className:"rounded-full px-3 py-2 bg-red-50 border border-red-200 text-red-600 hover:bg-red-100 flex items-center gap-1",children:[T.jsx(l9,{className:"w-5 h-5"})," ",t("deleteStudent")]})}),T.jsxs("div",{className:"bg-white rounded-2xl px-6 py-4 flex flex-col gap-2 border border-[#ece6fc]",children:[T.jsxs("div",{className:"font-bold text-2xl text-[#6654b3] mb-1",children:[u.first_name," ",u.last_name]}),T.jsxs("div",{className:"flex flex-wrap gap-x-8 gap-y-1 text-gray-700 text-sm",children:[T.jsxs("div",{children:[T.jsxs("span",{className:"font-semibold text-gray-900",children:[t("dob"),":"]})," ",u.dob?new Date(u.dob).toLocaleDateString("en-GB"):"—"]}),T.jsxs("div",{children:[T.jsxs("span",{className:"font-semibold text-gray-900",children:[t("phone"),":"]})," ",u.parent_phone]}),T.jsxs("div",{children:[T.jsxs("span",{className:"font-semibold text-gray-900",children:[t("lineId"),":"]})," ",u.parent_line_id]}),T.jsxs("div",{children:[T.jsxs("span",{className:"font-semibold text-gray-900",children:[t("joined"),":"]})," ",u.joined_at?new Date(u.joined_at).toLocaleDateString("en-GB"):"—"]})]})]}),T.jsxs("div",{children:[T.jsxs("div",{className:"flex items-center justify-between mb-2",children:[T.jsx("div",{className:"text-lg font-semibold text-[#6654b3]",children:t("enrolledCourses")}),T.jsxs("button",{type:"button",onClick:()=>C(!0),className:"rounded-full bg-[#ece6fc] text-[#6654b3] border border-[#6654b3] px-3 py-2 hover:bg-[#e4d8fd] flex items-center gap-1 transition",children:[T.jsx(hE,{className:"w-5 h-5"})," ",t("addCourse")]})]}),T.jsx("div",{className:"rounded-3xl overflow-x-auto border border-[#ece6fc] bg-white",children:T.jsxs("table",{className:"w-full min-w-[700px] text-sm",children:[T.jsx("thead",{children:T.jsxs("tr",{className:"bg-white",children:[T.jsx("th",{className:"px-4 py-3 text-left font-semibold text-[#6654b3] rounded-tl-3xl",children:"#"}),T.jsx("th",{className:"px-4 py-3 text-left font-semibold text-[#6654b3]",children:t("course")}),T.jsx("th",{className:"px-4 py-3 text-left font-semibold text-[#6654b3]",children:t("daysTimes")}),T.jsx("th",{className:"px-4 py-3 text-center font-semibold text-[#6654b3]",children:t("hoursLeft")}),T.jsx("th",{className:"px-4 py-3 text-center font-semibold text-[#6654b3]",children:t("status")}),T.jsx("th",{className:"px-4 py-3 text-center font-semibold text-[#6654b3]",children:t("receipt")}),T.jsx("th",{className:"px-4 py-3 text-center font-semibold text-[#6654b3]",children:t("actions")}),T.jsx("th",{className:"px-4 py-3 text-center font-semibold text-[#6654b3] rounded-tr-3xl",children:t("attendance")})]})}),T.jsx("tbody",{children:Pe().map(({cid:Ee,idx:yt,course:Ne,days:gt,cancelled_at:It})=>{const Mt=xF(yt),Qn=we(Ee),nn=lt(Ee),{purchased:un,left:bn,status:Tt}=ve(Ee),As=!!It;return T.jsxs(nt.Fragment,{children:[T.jsxs("tr",{className:im(Mt,"transition",As?"bg-red-100/70 text-red-600 opacity-80":"hover:bg-[#ece6fc]/70"),children:[T.jsx("td",{className:"px-4 py-3 text-center",children:yt+1}),T.jsx("td",{className:"px-4 py-3",children:(Ne==null?void 0:Ne.name)||Ee}),T.jsx("td",{className:"px-4 py-3",children:Object.entries(gt).map(([sn,ll])=>{var Xt;return T.jsxs("div",{className:"flex items-center gap-2",children:[be&&be.cid===Ee&&be.oldDay===sn?T.jsx("select",{value:Be||sn,onChange:Oe=>re(Oe.target.value),onBlur:()=>He(Ee,sn,Be||sn),className:"rounded px-1 py-0.5 border",autoFocus:!0,children:(Xt=Ne==null?void 0:Ne.weekdays)==null?void 0:Xt.map(Oe=>T.jsx("option",{children:Oe},Oe))}):T.jsxs(T.Fragment,{children:[T.jsx("span",{className:"font-bold",children:sn}),T.jsx("button",{type:"button",className:"text-[#6654b3] hover:text-purple-800 p-0.5",onClick:()=>{Ce({cid:Ee,oldDay:sn}),re(sn)},title:t("editDay"),children:T.jsx(ew,{className:"w-4 h-4"})})]}),Array.isArray(ll)&&ll.map(Oe=>{var Pt;return T.jsx("span",{className:"inline-flex items-center ml-2",children:se&&se.cid===Ee&&se.day===sn&&se.oldTime===Oe?T.jsx("select",{value:Le||Oe,onChange:wt=>ze(wt.target.value),onBlur:()=>xt(Ee,sn,Oe,Le||Oe),className:"rounded px-1 py-0.5 border",autoFocus:!0,children:(((Pt=Ne==null?void 0:Ne.times)==null?void 0:Pt[sn])||[]).map(wt=>T.jsx("option",{children:wt},wt))}):T.jsxs(T.Fragment,{children:[T.jsx("span",{children:Oe}),T.jsx("button",{type:"button",className:"text-[#6654b3] hover:text-purple-800 ml-1 p-0.5",onClick:()=>{le({cid:Ee,day:sn,oldTime:Oe}),ze(Oe)},title:t("editTime"),children:T.jsx(ew,{className:"w-4 h-4"})})]})},Oe)})]},sn)})}),T.jsxs("td",{className:"px-4 py-3 text-center font-mono font-semibold",children:[bn," / ",un]}),T.jsx("td",{className:"px-4 py-3 text-center",children:Tt===t("ongoing")?T.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 rounded-full bg-green-50 text-green-600 text-xs font-semibold",children:[T.jsx(WD,{className:"w-4 h-4"})," ",t("ongoing")]}):T.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 rounded-full bg-yellow-50 text-yellow-600 text-xs font-semibold",children:[T.jsx(i9,{className:"w-4 h-4"})," ",t("renewalNeeded")]})}),T.jsx("td",{className:"px-4 py-3 text-center",children:Qn.length>0?T.jsx("button",{type:"button",className:"rounded-full px-2 py-1 bg-[#f6d6ec] text-[#b03580] hover:bg-pink-200 text-xs",onClick:()=>te({urls:Qn,title:Ne==null?void 0:Ne.name}),children:t("viewReceipts",{count:Qn.length})}):T.jsx("span",{className:"text-gray-300 text-xs",children:"—"})}),T.jsx("td",{className:"px-4 py-3 text-center",children:T.jsxs("div",{className:"flex flex-col gap-1 items-center",children:[T.jsx("button",{type:"button",className:im("rounded-full px-2 py-1 text-xs","bg-[#ece6fc] text-[#6654b3] hover:bg-purple-100",Tt!==t("renewalNeeded")&&"opacity-50 pointer-events-none"),onClick:()=>X(Ee),children:t("renew")}),!As&&T.jsx("button",{type:"button",className:"rounded-full px-2 py-1 bg-red-50 text-red-700 hover:bg-red-100 text-xs",onClick:()=>ht(Ee),children:t("cancelled")}),As&&T.jsxs("span",{className:"block text-xs mt-1 text-red-400",children:[t("cancelled"),T.jsx("br",{}),It?new Date(It).toLocaleDateString("en-GB"):""]})]})}),T.jsx("td",{className:"px-4 py-3 text-center",children:T.jsx("button",{type:"button",className:"rounded-full bg-gray-100 hover:bg-gray-200 text-gray-700 text-xs px-2 py-1 flex items-center gap-1",onClick:()=>ye(xe===Ee?null:Ee),children:xe===Ee?T.jsxs(T.Fragment,{children:[T.jsx(fE,{className:"w-4 h-4"})," ",t("hide")]}):T.jsxs(T.Fragment,{children:[T.jsx(dE,{className:"w-4 h-4"})," ",t("view")]})})})]}),xe===Ee&&T.jsx("tr",{children:T.jsx("td",{colSpan:8,className:"bg-white/90",children:T.jsxs("div",{className:"px-4 py-2 text-sm",children:[T.jsx("div",{className:"font-bold text-gray-700 mb-1",children:t("attendanceHistory")}),T.jsxs("div",{className:"flex flex-col gap-1",children:[nn.map(sn=>T.jsxs("div",{className:"flex items-center justify-between border-b last:border-0 border-dashed border-gray-200 py-1 px-2",children:[T.jsx("span",{children:new Date(sn.attended_at_ts).toLocaleString("en-GB",{weekday:"short",year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})}),T.jsx("button",{type:"button",className:"rounded-full px-2 py-0.5 bg-gray-100 text-gray-600 text-xs hover:bg-blue-50",onClick:()=>navigator.clipboard.writeText(sn.attended_at_ts),children:t("copy")})]},sn.id)),nn.length===0&&T.jsx("div",{className:"text-gray-400",children:t("noRecords")})]})]})})})]},Ee)})})]})})]}),T.jsx(Ua,{open:E,onClose:()=>C(!1),className:"fixed z-50 inset-0 flex items-center justify-center bg-black/30",children:T.jsxs(Ua.Panel,{className:"bg-white rounded-2xl p-6 max-w-md w-full shadow-2xl",children:[T.jsx("button",{type:"button",onClick:()=>C(!1),className:"absolute top-4 right-4 text-gray-500 hover:text-gray-800",children:T.jsx(Jo,{className:"w-6 h-6"})}),T.jsx("h2",{className:"font-bold text-lg mb-3",children:t("addNewCourse")}),T.jsxs("div",{className:"space-y-2",children:[T.jsxs("label",{className:"block",children:[T.jsx("span",{className:"font-semibold",children:t("course")}),T.jsxs("select",{className:"w-full rounded border px-2 py-1",value:N||"",onChange:Ee=>{O(Ee.target.value),B(null),V(null)},children:[T.jsx("option",{value:"",children:t("select")}),y.filter(Ee=>!(u.courses||{})[Ee.id]).map(Ee=>T.jsx("option",{value:Ee.id,children:Ee.name},Ee.id))]})]}),N&&T.jsxs("label",{className:"block",children:[T.jsx("span",{className:"font-semibold",children:t("day")}),T.jsxs("select",{className:"w-full rounded border px-2 py-1",value:M||"",onChange:Ee=>{B(Ee.target.value),V(null)},children:[T.jsx("option",{value:"",children:t("select")}),(((Ai=Me[N])==null?void 0:Ai.weekdays)||[]).map(Ee=>T.jsx("option",{children:Ee},Ee))]})]}),M&&N&&T.jsxs("label",{className:"block",children:[T.jsx("span",{className:"font-semibold",children:t("timeSlot")}),T.jsxs("select",{className:"w-full rounded border px-2 py-1",value:j||"",onChange:Ee=>V(Ee.target.value),children:[T.jsx("option",{value:"",children:t("select")}),(((kt=($s=Me[N])==null?void 0:$s.times)==null?void 0:kt[M])||[]).map(Ee=>T.jsx("option",{children:Ee},Ee))]})]}),T.jsxs("label",{className:"block",children:[T.jsx("span",{className:"font-semibold",children:t("hoursToPurchase")}),T.jsx("input",{type:"number",className:"w-full rounded border px-2 py-1",min:1,value:$,onChange:Ee=>U(Number(Ee.target.value))})]}),T.jsxs("label",{className:"block",children:[T.jsx("span",{className:"font-semibold",children:t("uploadReceipt")}),T.jsx("input",{type:"file",className:"block",accept:"image/*,application/pdf",onChange:Ee=>W(Ee.target.files?Ee.target.files[0]:null)}),q&&T.jsx("span",{className:"text-xs text-gray-500",children:q.name})]})]}),T.jsxs("div",{className:"flex justify-end gap-3 mt-4",children:[T.jsx("button",{type:"button",onClick:()=>C(!1),className:"rounded-full px-4 py-2 border hover:bg-gray-100",children:t("cancel")}),T.jsxs("button",{type:"button",onClick:Je,className:"rounded-full px-4 py-2 bg-green-500 text-white hover:bg-green-600 flex items-center gap-1",children:[T.jsx(Jb,{className:"w-5 h-5"})," ",t("submit")]})]})]})}),T.jsx(Ua,{open:!!ne,onClose:()=>X(null),className:"fixed z-50 inset-0 flex items-center justify-center bg-black/30",children:T.jsxs(Ua.Panel,{className:"bg-white rounded-2xl p-6 max-w-md w-full shadow-2xl",children:[T.jsx("button",{type:"button",onClick:()=>X(null),className:"absolute top-4 right-4 text-gray-500 hover:text-gray-800",children:T.jsx(Jo,{className:"w-6 h-6"})}),T.jsx("h2",{className:"font-bold text-lg mb-3",children:t("submitRenew",{course:((jt=Me[ne||""])==null?void 0:jt.name)||""})}),T.jsxs("label",{className:"block mb-3",children:[T.jsx("span",{className:"font-semibold",children:t("hoursToPurchase")}),T.jsx("input",{type:"number",className:"w-full rounded border px-2 py-1",min:1,value:oe,onChange:Ee=>ee(Number(Ee.target.value))})]}),T.jsxs("label",{className:"block mb-3",children:[T.jsx("span",{className:"font-semibold",children:t("uploadReceipt")}),T.jsx("input",{type:"file",className:"block",accept:"image/*,application/pdf",onChange:Ee=>ke(Ee.target.files?Ee.target.files[0]:null)}),pe&&T.jsx("span",{className:"text-xs text-gray-500",children:pe.name})]}),T.jsxs("div",{className:"flex justify-end gap-3 mt-2",children:[T.jsx("button",{type:"button",onClick:()=>X(null),className:"rounded-full px-4 py-2 border hover:bg-gray-100",children:t("cancel")}),T.jsxs("button",{type:"button",onClick:st,className:"rounded-full px-4 py-2 bg-[#6654b3] text-white hover:bg-purple-700 flex items-center gap-1",children:[T.jsx(Jb,{className:"w-5 h-5"})," ",t("submit")]})]})]})}),z&&T.jsx(Di,{urls:z.urls,title:z.title})]})}):T.jsx("div",{className:"p-8 text-pink-500",children:t("studentNotFound")})}const zi="#6654b3",AF="#f6f6f6";async function TF(){return await je.from("students").select("id,first_name,last_name,nick_name,parent_phone,parent_line_id,joined_at,status").not("status","in",'("active","ongoing")').order("joined_at",{ascending:!1})}async function _F(){return await je.from("courses").select("id,name,weekdays,times").order("name")}function NF({open:t,onClose:e,student:n,onSubmitted:r}){const{t:l}=kn(),{user:u}=_f(),g=(u==null?void 0:u.role)==="admin",[y,b]=R.useState(""),[x,E]=R.useState(""),[C,N]=R.useState(""),[O,M]=R.useState(""),[B,j]=R.useState(null),[V,$]=R.useState(""),[U,q]=R.useState(!1),W=Dc(),{data:ne}=hi({queryKey:["courses","renewal"],queryFn:_F,staleTime:6e4}),X=(ne==null?void 0:ne.data)||[],oe=X.find(pe=>pe.id===y);async function ee(pe){if(pe.preventDefault(),$(""),q(!0),!y||!x||!C||!O||!B){$(l("allFieldsRequired")),q(!1);return}const ke=B.name.split(".").pop()||"file",be=`${Date.now()}-${Math.random().toString(36).slice(2)}.${ke}`,{data:Ce,error:Be}=await je.storage.from("receipts").upload(be,B,{cacheControl:"3600"});if(Be||!Ce){$((Be==null?void 0:Be.message)||l("uploadError")),q(!1);return}const{data:re}=je.storage.from("receipts").getPublicUrl(Ce.path),se=(re==null?void 0:re.publicUrl)||"";if(!se){$(l("uploadError")),q(!1);return}if(g){const{error:le}=await je.from("students").update({course_limits:{[y]:Number(O)},receipts:{[y]:[se]},status:"active"}).eq("id",n.id);if(le){$(le.message),q(!1);return}}else{const{error:le}=await je.from("applications").insert([{student_id:n.id,courses:{[y]:{[x]:[C]}},course_limits:{[y]:Number(O)},payment_receipt_urls:[se],status:"pending",type:"renewal",requested_at:new Date().toISOString()}]);if(le){$(le.message),q(!1);return}}q(!1),W.invalidateQueries({queryKey:["students","inactive"]}),r&&r(),e()}return!t||!n?null:T.jsx("div",{className:"fixed z-50 inset-0 bg-black/40 flex items-center justify-center",children:T.jsxs("form",{className:"bg-white rounded-3xl shadow-lg p-6 max-w-md w-full relative",onSubmit:ee,children:[T.jsx("button",{type:"button",className:"absolute right-4 top-4 text-[#c2bce5] hover:text-[#ec4899]",onClick:e,children:T.jsx(Jo,{className:"w-6 h-6"})}),T.jsx("h2",{className:"text-xl font-bold mb-3",style:{color:zi},children:l("renewEnrollment")}),T.jsxs("div",{className:"mb-3 text-sm",children:[l("student"),": ",T.jsx("span",{className:"font-bold",children:n.nick_name||n.first_name})]}),T.jsxs("label",{className:"block mb-2",children:[l("course"),T.jsxs("select",{className:"border rounded px-2 py-1 w-full mt-1",value:y,onChange:pe=>{b(pe.target.value),E(""),N("")},required:!0,children:[T.jsx("option",{value:"",children:l("selectCourse")}),X.map(pe=>T.jsx("option",{value:pe.id,children:pe.name},pe.id))]})]}),oe&&T.jsxs(T.Fragment,{children:[T.jsxs("label",{className:"block mb-2",children:[l("day"),T.jsxs("select",{className:"border rounded px-2 py-1 w-full mt-1",value:x,onChange:pe=>{E(pe.target.value),N("")},required:!0,children:[T.jsx("option",{value:"",children:l("selectDay")}),oe.weekdays.map(pe=>T.jsx("option",{value:pe,children:pe},pe))]})]}),x&&T.jsxs("label",{className:"block mb-2",children:[l("timeSlot"),T.jsxs("select",{className:"border rounded px-2 py-1 w-full mt-1",value:C,onChange:pe=>N(pe.target.value),required:!0,children:[T.jsx("option",{value:"",children:l("selectTime")}),(oe.times[x]||[]).map(pe=>T.jsx("option",{value:pe,children:pe},pe))]})]})]}),T.jsxs("label",{className:"block mb-2",children:[l("hoursPurchased"),T.jsx("input",{type:"number",min:1,className:"border rounded px-2 py-1 w-full mt-1",value:O,onChange:pe=>M(pe.target.value),required:!0})]}),T.jsxs("label",{className:"block mb-2",children:[l("uploadReceipt"),T.jsx("input",{type:"file",accept:"image/*,application/pdf",className:"block mt-1",onChange:pe=>{var ke;return j(((ke=pe.target.files)==null?void 0:ke[0])||null)},required:!0})]}),V&&T.jsx("div",{className:"text-red-600 my-2",children:V}),T.jsx("button",{type:"submit",disabled:U,className:"bg-[#6654b3] hover:bg-[#4b3f8c] text-white font-bold px-6 py-2 rounded-xl mt-2 w-full",children:l(U?"submitting":g?"renewNow":"submitRenewalRequest")})]})})}function RF(){const{t}=kn(),e=Ss(),[n,r]=R.useState(""),[l,u]=R.useState(new Set),[g,y]=R.useState(!1),[b,x]=R.useState(null),{data:E,isLoading:C,error:N,refetch:O}=hi({queryKey:["students","inactive"],queryFn:TF,staleTime:1e3*60*10,refetchOnWindowFocus:!1}),M=(E==null?void 0:E.data)||[],B=R.useMemo(()=>{const j=n.trim().toLowerCase();return j?M.filter(V=>(V.nick_name||"").toLowerCase().includes(j)||V.first_name.toLowerCase().includes(j)||V.last_name.toLowerCase().includes(j)||V.parent_phone.includes(j)||(V.parent_line_id||"").toLowerCase().includes(j)):M},[M,n]);return T.jsxs("div",{className:"min-h-screen flex flex-col items-center py-8 px-2 sm:px-6 font-sans",style:{background:AF},children:[T.jsxs("div",{className:"w-full max-w-6xl mx-auto flex flex-col sm:flex-row items-center justify-between gap-3 pb-4",children:[T.jsxs("div",{className:"flex items-center gap-3",children:[T.jsx("h1",{className:"text-2xl sm:text-3xl font-extrabold tracking-tight",style:{color:zi},children:t("inactiveStudents")}),T.jsx("span",{className:"ml-2 px-3 py-1 rounded-full text-lg font-semibold",style:{background:"#ebe7f7",color:zi,border:"1px solid #e1def5"},children:M.length})]}),T.jsxs("div",{className:"flex gap-2 mt-3 sm:mt-0",children:[T.jsx("input",{type:"text",placeholder:t("searchStudents"),value:n,onChange:j=>r(j.target.value),className:"rounded-2xl border border-[#e1def5] px-4 py-2 bg-white shadow focus:outline-none focus:ring-2 focus:ring-[#6654b3] transition w-56",style:{color:zi}}),T.jsxs("button",{onClick:()=>y(!0),disabled:!l.size,className:"flex items-center gap-1 font-semibold px-4 py-2 rounded-2xl transition active:scale-95 disabled:opacity-60",style:{background:"#ec4899",color:"#fff",boxShadow:"0 2px 8px 0 rgba(102,84,179,0.02)"},children:[T.jsx(Sh,{className:"w-5 h-5"})," ",t("export")]})]})]}),T.jsx("div",{className:"w-full max-w-6xl mx-auto overflow-x-auto",children:C?T.jsx("div",{className:"text-center text-[#a7a3c0] py-10",children:t("loading")}):N?T.jsx("div",{className:"text-red-500 py-10 text-center",children:N.message||N.toString()}):T.jsxs("table",{className:"w-full min-w-[650px] rounded-2xl",style:{background:"#fff",borderCollapse:"separate",borderSpacing:0,boxShadow:"0 2px 18px 0 rgba(102,84,179,0.05)",border:"1.5px solid #e1def5"},children:[T.jsx("thead",{style:{background:"#f6f6f6"},children:T.jsxs("tr",{children:[T.jsx("th",{className:"px-2 py-3 rounded-l-2xl"}),T.jsx("th",{className:"px-2 py-3 text-left font-semibold",style:{color:zi},children:"#"}),T.jsx("th",{className:"px-2 py-3 text-left font-semibold",style:{color:zi},children:t("nickName")}),T.jsx("th",{className:"px-2 py-3 text-left font-semibold",style:{color:zi},children:t("firstName")}),T.jsx("th",{className:"px-2 py-3 text-left font-semibold",style:{color:zi},children:t("lastName")}),T.jsx("th",{className:"px-2 py-3 text-left font-semibold",style:{color:zi},children:t("parentPhone")}),T.jsx("th",{className:"px-2 py-3 text-left font-semibold",style:{color:zi},children:t("lineID")}),T.jsx("th",{className:"px-2 py-3 text-left font-semibold",style:{color:zi},children:t("action")})]})}),T.jsx("tbody",{children:B.length===0?T.jsx("tr",{children:T.jsx("td",{colSpan:8,className:"text-center text-[#b0b0b0] py-8",children:t("noStudentsFound")})}):B.map((j,V)=>T.jsxs("tr",{className:"transition",style:{animation:"fadein 0.3s",background:l.has(j.id)?"#f6e6fa":"inherit"},children:[T.jsx("td",{className:"px-2 py-2 text-center align-middle",children:T.jsx("input",{type:"checkbox",className:"accent-[#6654b3]",checked:l.has(j.id),onChange:$=>{const U=new Set(l);$.target.checked?U.add(j.id):U.delete(j.id),u(U)}})}),T.jsx("td",{className:"px-2 py-2 align-middle",children:V+1}),T.jsx("td",{className:"px-2 py-2 align-middle font-semibold",style:{color:zi},children:j.nick_name||T.jsx("span",{className:"text-[#d3d3e0]",children:"—"})}),T.jsx("td",{className:"px-2 py-2 align-middle font-semibold cursor-pointer hover:underline",style:{color:"#3a38a0"},onClick:()=>e(`/myschool/student/${j.id}`),children:j.first_name}),T.jsx("td",{className:"px-2 py-2 align-middle",children:j.last_name}),T.jsx("td",{className:"px-2 py-2 align-middle font-mono",children:j.parent_phone}),T.jsx("td",{className:"px-2 py-2 align-middle",children:T.jsx("span",{className:"rounded-xl px-2 py-1 text-xs font-semibold",style:{background:"#ebe7f7",color:zi,border:"1px solid #e1def5"},children:j.parent_line_id||"—"})}),T.jsx("td",{className:"px-2 py-2 align-middle",children:T.jsx("button",{onClick:()=>x(j),className:"bg-[#6654b3] hover:bg-[#3a38a0] text-white font-bold px-5 py-2 rounded-full transition",children:t("renew")})})]},j.id))})]})}),g&&T.jsx("div",{className:"fixed z-50 inset-0 bg-black/40 flex items-center justify-center",children:T.jsxs("div",{className:"rounded-2xl shadow-lg p-6 max-w-md w-full relative",style:{background:"#fff"},children:[T.jsx("button",{className:"absolute right-4 top-4 text-[#c2bce5] hover:text-[#ec4899]",onClick:()=>y(!1),children:T.jsx(Jo,{className:"w-6 h-6"})}),T.jsx("h2",{className:"text-lg font-bold mb-3",style:{color:"#ec4899"},children:t("exportStudents",{count:l.size})}),T.jsxs("div",{className:"flex gap-2 justify-between",children:[T.jsxs("button",{onClick:()=>{const j=M.filter(X=>l.has(X.id)),V=["No.",t("nickName"),t("firstName"),t("lastName"),t("parentPhone"),t("lineID")],$=j.map((X,oe)=>[oe+1,`"${X.nick_name||""}"`,`"${X.first_name}"`,`"${X.last_name}"`,`"${X.parent_phone}"`,`"${X.parent_line_id||""}"`]),U=[V,...$].map(X=>X.join(",")).join(`
`),q=new Blob([U],{type:"text/csv"}),W=URL.createObjectURL(q),ne=document.createElement("a");ne.href=W,ne.download=`students_export_${Date.now()}.csv`,ne.click(),URL.revokeObjectURL(W),y(!1)},className:"rounded-xl px-4 py-2 font-semibold flex items-center gap-1",style:{background:"#34d399",color:"#fff"},children:[T.jsx(Sh,{className:"w-5 h-5"})," ",t("exportCSV")]}),T.jsxs("button",{onClick:()=>{window.print(),y(!1)},className:"rounded-xl px-4 py-2 font-semibold flex items-center gap-1",style:{background:zi,color:"#fff"},children:[T.jsx(Xm,{className:"w-5 h-5"})," ",t("print")]})]})]})}),b&&T.jsx(NF,{open:!!b,student:b,onClose:()=>x(null),onSubmitted:O}),T.jsx("style",{children:`
        @keyframes fadein { from { opacity:0; transform: scale(0.98);} to { opacity:1; transform: scale(1);} }
      `})]})}function OF(){return hi({queryKey:["courses"],queryFn:async()=>{const{data:t}=await je.from("courses").select("id,name,weekdays,times,capacity").order("name");return t??[]},staleTime:3e5})}function IF(t){return hi({queryKey:["public-admissions-link"],queryFn:async()=>{const{data:e}=await je.from("application_links").select("*").order("created_at",{ascending:!1}).limit(1);let n=e&&e[0]&&new Date(e[0].expires_at)>new Date?e[0]:null;if(!n){await je.from("application_links").update({expires_at:new Date(Date.now()-60*1e3)}).neq("expires_at",null);const{data:r}=await je.from("application_links").insert([{expires_at:new Date(Date.now()+7*24*3600*1e3)}]).select("*").single();n=r}return`${window.location.origin}/apply/${n.id}`},enabled:t,refetchOnWindowFocus:!1})}function MF({msg:t,onClear:e}){return nt.useEffect(()=>{if(!t)return;const n=setTimeout(e,3500);return()=>clearTimeout(n)},[t,e]),t?T.jsx("div",{className:"fixed left-1/2 -translate-x-1/2 bottom-8 z-50 bg-[#6654b3] text-white rounded-2xl px-8 py-3 shadow-xl text-lg font-semibold fade-in",children:t}):null}function Dv({publicMode:t=!1}){const{t:e}=kn(),{user:n}=_f(),r=(n==null?void 0:n.role)??null,[l,u]=R.useState(""),[g,y]=R.useState(""),[b,x]=R.useState(""),[E,C]=R.useState(""),[N,O]=R.useState(""),[M,B]=R.useState(""),[j,V]=R.useState({}),[$,U]=R.useState({}),[q,W]=R.useState([]),ne=R.useRef(null),[X,oe]=R.useState(!1),[ee,pe]=R.useState(!1),[ke,be]=R.useState(""),[Ce,Be]=R.useState(""),[re,se]=R.useState(!1),{data:le,refetch:Le}=IF(re&&(r==="admin"||r==="staff")),{data:ze=[],isLoading:z}=OF();function te(ve){V(He=>{const xt={...He};return xt[ve]?(delete xt[ve],U(ht=>{const{[ve]:st,...Je}=ht;return Je})):xt[ve]={},xt})}function xe(ve,He){V(xt=>{const ht={...xt},st={...ht[ve]||{}};return st[He]?delete st[He]:st[He]=[],Object.keys(st).length?ht[ve]=st:delete ht[ve],ht})}function ye(ve,He,xt){V(ht=>{const st={...ht};return st[ve]=st[ve]||{},st[ve][He]=st[ve][He]||[],st[ve][He].includes(xt)||st[ve][He].push(xt),st})}function Me(ve,He,xt){V(ht=>{const st={...ht};return st[ve][He].splice(xt,1),st[ve][He].length||delete st[ve][He],Object.keys(st[ve]).length||delete st[ve],st})}const Pe=ve=>W(He=>[...He,...ve]),we=ve=>W(He=>He.filter((xt,ht)=>ht!==ve));async function lt(ve){if(ve.preventDefault(),Be(""),!Object.keys(j).length)return Be(e("selectCourseError"));if(!l.trim())return Be(e("enterNickError"));oe(!0);const He=[];for(const xt of q){const ht=`${Date.now()}-${Math.random().toString(36).slice(2)}.${xt.name.split(".").pop()}`,{data:st,error:Je}=await je.storage.from("receipts").upload(ht,xt,{cacheControl:"3600"});if(Je){Be(Je.message),oe(!1);return}const{data:Di}=je.storage.from("receipts").getPublicUrl(st.path);He.push(Di.publicUrl)}if(r==="admin"){const{error:xt}=await je.from("students").insert([{nick_name:l,first_name:g,last_name:b,dob:E,parent_line_id:N,parent_phone:M,courses:j,course_limits:$,payment_receipt_urls:He,joined_at:new Date().toISOString()}]);if(xt){Be(xt.message),oe(!1);return}be(e("studentAdded",{nick:l})),pe(!0)}else{const{error:xt}=await je.from("applications").insert([{nick_name:l,first_name:g,last_name:b,dob:E,parent_line_id:N,parent_phone:M,courses:j,course_limits:$,payment_receipt_urls:He,status:"pending"}]);if(xt){Be(xt.message),oe(!1);return}be(e("applicationSubmitted")),pe(!0)}oe(!1)}return nt.useEffect(()=>{if(!t&&ee){const ve=setTimeout(()=>pe(!1),1200);return()=>clearTimeout(ve)}},[t,ee]),t&&ee?T.jsx("div",{className:"min-h-[60vh] flex flex-col justify-center items-center bg-[#f6f6f6]",children:T.jsxs("div",{className:"bg-gradient-to-br from-blue-50 via-green-50 to-yellow-50 shadow-xl rounded-3xl px-8 py-12 max-w-md w-full flex flex-col items-center",children:[T.jsx("div",{className:"text-3xl font-extrabold mb-3 text-[#6654b3]",children:e("thankYou")}),T.jsxs("div",{className:"text-lg text-gray-700 mb-4 text-center",children:[e("applicationReceived"),T.jsx("br",{}),e("staffWillContact"),T.jsx("br",{}),e("youMayClose")]})]})}):T.jsxs("div",{className:"flex flex-col gap-8 py-10 px-2 sm:px-6 max-w-3xl mx-auto",style:{background:"#f6f6f6"},children:[T.jsxs("header",{className:"mb-4",children:[T.jsx("h1",{className:"text-3xl font-extrabold text-[#6654b3]",children:e("admissionsTitle")}),T.jsx("p",{className:"text-lg text-[#6654b3] mt-2",children:e("admissionsIntro",{staffMsg:e(r==="admin"?"enrollInstant":"contactToConfirm")})})]}),T.jsxs("form",{onSubmit:lt,className:"space-y-8",children:[T.jsxs("div",{className:"bg-white border border-[#ece6fc] p-6 rounded-2xl shadow transition-all",children:[T.jsx("h2",{className:"text-xl font-bold text-[#6654b3] mb-2",children:e("studentInfo")}),T.jsxs("div",{className:"grid md:grid-cols-3 gap-4",children:[T.jsxs("label",{className:"flex flex-col gap-1",children:[T.jsx("span",{className:"font-semibold text-[#6654b3]",children:e("nickName")}),T.jsx("input",{required:!0,className:"border border-[#ece6fc] bg-purple-50 rounded-xl px-4 py-2",value:l,onChange:ve=>u(ve.target.value),maxLength:40,pattern:".*"})]}),T.jsxs("label",{className:"flex flex-col gap-1",children:[T.jsx("span",{className:"font-semibold text-[#6654b3]",children:e("firstName")}),T.jsx("input",{required:!0,className:"border border-[#ece6fc] bg-purple-50 rounded-xl px-4 py-2",value:g,onChange:ve=>y(ve.target.value),maxLength:40,pattern:".*"})]}),T.jsxs("label",{className:"flex flex-col gap-1",children:[T.jsx("span",{className:"font-semibold text-[#6654b3]",children:e("lastName")}),T.jsx("input",{required:!0,className:"border border-[#ece6fc] bg-purple-50 rounded-xl px-4 py-2",value:b,onChange:ve=>x(ve.target.value),maxLength:40,pattern:".*"})]})]}),T.jsxs("label",{className:"flex flex-col gap-1 mt-4 w-full md:w-1/2",children:[T.jsx("span",{className:"font-semibold text-[#6654b3]",children:e("dob")}),T.jsx("input",{required:!0,type:"date",className:"border border-[#ece6fc] bg-purple-50 rounded-xl px-4 py-2",value:E,onChange:ve=>C(ve.target.value)})]})]}),T.jsxs("div",{className:"bg-white border border-[#ece6fc] p-6 rounded-2xl shadow transition-all",children:[T.jsx("h2",{className:"text-xl font-bold text-[#6654b3] mb-2",children:e("guardian")}),T.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[T.jsxs("label",{className:"flex flex-col gap-1",children:[T.jsx("span",{className:"font-semibold text-[#6654b3]",children:e("lineAppId")}),T.jsx("input",{required:!0,className:"border border-[#ece6fc] bg-purple-50 rounded-xl px-4 py-2",value:N,onChange:ve=>O(ve.target.value)})]}),T.jsxs("label",{className:"flex flex-col gap-1",children:[T.jsx("span",{className:"font-semibold text-[#6654b3]",children:e("phone")}),T.jsx("input",{required:!0,className:"border border-[#ece6fc] bg-purple-50 rounded-xl px-4 py-2",value:M,onChange:ve=>B(ve.target.value)})]})]})]}),T.jsxs("div",{className:"bg-white border border-[#ece6fc] p-6 rounded-2xl shadow transition-all",children:[T.jsx("h2",{className:"text-xl font-bold text-[#6654b3] mb-2",children:e("courses")}),z?T.jsx("div",{className:"text-gray-400",children:e("loadingCourses")}):ze.length===0?T.jsx("div",{className:"text-gray-400",children:e("noCourses")}):ze.map(ve=>T.jsxs("div",{className:`mb-2 border ${j[ve.id]?"border-[#6654b3] bg-purple-50":"border-gray-200 bg-white"} rounded-xl p-3 transition-all`,children:[T.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[T.jsx("input",{type:"checkbox",checked:!!j[ve.id],onChange:()=>te(ve.id)}),T.jsx("span",{className:"text-lg",children:ve.name}),T.jsx("span",{className:"text-xs text-gray-400",children:e("seats",{count:ve.capacity})})]}),j[ve.id]&&T.jsxs("div",{className:"ml-8 mt-2 mb-2",children:[ve.weekdays.map(He=>{var xt,ht;return T.jsxs("div",{className:"mb-1",children:[T.jsxs("label",{className:"font-semibold mr-2",children:[T.jsx("input",{type:"checkbox",className:"mr-1",checked:!!((xt=j[ve.id])!=null&&xt[He]),onChange:()=>xe(ve.id,He)}),He]}),!!((ht=j[ve.id])!=null&&ht[He])&&T.jsxs(T.Fragment,{children:[j[ve.id][He].map((st,Je)=>T.jsxs("span",{className:"inline-flex items-center bg-[#ece6fc] rounded-full px-3 py-0.5 text-xs mr-2 mt-1",children:[st,T.jsx("button",{type:"button",className:"ml-1 text-red-500 font-bold",onClick:()=>Me(ve.id,He,Je),children:"✕"})]},Je)),T.jsxs("select",{className:"border rounded px-2 py-1 text-sm ml-2",defaultValue:"",onChange:st=>{st.target.value&&(ye(ve.id,He,st.target.value),st.target.value="")},children:[T.jsx("option",{value:"",children:e("addTime")}),(ve.times[He]||[]).filter(st=>{var Je;return!((Je=j[ve.id][He])!=null&&Je.includes(st))}).map(st=>T.jsx("option",{children:st},st))]})]})]},He)}),T.jsx("div",{className:"mt-2",children:T.jsxs("label",{className:"flex items-center gap-2",children:[T.jsx("span",{className:"font-semibold text-[#6654b3]",children:e("hoursPurchased")}),T.jsx("input",{type:"number",min:1,className:"w-20 border rounded px-2 py-1 bg-purple-50",value:$[ve.id]??"",onChange:He=>U(xt=>({...xt,[ve.id]:Number(He.target.value)})),required:!!j[ve.id]})]})})]})]},ve.id))]}),T.jsxs("div",{className:"bg-white border border-[#ece6fc] p-6 rounded-2xl shadow transition-all",children:[T.jsx("h2",{className:"text-xl font-bold text-[#6654b3] mb-2",children:e("paymentReceipt")}),T.jsxs("div",{className:"flex flex-col gap-2",children:[T.jsx("button",{type:"button",onClick:()=>{var ve;return(ve=ne.current)==null?void 0:ve.click()},className:"rounded-full border border-[#ece6fc] bg-purple-50 text-[#6654b3] px-5 py-2 font-semibold hover:bg-purple-100 transition",children:e("chooseFiles")}),T.jsx("input",{ref:ne,type:"file",multiple:!0,accept:"image/*,application/pdf",className:"hidden",onChange:ve=>ve.target.files&&Pe(Array.from(ve.target.files))}),q.length>0&&T.jsx("ul",{className:"mt-2 space-y-1",children:q.map((ve,He)=>T.jsxs("li",{className:"flex items-center bg-[#ece6fc] rounded-full px-3 py-1 text-sm",children:[T.jsx("span",{className:"truncate max-w-[180px]",children:ve.name}),T.jsx("button",{type:"button",className:"ml-2 text-red-500 font-bold",onClick:()=>we(He),children:"✕"})]},He))})]})]}),T.jsx(MF,{msg:ke||Ce,onClear:()=>{be(""),Be("")}}),T.jsx("div",{className:"flex justify-end",children:T.jsx("button",{type:"submit",disabled:X,className:"bg-[#6654b3] hover:bg-purple-700 text-white font-bold px-8 py-3 rounded-xl shadow disabled:opacity-50 transition",children:e(r==="admin"?X?"adding":"addStudent":X?"submitting":"submitApplication")})}),!t&&(r==="admin"||r==="staff")&&T.jsxs("div",{className:"mt-12 flex flex-col items-center gap-2",children:[T.jsx("button",{type:"button",onClick:()=>{se(!0),Le()},className:"px-5 py-2 rounded-full font-semibold border bg-[#f6f6f6] text-[#6654b3] border-[#ece6fc] hover:bg-[#ece6fc] transition",children:e(le?"refreshPublicAdmissionsLink":"showPublicAdmissionsLink")}),re&&le&&T.jsxs("div",{className:"flex items-center gap-2 mt-2 bg-[#ece6fc] px-4 py-2 rounded-xl w-full max-w-lg",children:[T.jsx("input",{readOnly:!0,className:"flex-1 bg-transparent outline-none",value:le}),T.jsx("button",{onClick:()=>navigator.clipboard.writeText(le),className:"text-[#6654b3] hover:underline font-bold px-2",children:e("copy")})]})]})]})]})}var Ve;(function(t){t[t.QR_CODE=0]="QR_CODE",t[t.AZTEC=1]="AZTEC",t[t.CODABAR=2]="CODABAR",t[t.CODE_39=3]="CODE_39",t[t.CODE_93=4]="CODE_93",t[t.CODE_128=5]="CODE_128",t[t.DATA_MATRIX=6]="DATA_MATRIX",t[t.MAXICODE=7]="MAXICODE",t[t.ITF=8]="ITF",t[t.EAN_13=9]="EAN_13",t[t.EAN_8=10]="EAN_8",t[t.PDF_417=11]="PDF_417",t[t.RSS_14=12]="RSS_14",t[t.RSS_EXPANDED=13]="RSS_EXPANDED",t[t.UPC_A=14]="UPC_A",t[t.UPC_E=15]="UPC_E",t[t.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(Ve||(Ve={}));var Lv=new Map([[Ve.QR_CODE,"QR_CODE"],[Ve.AZTEC,"AZTEC"],[Ve.CODABAR,"CODABAR"],[Ve.CODE_39,"CODE_39"],[Ve.CODE_93,"CODE_93"],[Ve.CODE_128,"CODE_128"],[Ve.DATA_MATRIX,"DATA_MATRIX"],[Ve.MAXICODE,"MAXICODE"],[Ve.ITF,"ITF"],[Ve.EAN_13,"EAN_13"],[Ve.EAN_8,"EAN_8"],[Ve.PDF_417,"PDF_417"],[Ve.RSS_14,"RSS_14"],[Ve.RSS_EXPANDED,"RSS_EXPANDED"],[Ve.UPC_A,"UPC_A"],[Ve.UPC_E,"UPC_E"],[Ve.UPC_EAN_EXTENSION,"UPC_EAN_EXTENSION"]]),kv;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.URL=1]="URL"})(kv||(kv={}));function DF(t){return Object.values(Ve).includes(t)}var so;(function(t){t[t.SCAN_TYPE_CAMERA=0]="SCAN_TYPE_CAMERA",t[t.SCAN_TYPE_FILE=1]="SCAN_TYPE_FILE"})(so||(so={}));var Us=function(){function t(){}return t.GITHUB_PROJECT_URL="https://github.com/mebjas/html5-qrcode",t.SCAN_DEFAULT_FPS=2,t.DEFAULT_DISABLE_FLIP=!1,t.DEFAULT_REMEMBER_LAST_CAMERA_USED=!0,t.DEFAULT_SUPPORTED_SCAN_TYPE=[so.SCAN_TYPE_CAMERA,so.SCAN_TYPE_FILE],t}(),vC=function(){function t(e,n){this.format=e,this.formatName=n}return t.prototype.toString=function(){return this.formatName},t.create=function(e){if(!Lv.has(e))throw"".concat(e," not in html5QrcodeSupportedFormatsTextMap");return new t(e,Lv.get(e))},t}(),jv=function(){function t(){}return t.createFromText=function(e){var n={text:e};return{decodedText:e,result:n}},t.createFromQrcodeResult=function(e){return{decodedText:e.text,result:e}},t}(),Om;(function(t){t[t.UNKWOWN_ERROR=0]="UNKWOWN_ERROR",t[t.IMPLEMENTATION_ERROR=1]="IMPLEMENTATION_ERROR",t[t.NO_CODE_FOUND_ERROR=2]="NO_CODE_FOUND_ERROR"})(Om||(Om={}));var EC=function(){function t(){}return t.createFrom=function(e){return{errorMessage:e,type:Om.UNKWOWN_ERROR}},t}(),SC=function(){function t(e){this.verbose=e}return t.prototype.log=function(e){this.verbose&&console.log(e)},t.prototype.warn=function(e){this.verbose&&console.warn(e)},t.prototype.logError=function(e,n){(this.verbose||n===!0)&&console.error(e)},t.prototype.logErrors=function(e){if(e.length===0)throw"Logger#logError called without arguments";this.verbose&&console.error(e)},t}();function ur(t){return typeof t>"u"||t===null}function LF(t,e,n){return t>n?n:t<e?e:t}var hc=function(){function t(){}return t.codeParseError=function(e){return"QR code parse error, error = ".concat(e)},t.errorGettingUserMedia=function(e){return"Error getting userMedia, error = ".concat(e)},t.onlyDeviceSupportedError=function(){return"The device doesn't support navigator.mediaDevices , only supported cameraIdOrConfig in this case is deviceId parameter (string)."},t.cameraStreamingNotSupported=function(){return"Camera streaming not supported by the browser."},t.unableToQuerySupportedDevices=function(){return"Unable to query supported devices, unknown error."},t.insecureContextCameraQueryError=function(){return"Camera access is only supported in secure context like https or localhost."},t.scannerPaused=function(){return"Scanner paused"},t}(),Yt=function(){function t(){}return t.scanningStatus=function(){return"Scanning"},t.idleStatus=function(){return"Idle"},t.errorStatus=function(){return"Error"},t.permissionStatus=function(){return"Permission"},t.noCameraFoundErrorStatus=function(){return"No Cameras"},t.lastMatch=function(e){return"Last Match: ".concat(e)},t.codeScannerTitle=function(){return"Code Scanner"},t.cameraPermissionTitle=function(){return"Request Camera Permissions"},t.cameraPermissionRequesting=function(){return"Requesting camera permissions..."},t.noCameraFound=function(){return"No camera found"},t.scanButtonStopScanningText=function(){return"Stop Scanning"},t.scanButtonStartScanningText=function(){return"Start Scanning"},t.torchOnButton=function(){return"Switch On Torch"},t.torchOffButton=function(){return"Switch Off Torch"},t.torchOnFailedMessage=function(){return"Failed to turn on torch"},t.torchOffFailedMessage=function(){return"Failed to turn off torch"},t.scanButtonScanningStarting=function(){return"Launching Camera..."},t.textIfCameraScanSelected=function(){return"Scan an Image File"},t.textIfFileScanSelected=function(){return"Scan using camera directly"},t.selectCamera=function(){return"Select Camera"},t.fileSelectionChooseImage=function(){return"Choose Image"},t.fileSelectionChooseAnother=function(){return"Choose Another"},t.fileSelectionNoImageSelected=function(){return"No image choosen"},t.anonymousCameraPrefix=function(){return"Anonymous Camera"},t.dragAndDropMessage=function(){return"Or drop an image to scan"},t.dragAndDropMessageOnlyImages=function(){return"Or drop an image to scan (other files not supported)"},t.zoom=function(){return"zoom"},t.loadingImage=function(){return"Loading image..."},t.cameraScanAltText=function(){return"Camera based scan"},t.fileScanAltText=function(){return"Fule based scan"},t}(),Bv=function(){function t(){}return t.poweredBy=function(){return"Powered by "},t.reportIssues=function(){return"Report issues"},t}(),CC=function(){function t(){}return t.isMediaStreamConstraintsValid=function(e,n){if(typeof e!="object"){var r=typeof e;return n.logError("videoConstraints should be of type object, the "+"object passed is of type ".concat(r,"."),!0),!1}for(var l=["autoGainControl","channelCount","echoCancellation","latency","noiseSuppression","sampleRate","sampleSize","volume"],u=new Set(l),g=Object.keys(e),y=0,b=g;y<b.length;y++){var x=b[y];if(u.has(x))return n.logError("".concat(x," is not supported videoConstaints."),!0),!1}return!0},t}(),Yu={exports:{}},kF=Yu.exports,Pv;function jF(){return Pv||(Pv=1,function(t,e){(function(n,r){r(e)})(kF,function(n){function r(L){return L==null}var l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(L,s){L.__proto__=s}||function(L,s){for(var o in s)s.hasOwnProperty(o)&&(L[o]=s[o])};function u(L,s){l(L,s);function o(){this.constructor=L}L.prototype=s===null?Object.create(s):(o.prototype=s.prototype,new o)}function g(L,s){var o=Object.setPrototypeOf;o?o(L,s):L.__proto__=s}function y(L,s){s===void 0&&(s=L.constructor);var o=Error.captureStackTrace;o&&o(L,s)}var b=function(L){u(s,L);function s(o){var c=this.constructor,d=L.call(this,o)||this;return Object.defineProperty(d,"name",{value:c.name,enumerable:!1}),g(d,c.prototype),y(d),d}return s}(Error);class x extends b{constructor(s=void 0){super(s),this.message=s}getKind(){return this.constructor.kind}}x.kind="Exception";class E extends x{}E.kind="ArgumentException";class C extends x{}C.kind="IllegalArgumentException";class N{constructor(s){if(this.binarizer=s,s===null)throw new C("Binarizer must be non-null.")}getWidth(){return this.binarizer.getWidth()}getHeight(){return this.binarizer.getHeight()}getBlackRow(s,o){return this.binarizer.getBlackRow(s,o)}getBlackMatrix(){return(this.matrix===null||this.matrix===void 0)&&(this.matrix=this.binarizer.getBlackMatrix()),this.matrix}isCropSupported(){return this.binarizer.getLuminanceSource().isCropSupported()}crop(s,o,c,d){const h=this.binarizer.getLuminanceSource().crop(s,o,c,d);return new N(this.binarizer.createBinarizer(h))}isRotateSupported(){return this.binarizer.getLuminanceSource().isRotateSupported()}rotateCounterClockwise(){const s=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new N(this.binarizer.createBinarizer(s))}rotateCounterClockwise45(){const s=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new N(this.binarizer.createBinarizer(s))}toString(){try{return this.getBlackMatrix().toString()}catch{return""}}}class O extends x{static getChecksumInstance(){return new O}}O.kind="ChecksumException";class M{constructor(s){this.source=s}getLuminanceSource(){return this.source}getWidth(){return this.source.getWidth()}getHeight(){return this.source.getHeight()}}class B{static arraycopy(s,o,c,d,h){for(;h--;)c[d++]=s[o++]}static currentTimeMillis(){return Date.now()}}class j extends x{}j.kind="IndexOutOfBoundsException";class V extends j{constructor(s=void 0,o=void 0){super(o),this.index=s,this.message=o}}V.kind="ArrayIndexOutOfBoundsException";class ${static fill(s,o){for(let c=0,d=s.length;c<d;c++)s[c]=o}static fillWithin(s,o,c,d){$.rangeCheck(s.length,o,c);for(let h=o;h<c;h++)s[h]=d}static rangeCheck(s,o,c){if(o>c)throw new C("fromIndex("+o+") > toIndex("+c+")");if(o<0)throw new V(o);if(c>s)throw new V(c)}static asList(...s){return s}static create(s,o,c){return Array.from({length:s}).map(h=>Array.from({length:o}).fill(c))}static createInt32Array(s,o,c){return Array.from({length:s}).map(h=>Int32Array.from({length:o}).fill(c))}static equals(s,o){if(!s||!o||!s.length||!o.length||s.length!==o.length)return!1;for(let c=0,d=s.length;c<d;c++)if(s[c]!==o[c])return!1;return!0}static hashCode(s){if(s===null)return 0;let o=1;for(const c of s)o=31*o+c;return o}static fillUint8Array(s,o){for(let c=0;c!==s.length;c++)s[c]=o}static copyOf(s,o){return s.slice(0,o)}static copyOfUint8Array(s,o){if(s.length<=o){const c=new Uint8Array(o);return c.set(s),c}return s.slice(0,o)}static copyOfRange(s,o,c){const d=c-o,h=new Int32Array(d);return B.arraycopy(s,o,h,0,d),h}static binarySearch(s,o,c){c===void 0&&(c=$.numberComparator);let d=0,h=s.length-1;for(;d<=h;){const p=h+d>>1,w=c(o,s[p]);if(w>0)d=p+1;else if(w<0)h=p-1;else return p}return-d-1}static numberComparator(s,o){return s-o}}class U{static numberOfTrailingZeros(s){let o;if(s===0)return 32;let c=31;return o=s<<16,o!==0&&(c-=16,s=o),o=s<<8,o!==0&&(c-=8,s=o),o=s<<4,o!==0&&(c-=4,s=o),o=s<<2,o!==0&&(c-=2,s=o),c-(s<<1>>>31)}static numberOfLeadingZeros(s){if(s===0)return 32;let o=1;return s>>>16||(o+=16,s<<=16),s>>>24||(o+=8,s<<=8),s>>>28||(o+=4,s<<=4),s>>>30||(o+=2,s<<=2),o-=s>>>31,o}static toHexString(s){return s.toString(16)}static toBinaryString(s){return String(parseInt(String(s),2))}static bitCount(s){return s=s-(s>>>1&1431655765),s=(s&858993459)+(s>>>2&858993459),s=s+(s>>>4)&252645135,s=s+(s>>>8),s=s+(s>>>16),s&63}static truncDivision(s,o){return Math.trunc(s/o)}static parseInt(s,o=void 0){return parseInt(s,o)}}U.MIN_VALUE_32_BITS=-2147483648,U.MAX_VALUE=Number.MAX_SAFE_INTEGER;class q{constructor(s,o){s===void 0?(this.size=0,this.bits=new Int32Array(1)):(this.size=s,o==null?this.bits=q.makeArray(s):this.bits=o)}getSize(){return this.size}getSizeInBytes(){return Math.floor((this.size+7)/8)}ensureCapacity(s){if(s>this.bits.length*32){const o=q.makeArray(s);B.arraycopy(this.bits,0,o,0,this.bits.length),this.bits=o}}get(s){return(this.bits[Math.floor(s/32)]&1<<(s&31))!==0}set(s){this.bits[Math.floor(s/32)]|=1<<(s&31)}flip(s){this.bits[Math.floor(s/32)]^=1<<(s&31)}getNextSet(s){const o=this.size;if(s>=o)return o;const c=this.bits;let d=Math.floor(s/32),h=c[d];h&=~((1<<(s&31))-1);const p=c.length;for(;h===0;){if(++d===p)return o;h=c[d]}const w=d*32+U.numberOfTrailingZeros(h);return w>o?o:w}getNextUnset(s){const o=this.size;if(s>=o)return o;const c=this.bits;let d=Math.floor(s/32),h=~c[d];h&=~((1<<(s&31))-1);const p=c.length;for(;h===0;){if(++d===p)return o;h=~c[d]}const w=d*32+U.numberOfTrailingZeros(h);return w>o?o:w}setBulk(s,o){this.bits[Math.floor(s/32)]=o}setRange(s,o){if(o<s||s<0||o>this.size)throw new C;if(o===s)return;o--;const c=Math.floor(s/32),d=Math.floor(o/32),h=this.bits;for(let p=c;p<=d;p++){const w=p>c?0:s&31,_=(2<<(p<d?31:o&31))-(1<<w);h[p]|=_}}clear(){const s=this.bits.length,o=this.bits;for(let c=0;c<s;c++)o[c]=0}isRange(s,o,c){if(o<s||s<0||o>this.size)throw new C;if(o===s)return!0;o--;const d=Math.floor(s/32),h=Math.floor(o/32),p=this.bits;for(let w=d;w<=h;w++){const S=w>d?0:s&31,I=(2<<(w<h?31:o&31))-(1<<S)&4294967295;if((p[w]&I)!==(c?I:0))return!1}return!0}appendBit(s){this.ensureCapacity(this.size+1),s&&(this.bits[Math.floor(this.size/32)]|=1<<(this.size&31)),this.size++}appendBits(s,o){if(o<0||o>32)throw new C("Num bits must be between 0 and 32");this.ensureCapacity(this.size+o);for(let c=o;c>0;c--)this.appendBit((s>>c-1&1)===1)}appendBitArray(s){const o=s.size;this.ensureCapacity(this.size+o);for(let c=0;c<o;c++)this.appendBit(s.get(c))}xor(s){if(this.size!==s.size)throw new C("Sizes don't match");const o=this.bits;for(let c=0,d=o.length;c<d;c++)o[c]^=s.bits[c]}toBytes(s,o,c,d){for(let h=0;h<d;h++){let p=0;for(let w=0;w<8;w++)this.get(s)&&(p|=1<<7-w),s++;o[c+h]=p}}getBitArray(){return this.bits}reverse(){const s=new Int32Array(this.bits.length),o=Math.floor((this.size-1)/32),c=o+1,d=this.bits;for(let h=0;h<c;h++){let p=d[h];p=p>>1&1431655765|(p&1431655765)<<1,p=p>>2&858993459|(p&858993459)<<2,p=p>>4&252645135|(p&252645135)<<4,p=p>>8&16711935|(p&16711935)<<8,p=p>>16&65535|(p&65535)<<16,s[o-h]=p}if(this.size!==c*32){const h=c*32-this.size;let p=s[0]>>>h;for(let w=1;w<c;w++){const S=s[w];p|=S<<32-h,s[w-1]=p,p=S>>>h}s[c-1]=p}this.bits=s}static makeArray(s){return new Int32Array(Math.floor((s+31)/32))}equals(s){if(!(s instanceof q))return!1;const o=s;return this.size===o.size&&$.equals(this.bits,o.bits)}hashCode(){return 31*this.size+$.hashCode(this.bits)}toString(){let s="";for(let o=0,c=this.size;o<c;o++)(o&7)===0&&(s+=" "),s+=this.get(o)?"X":".";return s}clone(){return new q(this.size,this.bits.slice())}}var W;(function(L){L[L.OTHER=0]="OTHER",L[L.PURE_BARCODE=1]="PURE_BARCODE",L[L.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",L[L.TRY_HARDER=3]="TRY_HARDER",L[L.CHARACTER_SET=4]="CHARACTER_SET",L[L.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",L[L.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",L[L.ASSUME_GS1=7]="ASSUME_GS1",L[L.RETURN_CODABAR_START_END=8]="RETURN_CODABAR_START_END",L[L.NEED_RESULT_POINT_CALLBACK=9]="NEED_RESULT_POINT_CALLBACK",L[L.ALLOWED_EAN_EXTENSIONS=10]="ALLOWED_EAN_EXTENSIONS"})(W||(W={}));var ne=W;class X extends x{static getFormatInstance(){return new X}}X.kind="FormatException";var oe;(function(L){L[L.Cp437=0]="Cp437",L[L.ISO8859_1=1]="ISO8859_1",L[L.ISO8859_2=2]="ISO8859_2",L[L.ISO8859_3=3]="ISO8859_3",L[L.ISO8859_4=4]="ISO8859_4",L[L.ISO8859_5=5]="ISO8859_5",L[L.ISO8859_6=6]="ISO8859_6",L[L.ISO8859_7=7]="ISO8859_7",L[L.ISO8859_8=8]="ISO8859_8",L[L.ISO8859_9=9]="ISO8859_9",L[L.ISO8859_10=10]="ISO8859_10",L[L.ISO8859_11=11]="ISO8859_11",L[L.ISO8859_13=12]="ISO8859_13",L[L.ISO8859_14=13]="ISO8859_14",L[L.ISO8859_15=14]="ISO8859_15",L[L.ISO8859_16=15]="ISO8859_16",L[L.SJIS=16]="SJIS",L[L.Cp1250=17]="Cp1250",L[L.Cp1251=18]="Cp1251",L[L.Cp1252=19]="Cp1252",L[L.Cp1256=20]="Cp1256",L[L.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",L[L.UTF8=22]="UTF8",L[L.ASCII=23]="ASCII",L[L.Big5=24]="Big5",L[L.GB18030=25]="GB18030",L[L.EUC_KR=26]="EUC_KR"})(oe||(oe={}));class ee{constructor(s,o,c,...d){this.valueIdentifier=s,this.name=c,typeof o=="number"?this.values=Int32Array.from([o]):this.values=o,this.otherEncodingNames=d,ee.VALUE_IDENTIFIER_TO_ECI.set(s,this),ee.NAME_TO_ECI.set(c,this);const h=this.values;for(let p=0,w=h.length;p!==w;p++){const S=h[p];ee.VALUES_TO_ECI.set(S,this)}for(const p of d)ee.NAME_TO_ECI.set(p,this)}getValueIdentifier(){return this.valueIdentifier}getName(){return this.name}getValue(){return this.values[0]}static getCharacterSetECIByValue(s){if(s<0||s>=900)throw new X("incorect value");const o=ee.VALUES_TO_ECI.get(s);if(o===void 0)throw new X("incorect value");return o}static getCharacterSetECIByName(s){const o=ee.NAME_TO_ECI.get(s);if(o===void 0)throw new X("incorect value");return o}equals(s){if(!(s instanceof ee))return!1;const o=s;return this.getName()===o.getName()}}ee.VALUE_IDENTIFIER_TO_ECI=new Map,ee.VALUES_TO_ECI=new Map,ee.NAME_TO_ECI=new Map,ee.Cp437=new ee(oe.Cp437,Int32Array.from([0,2]),"Cp437"),ee.ISO8859_1=new ee(oe.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),ee.ISO8859_2=new ee(oe.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),ee.ISO8859_3=new ee(oe.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),ee.ISO8859_4=new ee(oe.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),ee.ISO8859_5=new ee(oe.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),ee.ISO8859_6=new ee(oe.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),ee.ISO8859_7=new ee(oe.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),ee.ISO8859_8=new ee(oe.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),ee.ISO8859_9=new ee(oe.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),ee.ISO8859_10=new ee(oe.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),ee.ISO8859_11=new ee(oe.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),ee.ISO8859_13=new ee(oe.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),ee.ISO8859_14=new ee(oe.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),ee.ISO8859_15=new ee(oe.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),ee.ISO8859_16=new ee(oe.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),ee.SJIS=new ee(oe.SJIS,20,"SJIS","Shift_JIS"),ee.Cp1250=new ee(oe.Cp1250,21,"Cp1250","windows-1250"),ee.Cp1251=new ee(oe.Cp1251,22,"Cp1251","windows-1251"),ee.Cp1252=new ee(oe.Cp1252,23,"Cp1252","windows-1252"),ee.Cp1256=new ee(oe.Cp1256,24,"Cp1256","windows-1256"),ee.UnicodeBigUnmarked=new ee(oe.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),ee.UTF8=new ee(oe.UTF8,26,"UTF8","UTF-8"),ee.ASCII=new ee(oe.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),ee.Big5=new ee(oe.Big5,28,"Big5"),ee.GB18030=new ee(oe.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),ee.EUC_KR=new ee(oe.EUC_KR,30,"EUC_KR","EUC-KR");class pe extends x{}pe.kind="UnsupportedOperationException";class ke{static decode(s,o){const c=this.encodingName(o);return this.customDecoder?this.customDecoder(s,c):typeof TextDecoder>"u"||this.shouldDecodeOnFallback(c)?this.decodeFallback(s,c):new TextDecoder(c).decode(s)}static shouldDecodeOnFallback(s){return!ke.isBrowser()&&s==="ISO-8859-1"}static encode(s,o){const c=this.encodingName(o);return this.customEncoder?this.customEncoder(s,c):typeof TextEncoder>"u"?this.encodeFallback(s):new TextEncoder().encode(s)}static isBrowser(){return typeof window<"u"&&{}.toString.call(window)==="[object Window]"}static encodingName(s){return typeof s=="string"?s:s.getName()}static encodingCharacterSet(s){return s instanceof ee?s:ee.getCharacterSetECIByName(s)}static decodeFallback(s,o){const c=this.encodingCharacterSet(o);if(ke.isDecodeFallbackSupported(c)){let d="";for(let h=0,p=s.length;h<p;h++){let w=s[h].toString(16);w.length<2&&(w="0"+w),d+="%"+w}return decodeURIComponent(d)}if(c.equals(ee.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(s.buffer));throw new pe(`Encoding ${this.encodingName(o)} not supported by fallback.`)}static isDecodeFallbackSupported(s){return s.equals(ee.UTF8)||s.equals(ee.ISO8859_1)||s.equals(ee.ASCII)}static encodeFallback(s){const c=btoa(unescape(encodeURIComponent(s))).split(""),d=[];for(let h=0;h<c.length;h++)d.push(c[h].charCodeAt(0));return new Uint8Array(d)}}class be{static castAsNonUtf8Char(s,o=null){const c=o?o.getName():this.ISO88591;return ke.decode(new Uint8Array([s]),c)}static guessEncoding(s,o){if(o!=null&&o.get(ne.CHARACTER_SET)!==void 0)return o.get(ne.CHARACTER_SET).toString();const c=s.length;let d=!0,h=!0,p=!0,w=0,S=0,_=0,I=0,k=0,P=0,G=0,K=0,Q=0,ae=0,he=0;const Ie=s.length>3&&s[0]===239&&s[1]===187&&s[2]===191;for(let De=0;De<c&&(d||h||p);De++){const Re=s[De]&255;p&&(w>0?(Re&128)===0?p=!1:w--:(Re&128)!==0&&((Re&64)===0?p=!1:(w++,(Re&32)===0?S++:(w++,(Re&16)===0?_++:(w++,(Re&8)===0?I++:p=!1))))),d&&(Re>127&&Re<160?d=!1:Re>159&&(Re<192||Re===215||Re===247)&&he++),h&&(k>0?Re<64||Re===127||Re>252?h=!1:k--:Re===128||Re===160||Re>239?h=!1:Re>160&&Re<224?(P++,K=0,G++,G>Q&&(Q=G)):Re>127?(k++,G=0,K++,K>ae&&(ae=K)):(G=0,K=0))}return p&&w>0&&(p=!1),h&&k>0&&(h=!1),p&&(Ie||S+_+I>0)?be.UTF8:h&&(be.ASSUME_SHIFT_JIS||Q>=3||ae>=3)?be.SHIFT_JIS:d&&h?Q===2&&P===2||he*10>=c?be.SHIFT_JIS:be.ISO88591:d?be.ISO88591:h?be.SHIFT_JIS:p?be.UTF8:be.PLATFORM_DEFAULT_ENCODING}static format(s,...o){let c=-1;function d(p,w,S,_,I,k){if(p==="%%")return"%";if(o[++c]===void 0)return;p=_?parseInt(_.substr(1)):void 0;let P=I?parseInt(I.substr(1)):void 0,G;switch(k){case"s":G=o[c];break;case"c":G=o[c][0];break;case"f":G=parseFloat(o[c]).toFixed(p);break;case"p":G=parseFloat(o[c]).toPrecision(p);break;case"e":G=parseFloat(o[c]).toExponential(p);break;case"x":G=parseInt(o[c]).toString(P||16);break;case"d":G=parseFloat(parseInt(o[c],P||10).toPrecision(p)).toFixed(0);break}G=typeof G=="object"?JSON.stringify(G):(+G).toString(P);let K=parseInt(S),Q=S&&S[0]+""=="0"?"0":" ";for(;G.length<K;)G=w!==void 0?G+Q:Q+G;return G}let h=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return s.replace(h,d)}static getBytes(s,o){return ke.encode(s,o)}static getCharCode(s,o=0){return s.charCodeAt(o)}static getCharAt(s){return String.fromCharCode(s)}}be.SHIFT_JIS=ee.SJIS.getName(),be.GB2312="GB2312",be.ISO88591=ee.ISO8859_1.getName(),be.EUC_JP="EUC_JP",be.UTF8=ee.UTF8.getName(),be.PLATFORM_DEFAULT_ENCODING=be.UTF8,be.ASSUME_SHIFT_JIS=!1;class Ce{constructor(s=""){this.value=s}enableDecoding(s){return this.encoding=s,this}append(s){return typeof s=="string"?this.value+=s.toString():this.encoding?this.value+=be.castAsNonUtf8Char(s,this.encoding):this.value+=String.fromCharCode(s),this}appendChars(s,o,c){for(let d=o;o<o+c;d++)this.append(s[d]);return this}length(){return this.value.length}charAt(s){return this.value.charAt(s)}deleteCharAt(s){this.value=this.value.substr(0,s)+this.value.substring(s+1)}setCharAt(s,o){this.value=this.value.substr(0,s)+o+this.value.substr(s+1)}substring(s,o){return this.value.substring(s,o)}setLengthToZero(){this.value=""}toString(){return this.value}insert(s,o){this.value=this.value.substr(0,s)+o+this.value.substr(s+o.length)}}class Be{constructor(s,o,c,d){if(this.width=s,this.height=o,this.rowSize=c,this.bits=d,o==null&&(o=s),this.height=o,s<1||o<1)throw new C("Both dimensions must be greater than 0");c==null&&(c=Math.floor((s+31)/32)),this.rowSize=c,d==null&&(this.bits=new Int32Array(this.rowSize*this.height))}static parseFromBooleanArray(s){const o=s.length,c=s[0].length,d=new Be(c,o);for(let h=0;h<o;h++){const p=s[h];for(let w=0;w<c;w++)p[w]&&d.set(w,h)}return d}static parseFromString(s,o,c){if(s===null)throw new C("stringRepresentation cannot be null");const d=new Array(s.length);let h=0,p=0,w=-1,S=0,_=0;for(;_<s.length;)if(s.charAt(_)===`
`||s.charAt(_)==="\r"){if(h>p){if(w===-1)w=h-p;else if(h-p!==w)throw new C("row lengths do not match");p=h,S++}_++}else if(s.substring(_,_+o.length)===o)_+=o.length,d[h]=!0,h++;else if(s.substring(_,_+c.length)===c)_+=c.length,d[h]=!1,h++;else throw new C("illegal character encountered: "+s.substring(_));if(h>p){if(w===-1)w=h-p;else if(h-p!==w)throw new C("row lengths do not match");S++}const I=new Be(w,S);for(let k=0;k<h;k++)d[k]&&I.set(Math.floor(k%w),Math.floor(k/w));return I}get(s,o){const c=o*this.rowSize+Math.floor(s/32);return(this.bits[c]>>>(s&31)&1)!==0}set(s,o){const c=o*this.rowSize+Math.floor(s/32);this.bits[c]|=1<<(s&31)&4294967295}unset(s,o){const c=o*this.rowSize+Math.floor(s/32);this.bits[c]&=~(1<<(s&31)&4294967295)}flip(s,o){const c=o*this.rowSize+Math.floor(s/32);this.bits[c]^=1<<(s&31)&4294967295}xor(s){if(this.width!==s.getWidth()||this.height!==s.getHeight()||this.rowSize!==s.getRowSize())throw new C("input matrix dimensions do not match");const o=new q(Math.floor(this.width/32)+1),c=this.rowSize,d=this.bits;for(let h=0,p=this.height;h<p;h++){const w=h*c,S=s.getRow(h,o).getBitArray();for(let _=0;_<c;_++)d[w+_]^=S[_]}}clear(){const s=this.bits,o=s.length;for(let c=0;c<o;c++)s[c]=0}setRegion(s,o,c,d){if(o<0||s<0)throw new C("Left and top must be nonnegative");if(d<1||c<1)throw new C("Height and width must be at least 1");const h=s+c,p=o+d;if(p>this.height||h>this.width)throw new C("The region must fit inside the matrix");const w=this.rowSize,S=this.bits;for(let _=o;_<p;_++){const I=_*w;for(let k=s;k<h;k++)S[I+Math.floor(k/32)]|=1<<(k&31)&4294967295}}getRow(s,o){o==null||o.getSize()<this.width?o=new q(this.width):o.clear();const c=this.rowSize,d=this.bits,h=s*c;for(let p=0;p<c;p++)o.setBulk(p*32,d[h+p]);return o}setRow(s,o){B.arraycopy(o.getBitArray(),0,this.bits,s*this.rowSize,this.rowSize)}rotate180(){const s=this.getWidth(),o=this.getHeight();let c=new q(s),d=new q(s);for(let h=0,p=Math.floor((o+1)/2);h<p;h++)c=this.getRow(h,c),d=this.getRow(o-1-h,d),c.reverse(),d.reverse(),this.setRow(h,d),this.setRow(o-1-h,c)}getEnclosingRectangle(){const s=this.width,o=this.height,c=this.rowSize,d=this.bits;let h=s,p=o,w=-1,S=-1;for(let _=0;_<o;_++)for(let I=0;I<c;I++){const k=d[_*c+I];if(k!==0){if(_<p&&(p=_),_>S&&(S=_),I*32<h){let P=0;for(;(k<<31-P&4294967295)===0;)P++;I*32+P<h&&(h=I*32+P)}if(I*32+31>w){let P=31;for(;!(k>>>P);)P--;I*32+P>w&&(w=I*32+P)}}}return w<h||S<p?null:Int32Array.from([h,p,w-h+1,S-p+1])}getTopLeftOnBit(){const s=this.rowSize,o=this.bits;let c=0;for(;c<o.length&&o[c]===0;)c++;if(c===o.length)return null;const d=c/s;let h=c%s*32;const p=o[c];let w=0;for(;(p<<31-w&4294967295)===0;)w++;return h+=w,Int32Array.from([h,d])}getBottomRightOnBit(){const s=this.rowSize,o=this.bits;let c=o.length-1;for(;c>=0&&o[c]===0;)c--;if(c<0)return null;const d=Math.floor(c/s);let h=Math.floor(c%s)*32;const p=o[c];let w=31;for(;!(p>>>w);)w--;return h+=w,Int32Array.from([h,d])}getWidth(){return this.width}getHeight(){return this.height}getRowSize(){return this.rowSize}equals(s){if(!(s instanceof Be))return!1;const o=s;return this.width===o.width&&this.height===o.height&&this.rowSize===o.rowSize&&$.equals(this.bits,o.bits)}hashCode(){let s=this.width;return s=31*s+this.width,s=31*s+this.height,s=31*s+this.rowSize,s=31*s+$.hashCode(this.bits),s}toString(s="X ",o="  ",c=`
`){return this.buildToString(s,o,c)}buildToString(s,o,c){let d=new Ce;for(let h=0,p=this.height;h<p;h++){for(let w=0,S=this.width;w<S;w++)d.append(this.get(w,h)?s:o);d.append(c)}return d.toString()}clone(){return new Be(this.width,this.height,this.rowSize,this.bits.slice())}}class re extends x{static getNotFoundInstance(){return new re}}re.kind="NotFoundException";class se extends M{constructor(s){super(s),this.luminances=se.EMPTY,this.buckets=new Int32Array(se.LUMINANCE_BUCKETS)}getBlackRow(s,o){const c=this.getLuminanceSource(),d=c.getWidth();o==null||o.getSize()<d?o=new q(d):o.clear(),this.initArrays(d);const h=c.getRow(s,this.luminances),p=this.buckets;for(let S=0;S<d;S++)p[(h[S]&255)>>se.LUMINANCE_SHIFT]++;const w=se.estimateBlackPoint(p);if(d<3)for(let S=0;S<d;S++)(h[S]&255)<w&&o.set(S);else{let S=h[0]&255,_=h[1]&255;for(let I=1;I<d-1;I++){const k=h[I+1]&255;(_*4-S-k)/2<w&&o.set(I),S=_,_=k}}return o}getBlackMatrix(){const s=this.getLuminanceSource(),o=s.getWidth(),c=s.getHeight(),d=new Be(o,c);this.initArrays(o);const h=this.buckets;for(let S=1;S<5;S++){const _=Math.floor(c*S/5),I=s.getRow(_,this.luminances),k=Math.floor(o*4/5);for(let P=Math.floor(o/5);P<k;P++){const G=I[P]&255;h[G>>se.LUMINANCE_SHIFT]++}}const p=se.estimateBlackPoint(h),w=s.getMatrix();for(let S=0;S<c;S++){const _=S*o;for(let I=0;I<o;I++)(w[_+I]&255)<p&&d.set(I,S)}return d}createBinarizer(s){return new se(s)}initArrays(s){this.luminances.length<s&&(this.luminances=new Uint8ClampedArray(s));const o=this.buckets;for(let c=0;c<se.LUMINANCE_BUCKETS;c++)o[c]=0}static estimateBlackPoint(s){const o=s.length;let c=0,d=0,h=0;for(let I=0;I<o;I++)s[I]>h&&(d=I,h=s[I]),s[I]>c&&(c=s[I]);let p=0,w=0;for(let I=0;I<o;I++){const k=I-d,P=s[I]*k*k;P>w&&(p=I,w=P)}if(d>p){const I=d;d=p,p=I}if(p-d<=o/16)throw new re;let S=p-1,_=-1;for(let I=p-1;I>d;I--){const k=I-d,P=k*k*(p-I)*(c-s[I]);P>_&&(S=I,_=P)}return S<<se.LUMINANCE_SHIFT}}se.LUMINANCE_BITS=5,se.LUMINANCE_SHIFT=8-se.LUMINANCE_BITS,se.LUMINANCE_BUCKETS=1<<se.LUMINANCE_BITS,se.EMPTY=Uint8ClampedArray.from([0]);class le extends se{constructor(s){super(s),this.matrix=null}getBlackMatrix(){if(this.matrix!==null)return this.matrix;const s=this.getLuminanceSource(),o=s.getWidth(),c=s.getHeight();if(o>=le.MINIMUM_DIMENSION&&c>=le.MINIMUM_DIMENSION){const d=s.getMatrix();let h=o>>le.BLOCK_SIZE_POWER;(o&le.BLOCK_SIZE_MASK)!==0&&h++;let p=c>>le.BLOCK_SIZE_POWER;(c&le.BLOCK_SIZE_MASK)!==0&&p++;const w=le.calculateBlackPoints(d,h,p,o,c),S=new Be(o,c);le.calculateThresholdForBlock(d,h,p,o,c,w,S),this.matrix=S}else this.matrix=super.getBlackMatrix();return this.matrix}createBinarizer(s){return new le(s)}static calculateThresholdForBlock(s,o,c,d,h,p,w){const S=h-le.BLOCK_SIZE,_=d-le.BLOCK_SIZE;for(let I=0;I<c;I++){let k=I<<le.BLOCK_SIZE_POWER;k>S&&(k=S);const P=le.cap(I,2,c-3);for(let G=0;G<o;G++){let K=G<<le.BLOCK_SIZE_POWER;K>_&&(K=_);const Q=le.cap(G,2,o-3);let ae=0;for(let Ie=-2;Ie<=2;Ie++){const De=p[P+Ie];ae+=De[Q-2]+De[Q-1]+De[Q]+De[Q+1]+De[Q+2]}const he=ae/25;le.thresholdBlock(s,K,k,he,d,w)}}}static cap(s,o,c){return s<o?o:s>c?c:s}static thresholdBlock(s,o,c,d,h,p){for(let w=0,S=c*h+o;w<le.BLOCK_SIZE;w++,S+=h)for(let _=0;_<le.BLOCK_SIZE;_++)(s[S+_]&255)<=d&&p.set(o+_,c+w)}static calculateBlackPoints(s,o,c,d,h){const p=h-le.BLOCK_SIZE,w=d-le.BLOCK_SIZE,S=new Array(c);for(let _=0;_<c;_++){S[_]=new Int32Array(o);let I=_<<le.BLOCK_SIZE_POWER;I>p&&(I=p);for(let k=0;k<o;k++){let P=k<<le.BLOCK_SIZE_POWER;P>w&&(P=w);let G=0,K=255,Q=0;for(let he=0,Ie=I*d+P;he<le.BLOCK_SIZE;he++,Ie+=d){for(let De=0;De<le.BLOCK_SIZE;De++){const Re=s[Ie+De]&255;G+=Re,Re<K&&(K=Re),Re>Q&&(Q=Re)}if(Q-K>le.MIN_DYNAMIC_RANGE)for(he++,Ie+=d;he<le.BLOCK_SIZE;he++,Ie+=d)for(let De=0;De<le.BLOCK_SIZE;De++)G+=s[Ie+De]&255}let ae=G>>le.BLOCK_SIZE_POWER*2;if(Q-K<=le.MIN_DYNAMIC_RANGE&&(ae=K/2,_>0&&k>0)){const he=(S[_-1][k]+2*S[_][k-1]+S[_-1][k-1])/4;K<he&&(ae=he)}S[_][k]=ae}}return S}}le.BLOCK_SIZE_POWER=3,le.BLOCK_SIZE=1<<le.BLOCK_SIZE_POWER,le.BLOCK_SIZE_MASK=le.BLOCK_SIZE-1,le.MINIMUM_DIMENSION=le.BLOCK_SIZE*5,le.MIN_DYNAMIC_RANGE=24;class Le{constructor(s,o){this.width=s,this.height=o}getWidth(){return this.width}getHeight(){return this.height}isCropSupported(){return!1}crop(s,o,c,d){throw new pe("This luminance source does not support cropping.")}isRotateSupported(){return!1}rotateCounterClockwise(){throw new pe("This luminance source does not support rotation by 90 degrees.")}rotateCounterClockwise45(){throw new pe("This luminance source does not support rotation by 45 degrees.")}toString(){const s=new Uint8ClampedArray(this.width);let o=new Ce;for(let c=0;c<this.height;c++){const d=this.getRow(c,s);for(let h=0;h<this.width;h++){const p=d[h]&255;let w;p<64?w="#":p<128?w="+":p<192?w=".":w=" ",o.append(w)}o.append(`
`)}return o.toString()}}class ze extends Le{constructor(s){super(s.getWidth(),s.getHeight()),this.delegate=s}getRow(s,o){const c=this.delegate.getRow(s,o),d=this.getWidth();for(let h=0;h<d;h++)c[h]=255-(c[h]&255);return c}getMatrix(){const s=this.delegate.getMatrix(),o=this.getWidth()*this.getHeight(),c=new Uint8ClampedArray(o);for(let d=0;d<o;d++)c[d]=255-(s[d]&255);return c}isCropSupported(){return this.delegate.isCropSupported()}crop(s,o,c,d){return new ze(this.delegate.crop(s,o,c,d))}isRotateSupported(){return this.delegate.isRotateSupported()}invert(){return this.delegate}rotateCounterClockwise(){return new ze(this.delegate.rotateCounterClockwise())}rotateCounterClockwise45(){return new ze(this.delegate.rotateCounterClockwise45())}}class z extends Le{constructor(s){super(s.width,s.height),this.canvas=s,this.tempCanvasElement=null,this.buffer=z.makeBufferFromCanvasImageData(s)}static makeBufferFromCanvasImageData(s){const o=s.getContext("2d").getImageData(0,0,s.width,s.height);return z.toGrayscaleBuffer(o.data,s.width,s.height)}static toGrayscaleBuffer(s,o,c){const d=new Uint8ClampedArray(o*c);for(let h=0,p=0,w=s.length;h<w;h+=4,p++){let S;if(s[h+3]===0)S=255;else{const I=s[h],k=s[h+1],P=s[h+2];S=306*I+601*k+117*P+512>>10}d[p]=S}return d}getRow(s,o){if(s<0||s>=this.getHeight())throw new C("Requested row is outside the image: "+s);const c=this.getWidth(),d=s*c;return o===null?o=this.buffer.slice(d,d+c):(o.length<c&&(o=new Uint8ClampedArray(c)),o.set(this.buffer.slice(d,d+c))),o}getMatrix(){return this.buffer}isCropSupported(){return!0}crop(s,o,c,d){return super.crop(s,o,c,d),this}isRotateSupported(){return!0}rotateCounterClockwise(){return this.rotate(-90),this}rotateCounterClockwise45(){return this.rotate(-45),this}getTempCanvasElement(){if(this.tempCanvasElement===null){const s=this.canvas.ownerDocument.createElement("canvas");s.width=this.canvas.width,s.height=this.canvas.height,this.tempCanvasElement=s}return this.tempCanvasElement}rotate(s){const o=this.getTempCanvasElement(),c=o.getContext("2d"),d=s*z.DEGREE_TO_RADIANS,h=this.canvas.width,p=this.canvas.height,w=Math.ceil(Math.abs(Math.cos(d))*h+Math.abs(Math.sin(d))*p),S=Math.ceil(Math.abs(Math.sin(d))*h+Math.abs(Math.cos(d))*p);return o.width=w,o.height=S,c.translate(w/2,S/2),c.rotate(d),c.drawImage(this.canvas,h/-2,p/-2),this.buffer=z.makeBufferFromCanvasImageData(o),this}invert(){return new ze(this)}}z.DEGREE_TO_RADIANS=Math.PI/180;class te{constructor(s,o,c){this.deviceId=s,this.label=o,this.kind="videoinput",this.groupId=c||void 0}toJSON(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}}}var xe=(globalThis||Gd||self||window||void 0)&&(globalThis||Gd||self||window||void 0).__awaiter||function(L,s,o,c){function d(h){return h instanceof o?h:new o(function(p){p(h)})}return new(o||(o=Promise))(function(h,p){function w(I){try{_(c.next(I))}catch(k){p(k)}}function S(I){try{_(c.throw(I))}catch(k){p(k)}}function _(I){I.done?h(I.value):d(I.value).then(w,S)}_((c=c.apply(L,s||[])).next())})};class ye{constructor(s,o=500,c){this.reader=s,this.timeBetweenScansMillis=o,this._hints=c,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}get hasNavigator(){return typeof navigator<"u"}get isMediaDevicesSuported(){return this.hasNavigator&&!!navigator.mediaDevices}get canEnumerateDevices(){return!!(this.isMediaDevicesSuported&&navigator.mediaDevices.enumerateDevices)}get timeBetweenDecodingAttempts(){return this._timeBetweenDecodingAttempts}set timeBetweenDecodingAttempts(s){this._timeBetweenDecodingAttempts=s<0?0:s}set hints(s){this._hints=s||null}get hints(){return this._hints}listVideoInputDevices(){return xe(this,void 0,void 0,function*(){if(!this.hasNavigator)throw new Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw new Error("Can't enumerate devices, method not supported.");const s=yield navigator.mediaDevices.enumerateDevices(),o=[];for(const c of s){const d=c.kind==="video"?"videoinput":c.kind;if(d!=="videoinput")continue;const h=c.deviceId||c.id,p=c.label||`Video device ${o.length+1}`,w=c.groupId,S={deviceId:h,label:p,kind:d,groupId:w};o.push(S)}return o})}getVideoInputDevices(){return xe(this,void 0,void 0,function*(){return(yield this.listVideoInputDevices()).map(o=>new te(o.deviceId,o.label))})}findDeviceById(s){return xe(this,void 0,void 0,function*(){const o=yield this.listVideoInputDevices();return o?o.find(c=>c.deviceId===s):null})}decodeFromInputVideoDevice(s,o){return xe(this,void 0,void 0,function*(){return yield this.decodeOnceFromVideoDevice(s,o)})}decodeOnceFromVideoDevice(s,o){return xe(this,void 0,void 0,function*(){this.reset();let c;s?c={deviceId:{exact:s}}:c={facingMode:"environment"};const d={video:c};return yield this.decodeOnceFromConstraints(d,o)})}decodeOnceFromConstraints(s,o){return xe(this,void 0,void 0,function*(){const c=yield navigator.mediaDevices.getUserMedia(s);return yield this.decodeOnceFromStream(c,o)})}decodeOnceFromStream(s,o){return xe(this,void 0,void 0,function*(){this.reset();const c=yield this.attachStreamToVideo(s,o);return yield this.decodeOnce(c)})}decodeFromInputVideoDeviceContinuously(s,o,c){return xe(this,void 0,void 0,function*(){return yield this.decodeFromVideoDevice(s,o,c)})}decodeFromVideoDevice(s,o,c){return xe(this,void 0,void 0,function*(){let d;s?d={deviceId:{exact:s}}:d={facingMode:"environment"};const h={video:d};return yield this.decodeFromConstraints(h,o,c)})}decodeFromConstraints(s,o,c){return xe(this,void 0,void 0,function*(){const d=yield navigator.mediaDevices.getUserMedia(s);return yield this.decodeFromStream(d,o,c)})}decodeFromStream(s,o,c){return xe(this,void 0,void 0,function*(){this.reset();const d=yield this.attachStreamToVideo(s,o);return yield this.decodeContinuously(d,c)})}stopAsyncDecode(){this._stopAsyncDecode=!0}stopContinuousDecode(){this._stopContinuousDecode=!0}attachStreamToVideo(s,o){return xe(this,void 0,void 0,function*(){const c=this.prepareVideoElement(o);return this.addVideoSource(c,s),this.videoElement=c,this.stream=s,yield this.playVideoOnLoadAsync(c),c})}playVideoOnLoadAsync(s){return new Promise((o,c)=>this.playVideoOnLoad(s,()=>o()))}playVideoOnLoad(s,o){this.videoEndedListener=()=>this.stopStreams(),this.videoCanPlayListener=()=>this.tryPlayVideo(s),s.addEventListener("ended",this.videoEndedListener),s.addEventListener("canplay",this.videoCanPlayListener),s.addEventListener("playing",o),this.tryPlayVideo(s)}isVideoPlaying(s){return s.currentTime>0&&!s.paused&&!s.ended&&s.readyState>2}tryPlayVideo(s){return xe(this,void 0,void 0,function*(){if(this.isVideoPlaying(s)){console.warn("Trying to play video that is already playing.");return}try{yield s.play()}catch{console.warn("It was not possible to play the video.")}})}getMediaElement(s,o){const c=document.getElementById(s);if(!c)throw new E(`element with id '${s}' not found`);if(c.nodeName.toLowerCase()!==o.toLowerCase())throw new E(`element with id '${s}' must be an ${o} element`);return c}decodeFromImage(s,o){if(!s&&!o)throw new E("either imageElement with a src set or an url must be provided");return o&&!s?this.decodeFromImageUrl(o):this.decodeFromImageElement(s)}decodeFromVideo(s,o){if(!s&&!o)throw new E("Either an element with a src set or an URL must be provided");return o&&!s?this.decodeFromVideoUrl(o):this.decodeFromVideoElement(s)}decodeFromVideoContinuously(s,o,c){if(s===void 0&&o===void 0)throw new E("Either an element with a src set or an URL must be provided");return o&&!s?this.decodeFromVideoUrlContinuously(o,c):this.decodeFromVideoElementContinuously(s,c)}decodeFromImageElement(s){if(!s)throw new E("An image element must be provided.");this.reset();const o=this.prepareImageElement(s);this.imageElement=o;let c;return this.isImageLoaded(o)?c=this.decodeOnce(o,!1,!0):c=this._decodeOnLoadImage(o),c}decodeFromVideoElement(s){const o=this._decodeFromVideoElementSetup(s);return this._decodeOnLoadVideo(o)}decodeFromVideoElementContinuously(s,o){const c=this._decodeFromVideoElementSetup(s);return this._decodeOnLoadVideoContinuously(c,o)}_decodeFromVideoElementSetup(s){if(!s)throw new E("A video element must be provided.");this.reset();const o=this.prepareVideoElement(s);return this.videoElement=o,o}decodeFromImageUrl(s){if(!s)throw new E("An URL must be provided.");this.reset();const o=this.prepareImageElement();this.imageElement=o;const c=this._decodeOnLoadImage(o);return o.src=s,c}decodeFromVideoUrl(s){if(!s)throw new E("An URL must be provided.");this.reset();const o=this.prepareVideoElement(),c=this.decodeFromVideoElement(o);return o.src=s,c}decodeFromVideoUrlContinuously(s,o){if(!s)throw new E("An URL must be provided.");this.reset();const c=this.prepareVideoElement(),d=this.decodeFromVideoElementContinuously(c,o);return c.src=s,d}_decodeOnLoadImage(s){return new Promise((o,c)=>{this.imageLoadedListener=()=>this.decodeOnce(s,!1,!0).then(o,c),s.addEventListener("load",this.imageLoadedListener)})}_decodeOnLoadVideo(s){return xe(this,void 0,void 0,function*(){return yield this.playVideoOnLoadAsync(s),yield this.decodeOnce(s)})}_decodeOnLoadVideoContinuously(s,o){return xe(this,void 0,void 0,function*(){yield this.playVideoOnLoadAsync(s),this.decodeContinuously(s,o)})}isImageLoaded(s){return!(!s.complete||s.naturalWidth===0)}prepareImageElement(s){let o;return typeof s>"u"&&(o=document.createElement("img"),o.width=200,o.height=200),typeof s=="string"&&(o=this.getMediaElement(s,"img")),s instanceof HTMLImageElement&&(o=s),o}prepareVideoElement(s){let o;return!s&&typeof document<"u"&&(o=document.createElement("video"),o.width=200,o.height=200),typeof s=="string"&&(o=this.getMediaElement(s,"video")),s instanceof HTMLVideoElement&&(o=s),o.setAttribute("autoplay","true"),o.setAttribute("muted","true"),o.setAttribute("playsinline","true"),o}decodeOnce(s,o=!0,c=!0){this._stopAsyncDecode=!1;const d=(h,p)=>{if(this._stopAsyncDecode){p(new re("Video stream has ended before any code could be detected.")),this._stopAsyncDecode=void 0;return}try{const w=this.decode(s);h(w)}catch(w){const S=o&&w instanceof re,I=(w instanceof O||w instanceof X)&&c;if(S||I)return setTimeout(d,this._timeBetweenDecodingAttempts,h,p);p(w)}};return new Promise((h,p)=>d(h,p))}decodeContinuously(s,o){this._stopContinuousDecode=!1;const c=()=>{if(this._stopContinuousDecode){this._stopContinuousDecode=void 0;return}try{const d=this.decode(s);o(d,null),setTimeout(c,this.timeBetweenScansMillis)}catch(d){o(null,d);const h=d instanceof O||d instanceof X,p=d instanceof re;(h||p)&&setTimeout(c,this._timeBetweenDecodingAttempts)}};c()}decode(s){const o=this.createBinaryBitmap(s);return this.decodeBitmap(o)}_isHTMLVideoElement(s){return s.videoWidth!==0}drawFrameOnCanvas(s,o,c){o||(o={sx:0,sy:0,sWidth:s.videoWidth,sHeight:s.videoHeight,dx:0,dy:0,dWidth:s.videoWidth,dHeight:s.videoHeight}),c||(c=this.captureCanvasContext),c.drawImage(s,o.sx,o.sy,o.sWidth,o.sHeight,o.dx,o.dy,o.dWidth,o.dHeight)}drawImageOnCanvas(s,o,c=this.captureCanvasContext){o||(o={sx:0,sy:0,sWidth:s.naturalWidth,sHeight:s.naturalHeight,dx:0,dy:0,dWidth:s.naturalWidth,dHeight:s.naturalHeight}),c||(c=this.captureCanvasContext),c.drawImage(s,o.sx,o.sy,o.sWidth,o.sHeight,o.dx,o.dy,o.dWidth,o.dHeight)}createBinaryBitmap(s){this.getCaptureCanvasContext(s),this._isHTMLVideoElement(s)?this.drawFrameOnCanvas(s):this.drawImageOnCanvas(s);const o=this.getCaptureCanvas(s),c=new z(o),d=new le(c);return new N(d)}getCaptureCanvasContext(s){if(!this.captureCanvasContext){const c=this.getCaptureCanvas(s).getContext("2d");this.captureCanvasContext=c}return this.captureCanvasContext}getCaptureCanvas(s){if(!this.captureCanvas){const o=this.createCaptureCanvas(s);this.captureCanvas=o}return this.captureCanvas}decodeBitmap(s){return this.reader.decode(s,this._hints)}createCaptureCanvas(s){if(typeof document>"u")return this._destroyCaptureCanvas(),null;const o=document.createElement("canvas");let c,d;return typeof s<"u"&&(s instanceof HTMLVideoElement?(c=s.videoWidth,d=s.videoHeight):s instanceof HTMLImageElement&&(c=s.naturalWidth||s.width,d=s.naturalHeight||s.height)),o.style.width=c+"px",o.style.height=d+"px",o.width=c,o.height=d,o}stopStreams(){this.stream&&(this.stream.getVideoTracks().forEach(s=>s.stop()),this.stream=void 0),this._stopAsyncDecode===!1&&this.stopAsyncDecode(),this._stopContinuousDecode===!1&&this.stopContinuousDecode()}reset(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()}_destroyVideoElement(){this.videoElement&&(typeof this.videoEndedListener<"u"&&this.videoElement.removeEventListener("ended",this.videoEndedListener),typeof this.videoPlayingEventListener<"u"&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),typeof this.videoCanPlayListener<"u"&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)}_destroyImageElement(){this.imageElement&&(this.imageLoadedListener!==void 0&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)}_destroyCaptureCanvas(){this.captureCanvasContext=void 0,this.captureCanvas=void 0}addVideoSource(s,o){try{s.srcObject=o}catch{s.src=URL.createObjectURL(o)}}cleanVideoSource(s){try{s.srcObject=null}catch{s.src=""}this.videoElement.removeAttribute("src")}}class Me{constructor(s,o,c=o==null?0:8*o.length,d,h,p=B.currentTimeMillis()){this.text=s,this.rawBytes=o,this.numBits=c,this.resultPoints=d,this.format=h,this.timestamp=p,this.text=s,this.rawBytes=o,c==null?this.numBits=o==null?0:8*o.length:this.numBits=c,this.resultPoints=d,this.format=h,this.resultMetadata=null,p==null?this.timestamp=B.currentTimeMillis():this.timestamp=p}getText(){return this.text}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}getResultPoints(){return this.resultPoints}getBarcodeFormat(){return this.format}getResultMetadata(){return this.resultMetadata}putMetadata(s,o){this.resultMetadata===null&&(this.resultMetadata=new Map),this.resultMetadata.set(s,o)}putAllMetadata(s){s!==null&&(this.resultMetadata===null?this.resultMetadata=s:this.resultMetadata=new Map(s))}addResultPoints(s){const o=this.resultPoints;if(o===null)this.resultPoints=s;else if(s!==null&&s.length>0){const c=new Array(o.length+s.length);B.arraycopy(o,0,c,0,o.length),B.arraycopy(s,0,c,o.length,s.length),this.resultPoints=c}}getTimestamp(){return this.timestamp}toString(){return this.text}}var Pe;(function(L){L[L.AZTEC=0]="AZTEC",L[L.CODABAR=1]="CODABAR",L[L.CODE_39=2]="CODE_39",L[L.CODE_93=3]="CODE_93",L[L.CODE_128=4]="CODE_128",L[L.DATA_MATRIX=5]="DATA_MATRIX",L[L.EAN_8=6]="EAN_8",L[L.EAN_13=7]="EAN_13",L[L.ITF=8]="ITF",L[L.MAXICODE=9]="MAXICODE",L[L.PDF_417=10]="PDF_417",L[L.QR_CODE=11]="QR_CODE",L[L.RSS_14=12]="RSS_14",L[L.RSS_EXPANDED=13]="RSS_EXPANDED",L[L.UPC_A=14]="UPC_A",L[L.UPC_E=15]="UPC_E",L[L.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(Pe||(Pe={}));var we=Pe,lt;(function(L){L[L.OTHER=0]="OTHER",L[L.ORIENTATION=1]="ORIENTATION",L[L.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",L[L.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",L[L.ISSUE_NUMBER=4]="ISSUE_NUMBER",L[L.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",L[L.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",L[L.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",L[L.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",L[L.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",L[L.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY"})(lt||(lt={}));var ve=lt;class He{constructor(s,o,c,d,h=-1,p=-1){this.rawBytes=s,this.text=o,this.byteSegments=c,this.ecLevel=d,this.structuredAppendSequenceNumber=h,this.structuredAppendParity=p,this.numBits=s==null?0:8*s.length}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}setNumBits(s){this.numBits=s}getText(){return this.text}getByteSegments(){return this.byteSegments}getECLevel(){return this.ecLevel}getErrorsCorrected(){return this.errorsCorrected}setErrorsCorrected(s){this.errorsCorrected=s}getErasures(){return this.erasures}setErasures(s){this.erasures=s}getOther(){return this.other}setOther(s){this.other=s}hasStructuredAppend(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0}getStructuredAppendParity(){return this.structuredAppendParity}getStructuredAppendSequenceNumber(){return this.structuredAppendSequenceNumber}}class xt{exp(s){return this.expTable[s]}log(s){if(s===0)throw new C;return this.logTable[s]}static addOrSubtract(s,o){return s^o}}class ht{constructor(s,o){if(o.length===0)throw new C;this.field=s;const c=o.length;if(c>1&&o[0]===0){let d=1;for(;d<c&&o[d]===0;)d++;d===c?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(c-d),B.arraycopy(o,d,this.coefficients,0,this.coefficients.length))}else this.coefficients=o}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(s){return this.coefficients[this.coefficients.length-1-s]}evaluateAt(s){if(s===0)return this.getCoefficient(0);const o=this.coefficients;let c;if(s===1){c=0;for(let p=0,w=o.length;p!==w;p++){const S=o[p];c=xt.addOrSubtract(c,S)}return c}c=o[0];const d=o.length,h=this.field;for(let p=1;p<d;p++)c=xt.addOrSubtract(h.multiply(s,c),o[p]);return c}addOrSubtract(s){if(!this.field.equals(s.field))throw new C("GenericGFPolys do not have same GenericGF field");if(this.isZero())return s;if(s.isZero())return this;let o=this.coefficients,c=s.coefficients;if(o.length>c.length){const p=o;o=c,c=p}let d=new Int32Array(c.length);const h=c.length-o.length;B.arraycopy(c,0,d,0,h);for(let p=h;p<c.length;p++)d[p]=xt.addOrSubtract(o[p-h],c[p]);return new ht(this.field,d)}multiply(s){if(!this.field.equals(s.field))throw new C("GenericGFPolys do not have same GenericGF field");if(this.isZero()||s.isZero())return this.field.getZero();const o=this.coefficients,c=o.length,d=s.coefficients,h=d.length,p=new Int32Array(c+h-1),w=this.field;for(let S=0;S<c;S++){const _=o[S];for(let I=0;I<h;I++)p[S+I]=xt.addOrSubtract(p[S+I],w.multiply(_,d[I]))}return new ht(w,p)}multiplyScalar(s){if(s===0)return this.field.getZero();if(s===1)return this;const o=this.coefficients.length,c=this.field,d=new Int32Array(o),h=this.coefficients;for(let p=0;p<o;p++)d[p]=c.multiply(h[p],s);return new ht(c,d)}multiplyByMonomial(s,o){if(s<0)throw new C;if(o===0)return this.field.getZero();const c=this.coefficients,d=c.length,h=new Int32Array(d+s),p=this.field;for(let w=0;w<d;w++)h[w]=p.multiply(c[w],o);return new ht(p,h)}divide(s){if(!this.field.equals(s.field))throw new C("GenericGFPolys do not have same GenericGF field");if(s.isZero())throw new C("Divide by 0");const o=this.field;let c=o.getZero(),d=this;const h=s.getCoefficient(s.getDegree()),p=o.inverse(h);for(;d.getDegree()>=s.getDegree()&&!d.isZero();){const w=d.getDegree()-s.getDegree(),S=o.multiply(d.getCoefficient(d.getDegree()),p),_=s.multiplyByMonomial(w,S),I=o.buildMonomial(w,S);c=c.addOrSubtract(I),d=d.addOrSubtract(_)}return[c,d]}toString(){let s="";for(let o=this.getDegree();o>=0;o--){let c=this.getCoefficient(o);if(c!==0){if(c<0?(s+=" - ",c=-c):s.length>0&&(s+=" + "),o===0||c!==1){const d=this.field.log(c);d===0?s+="1":d===1?s+="a":(s+="a^",s+=d)}o!==0&&(o===1?s+="x":(s+="x^",s+=o))}}return s}}class st extends x{}st.kind="ArithmeticException";class Je extends xt{constructor(s,o,c){super(),this.primitive=s,this.size=o,this.generatorBase=c;const d=new Int32Array(o);let h=1;for(let w=0;w<o;w++)d[w]=h,h*=2,h>=o&&(h^=s,h&=o-1);this.expTable=d;const p=new Int32Array(o);for(let w=0;w<o-1;w++)p[d[w]]=w;this.logTable=p,this.zero=new ht(this,Int32Array.from([0])),this.one=new ht(this,Int32Array.from([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(s,o){if(s<0)throw new C;if(o===0)return this.zero;const c=new Int32Array(s+1);return c[0]=o,new ht(this,c)}inverse(s){if(s===0)throw new st;return this.expTable[this.size-this.logTable[s]-1]}multiply(s,o){return s===0||o===0?0:this.expTable[(this.logTable[s]+this.logTable[o])%(this.size-1)]}getSize(){return this.size}getGeneratorBase(){return this.generatorBase}toString(){return"GF(0x"+U.toHexString(this.primitive)+","+this.size+")"}equals(s){return s===this}}Je.AZTEC_DATA_12=new Je(4201,4096,1),Je.AZTEC_DATA_10=new Je(1033,1024,1),Je.AZTEC_DATA_6=new Je(67,64,1),Je.AZTEC_PARAM=new Je(19,16,1),Je.QR_CODE_FIELD_256=new Je(285,256,0),Je.DATA_MATRIX_FIELD_256=new Je(301,256,1),Je.AZTEC_DATA_8=Je.DATA_MATRIX_FIELD_256,Je.MAXICODE_FIELD_64=Je.AZTEC_DATA_6;class Di extends x{}Di.kind="ReedSolomonException";class Ai extends x{}Ai.kind="IllegalStateException";class $s{constructor(s){this.field=s}decode(s,o){const c=this.field,d=new ht(c,s),h=new Int32Array(o);let p=!0;for(let G=0;G<o;G++){const K=d.evaluateAt(c.exp(G+c.getGeneratorBase()));h[h.length-1-G]=K,K!==0&&(p=!1)}if(p)return;const w=new ht(c,h),S=this.runEuclideanAlgorithm(c.buildMonomial(o,1),w,o),_=S[0],I=S[1],k=this.findErrorLocations(_),P=this.findErrorMagnitudes(I,k);for(let G=0;G<k.length;G++){const K=s.length-1-c.log(k[G]);if(K<0)throw new Di("Bad error location");s[K]=Je.addOrSubtract(s[K],P[G])}}runEuclideanAlgorithm(s,o,c){if(s.getDegree()<o.getDegree()){const G=s;s=o,o=G}const d=this.field;let h=s,p=o,w=d.getZero(),S=d.getOne();for(;p.getDegree()>=(c/2|0);){let G=h,K=w;if(h=p,w=S,h.isZero())throw new Di("r_{i-1} was zero");p=G;let Q=d.getZero();const ae=h.getCoefficient(h.getDegree()),he=d.inverse(ae);for(;p.getDegree()>=h.getDegree()&&!p.isZero();){const Ie=p.getDegree()-h.getDegree(),De=d.multiply(p.getCoefficient(p.getDegree()),he);Q=Q.addOrSubtract(d.buildMonomial(Ie,De)),p=p.addOrSubtract(h.multiplyByMonomial(Ie,De))}if(S=Q.multiply(w).addOrSubtract(K),p.getDegree()>=h.getDegree())throw new Ai("Division algorithm failed to reduce polynomial?")}const _=S.getCoefficient(0);if(_===0)throw new Di("sigmaTilde(0) was zero");const I=d.inverse(_),k=S.multiplyScalar(I),P=p.multiplyScalar(I);return[k,P]}findErrorLocations(s){const o=s.getDegree();if(o===1)return Int32Array.from([s.getCoefficient(1)]);const c=new Int32Array(o);let d=0;const h=this.field;for(let p=1;p<h.getSize()&&d<o;p++)s.evaluateAt(p)===0&&(c[d]=h.inverse(p),d++);if(d!==o)throw new Di("Error locator degree does not match number of roots");return c}findErrorMagnitudes(s,o){const c=o.length,d=new Int32Array(c),h=this.field;for(let p=0;p<c;p++){const w=h.inverse(o[p]);let S=1;for(let _=0;_<c;_++)if(p!==_){const I=h.multiply(o[_],w),k=(I&1)===0?I|1:I&-2;S=h.multiply(S,k)}d[p]=h.multiply(s.evaluateAt(w),h.inverse(S)),h.getGeneratorBase()!==0&&(d[p]=h.multiply(d[p],w))}return d}}var kt;(function(L){L[L.UPPER=0]="UPPER",L[L.LOWER=1]="LOWER",L[L.MIXED=2]="MIXED",L[L.DIGIT=3]="DIGIT",L[L.PUNCT=4]="PUNCT",L[L.BINARY=5]="BINARY"})(kt||(kt={}));class jt{decode(s){this.ddata=s;let o=s.getBits(),c=this.extractBits(o),d=this.correctBits(c),h=jt.convertBoolArrayToByteArray(d),p=jt.getEncodedData(d),w=new He(h,p,null,null);return w.setNumBits(d.length),w}static highLevelDecode(s){return this.getEncodedData(s)}static getEncodedData(s){let o=s.length,c=kt.UPPER,d=kt.UPPER,h="",p=0;for(;p<o;)if(d===kt.BINARY){if(o-p<5)break;let w=jt.readCode(s,p,5);if(p+=5,w===0){if(o-p<11)break;w=jt.readCode(s,p,11)+31,p+=11}for(let S=0;S<w;S++){if(o-p<8){p=o;break}const _=jt.readCode(s,p,8);h+=be.castAsNonUtf8Char(_),p+=8}d=c}else{let w=d===kt.DIGIT?4:5;if(o-p<w)break;let S=jt.readCode(s,p,w);p+=w;let _=jt.getCharacter(d,S);_.startsWith("CTRL_")?(c=d,d=jt.getTable(_.charAt(5)),_.charAt(6)==="L"&&(c=d)):(h+=_,d=c)}return h}static getTable(s){switch(s){case"L":return kt.LOWER;case"P":return kt.PUNCT;case"M":return kt.MIXED;case"D":return kt.DIGIT;case"B":return kt.BINARY;case"U":default:return kt.UPPER}}static getCharacter(s,o){switch(s){case kt.UPPER:return jt.UPPER_TABLE[o];case kt.LOWER:return jt.LOWER_TABLE[o];case kt.MIXED:return jt.MIXED_TABLE[o];case kt.PUNCT:return jt.PUNCT_TABLE[o];case kt.DIGIT:return jt.DIGIT_TABLE[o];default:throw new Ai("Bad table")}}correctBits(s){let o,c;this.ddata.getNbLayers()<=2?(c=6,o=Je.AZTEC_DATA_6):this.ddata.getNbLayers()<=8?(c=8,o=Je.AZTEC_DATA_8):this.ddata.getNbLayers()<=22?(c=10,o=Je.AZTEC_DATA_10):(c=12,o=Je.AZTEC_DATA_12);let d=this.ddata.getNbDatablocks(),h=s.length/c;if(h<d)throw new X;let p=s.length%c,w=new Int32Array(h);for(let P=0;P<h;P++,p+=c)w[P]=jt.readCode(s,p,c);try{new $s(o).decode(w,h-d)}catch(P){throw new X(P)}let S=(1<<c)-1,_=0;for(let P=0;P<d;P++){let G=w[P];if(G===0||G===S)throw new X;(G===1||G===S-1)&&_++}let I=new Array(d*c-_),k=0;for(let P=0;P<d;P++){let G=w[P];if(G===1||G===S-1)I.fill(G>1,k,k+c-1),k+=c-1;else for(let K=c-1;K>=0;--K)I[k++]=(G&1<<K)!==0}return I}extractBits(s){let o=this.ddata.isCompact(),c=this.ddata.getNbLayers(),d=(o?11:14)+c*4,h=new Int32Array(d),p=new Array(this.totalBitsInLayer(c,o));if(o)for(let w=0;w<h.length;w++)h[w]=w;else{let w=d+1+2*U.truncDivision(U.truncDivision(d,2)-1,15),S=d/2,_=U.truncDivision(w,2);for(let I=0;I<S;I++){let k=I+U.truncDivision(I,15);h[S-I-1]=_-k-1,h[S+I]=_+k+1}}for(let w=0,S=0;w<c;w++){let _=(c-w)*4+(o?9:12),I=w*2,k=d-1-I;for(let P=0;P<_;P++){let G=P*2;for(let K=0;K<2;K++)p[S+G+K]=s.get(h[I+K],h[I+P]),p[S+2*_+G+K]=s.get(h[I+P],h[k-K]),p[S+4*_+G+K]=s.get(h[k-K],h[k-P]),p[S+6*_+G+K]=s.get(h[k-P],h[I+K])}S+=_*8}return p}static readCode(s,o,c){let d=0;for(let h=o;h<o+c;h++)d<<=1,s[h]&&(d|=1);return d}static readByte(s,o){let c=s.length-o;return c>=8?jt.readCode(s,o,8):jt.readCode(s,o,c)<<8-c}static convertBoolArrayToByteArray(s){let o=new Uint8Array((s.length+7)/8);for(let c=0;c<o.length;c++)o[c]=jt.readByte(s,8*c);return o}totalBitsInLayer(s,o){return((o?88:112)+16*s)*s}}jt.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],jt.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],jt.MIXED_TABLE=["CTRL_PS"," ","\\1","\\2","\\3","\\4","\\5","\\6","\\7","\b","	",`
`,"\\13","\f","\r","\\33","\\34","\\35","\\36","\\37","@","\\","^","_","`","|","~","\\177","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],jt.PUNCT_TABLE=["","\r",`\r
`,". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],jt.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"];class Ee{constructor(){}static round(s){return s===NaN?0:s<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:s>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:s+(s<0?-.5:.5)|0}static distance(s,o,c,d){const h=s-c,p=o-d;return Math.sqrt(h*h+p*p)}static sum(s){let o=0;for(let c=0,d=s.length;c!==d;c++){const h=s[c];o+=h}return o}}class yt{static floatToIntBits(s){return s}}yt.MAX_VALUE=Number.MAX_SAFE_INTEGER;class Ne{constructor(s,o){this.x=s,this.y=o}getX(){return this.x}getY(){return this.y}equals(s){if(s instanceof Ne){const o=s;return this.x===o.x&&this.y===o.y}return!1}hashCode(){return 31*yt.floatToIntBits(this.x)+yt.floatToIntBits(this.y)}toString(){return"("+this.x+","+this.y+")"}static orderBestPatterns(s){const o=this.distance(s[0],s[1]),c=this.distance(s[1],s[2]),d=this.distance(s[0],s[2]);let h,p,w;if(c>=o&&c>=d?(p=s[0],h=s[1],w=s[2]):d>=c&&d>=o?(p=s[1],h=s[0],w=s[2]):(p=s[2],h=s[0],w=s[1]),this.crossProductZ(h,p,w)<0){const S=h;h=w,w=S}s[0]=h,s[1]=p,s[2]=w}static distance(s,o){return Ee.distance(s.x,s.y,o.x,o.y)}static crossProductZ(s,o,c){const d=o.x,h=o.y;return(c.x-d)*(s.y-h)-(c.y-h)*(s.x-d)}}class gt{constructor(s,o){this.bits=s,this.points=o}getBits(){return this.bits}getPoints(){return this.points}}class It extends gt{constructor(s,o,c,d,h){super(s,o),this.compact=c,this.nbDatablocks=d,this.nbLayers=h}getNbLayers(){return this.nbLayers}getNbDatablocks(){return this.nbDatablocks}isCompact(){return this.compact}}class Mt{constructor(s,o,c,d){this.image=s,this.height=s.getHeight(),this.width=s.getWidth(),o==null&&(o=Mt.INIT_SIZE),c==null&&(c=s.getWidth()/2|0),d==null&&(d=s.getHeight()/2|0);const h=o/2|0;if(this.leftInit=c-h,this.rightInit=c+h,this.upInit=d-h,this.downInit=d+h,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new re}detect(){let s=this.leftInit,o=this.rightInit,c=this.upInit,d=this.downInit,h=!1,p=!0,w=!1,S=!1,_=!1,I=!1,k=!1;const P=this.width,G=this.height;for(;p;){p=!1;let K=!0;for(;(K||!S)&&o<P;)K=this.containsBlackPoint(c,d,o,!1),K?(o++,p=!0,S=!0):S||o++;if(o>=P){h=!0;break}let Q=!0;for(;(Q||!_)&&d<G;)Q=this.containsBlackPoint(s,o,d,!0),Q?(d++,p=!0,_=!0):_||d++;if(d>=G){h=!0;break}let ae=!0;for(;(ae||!I)&&s>=0;)ae=this.containsBlackPoint(c,d,s,!1),ae?(s--,p=!0,I=!0):I||s--;if(s<0){h=!0;break}let he=!0;for(;(he||!k)&&c>=0;)he=this.containsBlackPoint(s,o,c,!0),he?(c--,p=!0,k=!0):k||c--;if(c<0){h=!0;break}p&&(w=!0)}if(!h&&w){const K=o-s;let Q=null;for(let De=1;Q===null&&De<K;De++)Q=this.getBlackPointOnSegment(s,d-De,s+De,d);if(Q==null)throw new re;let ae=null;for(let De=1;ae===null&&De<K;De++)ae=this.getBlackPointOnSegment(s,c+De,s+De,c);if(ae==null)throw new re;let he=null;for(let De=1;he===null&&De<K;De++)he=this.getBlackPointOnSegment(o,c+De,o-De,c);if(he==null)throw new re;let Ie=null;for(let De=1;Ie===null&&De<K;De++)Ie=this.getBlackPointOnSegment(o,d-De,o-De,d);if(Ie==null)throw new re;return this.centerEdges(Ie,Q,he,ae)}else throw new re}getBlackPointOnSegment(s,o,c,d){const h=Ee.round(Ee.distance(s,o,c,d)),p=(c-s)/h,w=(d-o)/h,S=this.image;for(let _=0;_<h;_++){const I=Ee.round(s+_*p),k=Ee.round(o+_*w);if(S.get(I,k))return new Ne(I,k)}return null}centerEdges(s,o,c,d){const h=s.getX(),p=s.getY(),w=o.getX(),S=o.getY(),_=c.getX(),I=c.getY(),k=d.getX(),P=d.getY(),G=Mt.CORR;return h<this.width/2?[new Ne(k-G,P+G),new Ne(w+G,S+G),new Ne(_-G,I-G),new Ne(h+G,p-G)]:[new Ne(k+G,P+G),new Ne(w+G,S-G),new Ne(_-G,I+G),new Ne(h-G,p-G)]}containsBlackPoint(s,o,c,d){const h=this.image;if(d){for(let p=s;p<=o;p++)if(h.get(p,c))return!0}else for(let p=s;p<=o;p++)if(h.get(c,p))return!0;return!1}}Mt.INIT_SIZE=10,Mt.CORR=1;class Qn{static checkAndNudgePoints(s,o){const c=s.getWidth(),d=s.getHeight();let h=!0;for(let p=0;p<o.length&&h;p+=2){const w=Math.floor(o[p]),S=Math.floor(o[p+1]);if(w<-1||w>c||S<-1||S>d)throw new re;h=!1,w===-1?(o[p]=0,h=!0):w===c&&(o[p]=c-1,h=!0),S===-1?(o[p+1]=0,h=!0):S===d&&(o[p+1]=d-1,h=!0)}h=!0;for(let p=o.length-2;p>=0&&h;p-=2){const w=Math.floor(o[p]),S=Math.floor(o[p+1]);if(w<-1||w>c||S<-1||S>d)throw new re;h=!1,w===-1?(o[p]=0,h=!0):w===c&&(o[p]=c-1,h=!0),S===-1?(o[p+1]=0,h=!0):S===d&&(o[p+1]=d-1,h=!0)}}}class nn{constructor(s,o,c,d,h,p,w,S,_){this.a11=s,this.a21=o,this.a31=c,this.a12=d,this.a22=h,this.a32=p,this.a13=w,this.a23=S,this.a33=_}static quadrilateralToQuadrilateral(s,o,c,d,h,p,w,S,_,I,k,P,G,K,Q,ae){const he=nn.quadrilateralToSquare(s,o,c,d,h,p,w,S);return nn.squareToQuadrilateral(_,I,k,P,G,K,Q,ae).times(he)}transformPoints(s){const o=s.length,c=this.a11,d=this.a12,h=this.a13,p=this.a21,w=this.a22,S=this.a23,_=this.a31,I=this.a32,k=this.a33;for(let P=0;P<o;P+=2){const G=s[P],K=s[P+1],Q=h*G+S*K+k;s[P]=(c*G+p*K+_)/Q,s[P+1]=(d*G+w*K+I)/Q}}transformPointsWithValues(s,o){const c=this.a11,d=this.a12,h=this.a13,p=this.a21,w=this.a22,S=this.a23,_=this.a31,I=this.a32,k=this.a33,P=s.length;for(let G=0;G<P;G++){const K=s[G],Q=o[G],ae=h*K+S*Q+k;s[G]=(c*K+p*Q+_)/ae,o[G]=(d*K+w*Q+I)/ae}}static squareToQuadrilateral(s,o,c,d,h,p,w,S){const _=s-c+h-w,I=o-d+p-S;if(_===0&&I===0)return new nn(c-s,h-c,s,d-o,p-d,o,0,0,1);{const k=c-h,P=w-h,G=d-p,K=S-p,Q=k*K-P*G,ae=(_*K-P*I)/Q,he=(k*I-_*G)/Q;return new nn(c-s+ae*c,w-s+he*w,s,d-o+ae*d,S-o+he*S,o,ae,he,1)}}static quadrilateralToSquare(s,o,c,d,h,p,w,S){return nn.squareToQuadrilateral(s,o,c,d,h,p,w,S).buildAdjoint()}buildAdjoint(){return new nn(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)}times(s){return new nn(this.a11*s.a11+this.a21*s.a12+this.a31*s.a13,this.a11*s.a21+this.a21*s.a22+this.a31*s.a23,this.a11*s.a31+this.a21*s.a32+this.a31*s.a33,this.a12*s.a11+this.a22*s.a12+this.a32*s.a13,this.a12*s.a21+this.a22*s.a22+this.a32*s.a23,this.a12*s.a31+this.a22*s.a32+this.a32*s.a33,this.a13*s.a11+this.a23*s.a12+this.a33*s.a13,this.a13*s.a21+this.a23*s.a22+this.a33*s.a23,this.a13*s.a31+this.a23*s.a32+this.a33*s.a33)}}class un extends Qn{sampleGrid(s,o,c,d,h,p,w,S,_,I,k,P,G,K,Q,ae,he,Ie,De){const Re=nn.quadrilateralToQuadrilateral(d,h,p,w,S,_,I,k,P,G,K,Q,ae,he,Ie,De);return this.sampleGridWithTransform(s,o,c,Re)}sampleGridWithTransform(s,o,c,d){if(o<=0||c<=0)throw new re;const h=new Be(o,c),p=new Float32Array(2*o);for(let w=0;w<c;w++){const S=p.length,_=w+.5;for(let I=0;I<S;I+=2)p[I]=I/2+.5,p[I+1]=_;d.transformPoints(p),Qn.checkAndNudgePoints(s,p);try{for(let I=0;I<S;I+=2)s.get(Math.floor(p[I]),Math.floor(p[I+1]))&&h.set(I/2,w)}catch{throw new re}}return h}}class bn{static setGridSampler(s){bn.gridSampler=s}static getInstance(){return bn.gridSampler}}bn.gridSampler=new un;class Tt{constructor(s,o){this.x=s,this.y=o}toResultPoint(){return new Ne(this.getX(),this.getY())}getX(){return this.x}getY(){return this.y}}class As{constructor(s){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=s}detect(){return this.detectMirror(!1)}detectMirror(s){let o=this.getMatrixCenter(),c=this.getBullsEyeCorners(o);if(s){let p=c[0];c[0]=c[2],c[2]=p}this.extractParameters(c);let d=this.sampleGrid(this.image,c[this.shift%4],c[(this.shift+1)%4],c[(this.shift+2)%4],c[(this.shift+3)%4]),h=this.getMatrixCornerPoints(c);return new It(d,h,this.compact,this.nbDataBlocks,this.nbLayers)}extractParameters(s){if(!this.isValidPoint(s[0])||!this.isValidPoint(s[1])||!this.isValidPoint(s[2])||!this.isValidPoint(s[3]))throw new re;let o=2*this.nbCenterLayers,c=new Int32Array([this.sampleLine(s[0],s[1],o),this.sampleLine(s[1],s[2],o),this.sampleLine(s[2],s[3],o),this.sampleLine(s[3],s[0],o)]);this.shift=this.getRotation(c,o);let d=0;for(let p=0;p<4;p++){let w=c[(this.shift+p)%4];this.compact?(d<<=7,d+=w>>1&127):(d<<=10,d+=(w>>2&992)+(w>>1&31))}let h=this.getCorrectedParameterData(d,this.compact);this.compact?(this.nbLayers=(h>>6)+1,this.nbDataBlocks=(h&63)+1):(this.nbLayers=(h>>11)+1,this.nbDataBlocks=(h&2047)+1)}getRotation(s,o){let c=0;s.forEach((d,h,p)=>{let w=(d>>o-2<<1)+(d&1);c=(c<<3)+w}),c=((c&1)<<11)+(c>>1);for(let d=0;d<4;d++)if(U.bitCount(c^this.EXPECTED_CORNER_BITS[d])<=2)return d;throw new re}getCorrectedParameterData(s,o){let c,d;o?(c=7,d=2):(c=10,d=4);let h=c-d,p=new Int32Array(c);for(let S=c-1;S>=0;--S)p[S]=s&15,s>>=4;try{new $s(Je.AZTEC_PARAM).decode(p,h)}catch{throw new re}let w=0;for(let S=0;S<d;S++)w=(w<<4)+p[S];return w}getBullsEyeCorners(s){let o=s,c=s,d=s,h=s,p=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){let k=this.getFirstDifferent(o,p,1,-1),P=this.getFirstDifferent(c,p,1,1),G=this.getFirstDifferent(d,p,-1,1),K=this.getFirstDifferent(h,p,-1,-1);if(this.nbCenterLayers>2){let Q=this.distancePoint(K,k)*this.nbCenterLayers/(this.distancePoint(h,o)*(this.nbCenterLayers+2));if(Q<.75||Q>1.25||!this.isWhiteOrBlackRectangle(k,P,G,K))break}o=k,c=P,d=G,h=K,p=!p}if(this.nbCenterLayers!==5&&this.nbCenterLayers!==7)throw new re;this.compact=this.nbCenterLayers===5;let w=new Ne(o.getX()+.5,o.getY()-.5),S=new Ne(c.getX()+.5,c.getY()+.5),_=new Ne(d.getX()-.5,d.getY()+.5),I=new Ne(h.getX()-.5,h.getY()-.5);return this.expandSquare([w,S,_,I],2*this.nbCenterLayers-3,2*this.nbCenterLayers)}getMatrixCenter(){let s,o,c,d;try{let w=new Mt(this.image).detect();s=w[0],o=w[1],c=w[2],d=w[3]}catch{let S=this.image.getWidth()/2,_=this.image.getHeight()/2;s=this.getFirstDifferent(new Tt(S+7,_-7),!1,1,-1).toResultPoint(),o=this.getFirstDifferent(new Tt(S+7,_+7),!1,1,1).toResultPoint(),c=this.getFirstDifferent(new Tt(S-7,_+7),!1,-1,1).toResultPoint(),d=this.getFirstDifferent(new Tt(S-7,_-7),!1,-1,-1).toResultPoint()}let h=Ee.round((s.getX()+d.getX()+o.getX()+c.getX())/4),p=Ee.round((s.getY()+d.getY()+o.getY()+c.getY())/4);try{let w=new Mt(this.image,15,h,p).detect();s=w[0],o=w[1],c=w[2],d=w[3]}catch{s=this.getFirstDifferent(new Tt(h+7,p-7),!1,1,-1).toResultPoint(),o=this.getFirstDifferent(new Tt(h+7,p+7),!1,1,1).toResultPoint(),c=this.getFirstDifferent(new Tt(h-7,p+7),!1,-1,1).toResultPoint(),d=this.getFirstDifferent(new Tt(h-7,p-7),!1,-1,-1).toResultPoint()}return h=Ee.round((s.getX()+d.getX()+o.getX()+c.getX())/4),p=Ee.round((s.getY()+d.getY()+o.getY()+c.getY())/4),new Tt(h,p)}getMatrixCornerPoints(s){return this.expandSquare(s,2*this.nbCenterLayers,this.getDimension())}sampleGrid(s,o,c,d,h){let p=bn.getInstance(),w=this.getDimension(),S=w/2-this.nbCenterLayers,_=w/2+this.nbCenterLayers;return p.sampleGrid(s,w,w,S,S,_,S,_,_,S,_,o.getX(),o.getY(),c.getX(),c.getY(),d.getX(),d.getY(),h.getX(),h.getY())}sampleLine(s,o,c){let d=0,h=this.distanceResultPoint(s,o),p=h/c,w=s.getX(),S=s.getY(),_=p*(o.getX()-s.getX())/h,I=p*(o.getY()-s.getY())/h;for(let k=0;k<c;k++)this.image.get(Ee.round(w+k*_),Ee.round(S+k*I))&&(d|=1<<c-k-1);return d}isWhiteOrBlackRectangle(s,o,c,d){let h=3;s=new Tt(s.getX()-h,s.getY()+h),o=new Tt(o.getX()-h,o.getY()-h),c=new Tt(c.getX()+h,c.getY()-h),d=new Tt(d.getX()+h,d.getY()+h);let p=this.getColor(d,s);if(p===0)return!1;let w=this.getColor(s,o);return w!==p||(w=this.getColor(o,c),w!==p)?!1:(w=this.getColor(c,d),w===p)}getColor(s,o){let c=this.distancePoint(s,o),d=(o.getX()-s.getX())/c,h=(o.getY()-s.getY())/c,p=0,w=s.getX(),S=s.getY(),_=this.image.get(s.getX(),s.getY()),I=Math.ceil(c);for(let P=0;P<I;P++)w+=d,S+=h,this.image.get(Ee.round(w),Ee.round(S))!==_&&p++;let k=p/c;return k>.1&&k<.9?0:k<=.1===_?1:-1}getFirstDifferent(s,o,c,d){let h=s.getX()+c,p=s.getY()+d;for(;this.isValid(h,p)&&this.image.get(h,p)===o;)h+=c,p+=d;for(h-=c,p-=d;this.isValid(h,p)&&this.image.get(h,p)===o;)h+=c;for(h-=c;this.isValid(h,p)&&this.image.get(h,p)===o;)p+=d;return p-=d,new Tt(h,p)}expandSquare(s,o,c){let d=c/(2*o),h=s[0].getX()-s[2].getX(),p=s[0].getY()-s[2].getY(),w=(s[0].getX()+s[2].getX())/2,S=(s[0].getY()+s[2].getY())/2,_=new Ne(w+d*h,S+d*p),I=new Ne(w-d*h,S-d*p);h=s[1].getX()-s[3].getX(),p=s[1].getY()-s[3].getY(),w=(s[1].getX()+s[3].getX())/2,S=(s[1].getY()+s[3].getY())/2;let k=new Ne(w+d*h,S+d*p),P=new Ne(w-d*h,S-d*p);return[_,k,I,P]}isValid(s,o){return s>=0&&s<this.image.getWidth()&&o>0&&o<this.image.getHeight()}isValidPoint(s){let o=Ee.round(s.getX()),c=Ee.round(s.getY());return this.isValid(o,c)}distancePoint(s,o){return Ee.distance(s.getX(),s.getY(),o.getX(),o.getY())}distanceResultPoint(s,o){return Ee.distance(s.getX(),s.getY(),o.getX(),o.getY())}getDimension(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*(U.truncDivision(this.nbLayers-4,8)+1)+15}}class sn{decode(s,o=null){let c=null,d=new As(s.getBlackMatrix()),h=null,p=null;try{let I=d.detectMirror(!1);h=I.getPoints(),this.reportFoundResultPoints(o,h),p=new jt().decode(I)}catch(I){c=I}if(p==null)try{let I=d.detectMirror(!0);h=I.getPoints(),this.reportFoundResultPoints(o,h),p=new jt().decode(I)}catch(I){throw c??I}let w=new Me(p.getText(),p.getRawBytes(),p.getNumBits(),h,we.AZTEC,B.currentTimeMillis()),S=p.getByteSegments();S!=null&&w.putMetadata(ve.BYTE_SEGMENTS,S);let _=p.getECLevel();return _!=null&&w.putMetadata(ve.ERROR_CORRECTION_LEVEL,_),w}reportFoundResultPoints(s,o){if(s!=null){let c=s.get(ne.NEED_RESULT_POINT_CALLBACK);c!=null&&o.forEach((d,h,p)=>{c.foundPossibleResultPoint(d)})}}reset(){}}class ll extends ye{constructor(s=500){super(new sn,s)}}class Xt{decode(s,o){try{return this.doDecode(s,o)}catch{if(o&&o.get(ne.TRY_HARDER)===!0&&s.isRotateSupported()){const h=s.rotateCounterClockwise(),p=this.doDecode(h,o),w=p.getResultMetadata();let S=270;w!==null&&w.get(ve.ORIENTATION)===!0&&(S=S+w.get(ve.ORIENTATION)%360),p.putMetadata(ve.ORIENTATION,S);const _=p.getResultPoints();if(_!==null){const I=h.getHeight();for(let k=0;k<_.length;k++)_[k]=new Ne(I-_[k].getY()-1,_[k].getX())}return p}else throw new re}}reset(){}doDecode(s,o){const c=s.getWidth(),d=s.getHeight();let h=new q(c);const p=o&&o.get(ne.TRY_HARDER)===!0,w=Math.max(1,d>>(p?8:5));let S;p?S=d:S=15;const _=Math.trunc(d/2);for(let I=0;I<S;I++){const k=Math.trunc((I+1)/2),P=(I&1)===0,G=_+w*(P?k:-k);if(G<0||G>=d)break;try{h=s.getBlackRow(G,h)}catch{continue}for(let K=0;K<2;K++){if(K===1&&(h.reverse(),o&&o.get(ne.NEED_RESULT_POINT_CALLBACK)===!0)){const Q=new Map;o.forEach((ae,he)=>Q.set(he,ae)),Q.delete(ne.NEED_RESULT_POINT_CALLBACK),o=Q}try{const Q=this.decodeRow(G,h,o);if(K===1){Q.putMetadata(ve.ORIENTATION,180);const ae=Q.getResultPoints();ae!==null&&(ae[0]=new Ne(c-ae[0].getX()-1,ae[0].getY()),ae[1]=new Ne(c-ae[1].getX()-1,ae[1].getY()))}return Q}catch{}}}throw new re}static recordPattern(s,o,c){const d=c.length;for(let _=0;_<d;_++)c[_]=0;const h=s.getSize();if(o>=h)throw new re;let p=!s.get(o),w=0,S=o;for(;S<h;){if(s.get(S)!==p)c[w]++;else{if(++w===d)break;c[w]=1,p=!p}S++}if(!(w===d||w===d-1&&S===h))throw new re}static recordPatternInReverse(s,o,c){let d=c.length,h=s.get(o);for(;o>0&&d>=0;)s.get(--o)!==h&&(d--,h=!h);if(d>=0)throw new re;Xt.recordPattern(s,o+1,c)}static patternMatchVariance(s,o,c){const d=s.length;let h=0,p=0;for(let _=0;_<d;_++)h+=s[_],p+=o[_];if(h<p)return Number.POSITIVE_INFINITY;const w=h/p;c*=w;let S=0;for(let _=0;_<d;_++){const I=s[_],k=o[_]*w,P=I>k?I-k:k-I;if(P>c)return Number.POSITIVE_INFINITY;S+=P}return S/h}}class Oe extends Xt{static findStartPattern(s){const o=s.getSize(),c=s.getNextSet(0);let d=0,h=Int32Array.from([0,0,0,0,0,0]),p=c,w=!1;const S=6;for(let _=c;_<o;_++)if(s.get(_)!==w)h[d]++;else{if(d===S-1){let I=Oe.MAX_AVG_VARIANCE,k=-1;for(let P=Oe.CODE_START_A;P<=Oe.CODE_START_C;P++){const G=Xt.patternMatchVariance(h,Oe.CODE_PATTERNS[P],Oe.MAX_INDIVIDUAL_VARIANCE);G<I&&(I=G,k=P)}if(k>=0&&s.isRange(Math.max(0,p-(_-p)/2),p,!1))return Int32Array.from([p,_,k]);p+=h[0]+h[1],h=h.slice(2,h.length-1),h[d-1]=0,h[d]=0,d--}else d++;h[d]=1,w=!w}throw new re}static decodeCode(s,o,c){Xt.recordPattern(s,c,o);let d=Oe.MAX_AVG_VARIANCE,h=-1;for(let p=0;p<Oe.CODE_PATTERNS.length;p++){const w=Oe.CODE_PATTERNS[p],S=this.patternMatchVariance(o,w,Oe.MAX_INDIVIDUAL_VARIANCE);S<d&&(d=S,h=p)}if(h>=0)return h;throw new re}decodeRow(s,o,c){const d=c&&c.get(ne.ASSUME_GS1)===!0,h=Oe.findStartPattern(o),p=h[2];let w=0;const S=new Uint8Array(20);S[w++]=p;let _;switch(p){case Oe.CODE_START_A:_=Oe.CODE_CODE_A;break;case Oe.CODE_START_B:_=Oe.CODE_CODE_B;break;case Oe.CODE_START_C:_=Oe.CODE_CODE_C;break;default:throw new X}let I=!1,k=!1,P="",G=h[0],K=h[1];const Q=Int32Array.from([0,0,0,0,0,0]);let ae=0,he=0,Ie=p,De=0,Re=!0,ot=!1,rt=!1;for(;!I;){const ir=k;switch(k=!1,ae=he,he=Oe.decodeCode(o,Q,K),S[w++]=he,he!==Oe.CODE_STOP&&(Re=!0),he!==Oe.CODE_STOP&&(De++,Ie+=De*he),G=K,K+=Q.reduce((Zi,$f)=>Zi+$f,0),he){case Oe.CODE_START_A:case Oe.CODE_START_B:case Oe.CODE_START_C:throw new X}switch(_){case Oe.CODE_CODE_A:if(he<64)rt===ot?P+=String.fromCharCode(32+he):P+=String.fromCharCode(32+he+128),rt=!1;else if(he<96)rt===ot?P+=String.fromCharCode(he-64):P+=String.fromCharCode(he+64),rt=!1;else switch(he!==Oe.CODE_STOP&&(Re=!1),he){case Oe.CODE_FNC_1:d&&(P.length===0?P+="]C1":P+="");break;case Oe.CODE_FNC_2:case Oe.CODE_FNC_3:break;case Oe.CODE_FNC_4_A:!ot&&rt?(ot=!0,rt=!1):ot&&rt?(ot=!1,rt=!1):rt=!0;break;case Oe.CODE_SHIFT:k=!0,_=Oe.CODE_CODE_B;break;case Oe.CODE_CODE_B:_=Oe.CODE_CODE_B;break;case Oe.CODE_CODE_C:_=Oe.CODE_CODE_C;break;case Oe.CODE_STOP:I=!0;break}break;case Oe.CODE_CODE_B:if(he<96)rt===ot?P+=String.fromCharCode(32+he):P+=String.fromCharCode(32+he+128),rt=!1;else switch(he!==Oe.CODE_STOP&&(Re=!1),he){case Oe.CODE_FNC_1:d&&(P.length===0?P+="]C1":P+="");break;case Oe.CODE_FNC_2:case Oe.CODE_FNC_3:break;case Oe.CODE_FNC_4_B:!ot&&rt?(ot=!0,rt=!1):ot&&rt?(ot=!1,rt=!1):rt=!0;break;case Oe.CODE_SHIFT:k=!0,_=Oe.CODE_CODE_A;break;case Oe.CODE_CODE_A:_=Oe.CODE_CODE_A;break;case Oe.CODE_CODE_C:_=Oe.CODE_CODE_C;break;case Oe.CODE_STOP:I=!0;break}break;case Oe.CODE_CODE_C:if(he<100)he<10&&(P+="0"),P+=he;else switch(he!==Oe.CODE_STOP&&(Re=!1),he){case Oe.CODE_FNC_1:d&&(P.length===0?P+="]C1":P+="");break;case Oe.CODE_CODE_A:_=Oe.CODE_CODE_A;break;case Oe.CODE_CODE_B:_=Oe.CODE_CODE_B;break;case Oe.CODE_STOP:I=!0;break}break}ir&&(_=_===Oe.CODE_CODE_A?Oe.CODE_CODE_B:Oe.CODE_CODE_A)}const li=K-G;if(K=o.getNextUnset(K),!o.isRange(K,Math.min(o.getSize(),K+(K-G)/2),!1))throw new re;if(Ie-=De*ae,Ie%103!==ae)throw new O;const Bi=P.length;if(Bi===0)throw new re;Bi>0&&Re&&(_===Oe.CODE_CODE_C?P=P.substring(0,Bi-2):P=P.substring(0,Bi-1));const xi=(h[1]+h[0])/2,$t=G+li/2,Yn=S.length,yi=new Uint8Array(Yn);for(let ir=0;ir<Yn;ir++)yi[ir]=S[ir];const Ar=[new Ne(xi,s),new Ne($t,s)];return new Me(P,yi,0,Ar,we.CODE_128,new Date().getTime())}}Oe.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],Oe.MAX_AVG_VARIANCE=.25,Oe.MAX_INDIVIDUAL_VARIANCE=.7,Oe.CODE_SHIFT=98,Oe.CODE_CODE_C=99,Oe.CODE_CODE_B=100,Oe.CODE_CODE_A=101,Oe.CODE_FNC_1=102,Oe.CODE_FNC_2=97,Oe.CODE_FNC_3=96,Oe.CODE_FNC_4_A=101,Oe.CODE_FNC_4_B=100,Oe.CODE_START_A=103,Oe.CODE_START_B=104,Oe.CODE_START_C=105,Oe.CODE_STOP=106;class Pt extends Xt{constructor(s=!1,o=!1){super(),this.usingCheckDigit=s,this.extendedMode=o,this.decodeRowResult="",this.counters=new Int32Array(9)}decodeRow(s,o,c){let d=this.counters;d.fill(0),this.decodeRowResult="";let h=Pt.findAsteriskPattern(o,d),p=o.getNextSet(h[1]),w=o.getSize(),S,_;do{Pt.recordPattern(o,p,d);let Q=Pt.toNarrowWidePattern(d);if(Q<0)throw new re;S=Pt.patternToChar(Q),this.decodeRowResult+=S,_=p;for(let ae of d)p+=ae;p=o.getNextSet(p)}while(S!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);let I=0;for(let Q of d)I+=Q;let k=p-_-I;if(p!==w&&k*2<I)throw new re;if(this.usingCheckDigit){let Q=this.decodeRowResult.length-1,ae=0;for(let he=0;he<Q;he++)ae+=Pt.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt(he));if(this.decodeRowResult.charAt(Q)!==Pt.ALPHABET_STRING.charAt(ae%43))throw new O;this.decodeRowResult=this.decodeRowResult.substring(0,Q)}if(this.decodeRowResult.length===0)throw new re;let P;this.extendedMode?P=Pt.decodeExtended(this.decodeRowResult):P=this.decodeRowResult;let G=(h[1]+h[0])/2,K=_+I/2;return new Me(P,null,0,[new Ne(G,s),new Ne(K,s)],we.CODE_39,new Date().getTime())}static findAsteriskPattern(s,o){let c=s.getSize(),d=s.getNextSet(0),h=0,p=d,w=!1,S=o.length;for(let _=d;_<c;_++)if(s.get(_)!==w)o[h]++;else{if(h===S-1){if(this.toNarrowWidePattern(o)===Pt.ASTERISK_ENCODING&&s.isRange(Math.max(0,p-Math.floor((_-p)/2)),p,!1))return[p,_];p+=o[0]+o[1],o.copyWithin(0,2,2+h-1),o[h-1]=0,o[h]=0,h--}else h++;o[h]=1,w=!w}throw new re}static toNarrowWidePattern(s){let o=s.length,c=0,d;do{let h=2147483647;for(let S of s)S<h&&S>c&&(h=S);c=h,d=0;let p=0,w=0;for(let S=0;S<o;S++){let _=s[S];_>c&&(w|=1<<o-1-S,d++,p+=_)}if(d===3){for(let S=0;S<o&&d>0;S++){let _=s[S];if(_>c&&(d--,_*2>=p))return-1}return w}}while(d>3);return-1}static patternToChar(s){for(let o=0;o<Pt.CHARACTER_ENCODINGS.length;o++)if(Pt.CHARACTER_ENCODINGS[o]===s)return Pt.ALPHABET_STRING.charAt(o);if(s===Pt.ASTERISK_ENCODING)return"*";throw new re}static decodeExtended(s){let o=s.length,c="";for(let d=0;d<o;d++){let h=s.charAt(d);if(h==="+"||h==="$"||h==="%"||h==="/"){let p=s.charAt(d+1),w="\0";switch(h){case"+":if(p>="A"&&p<="Z")w=String.fromCharCode(p.charCodeAt(0)+32);else throw new X;break;case"$":if(p>="A"&&p<="Z")w=String.fromCharCode(p.charCodeAt(0)-64);else throw new X;break;case"%":if(p>="A"&&p<="E")w=String.fromCharCode(p.charCodeAt(0)-38);else if(p>="F"&&p<="J")w=String.fromCharCode(p.charCodeAt(0)-11);else if(p>="K"&&p<="O")w=String.fromCharCode(p.charCodeAt(0)+16);else if(p>="P"&&p<="T")w=String.fromCharCode(p.charCodeAt(0)+43);else if(p==="U")w="\0";else if(p==="V")w="@";else if(p==="W")w="`";else if(p==="X"||p==="Y"||p==="Z")w="";else throw new X;break;case"/":if(p>="A"&&p<="O")w=String.fromCharCode(p.charCodeAt(0)-32);else if(p==="Z")w=":";else throw new X;break}c+=w,d++}else c+=h}return c}}Pt.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",Pt.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],Pt.ASTERISK_ENCODING=148;class wt extends Xt{constructor(){super(...arguments),this.narrowLineWidth=-1}decodeRow(s,o,c){let d=this.decodeStart(o),h=this.decodeEnd(o),p=new Ce;wt.decodeMiddle(o,d[1],h[0],p);let w=p.toString(),S=null;c!=null&&(S=c.get(ne.ALLOWED_LENGTHS)),S==null&&(S=wt.DEFAULT_ALLOWED_LENGTHS);let _=w.length,I=!1,k=0;for(let K of S){if(_===K){I=!0;break}K>k&&(k=K)}if(!I&&_>k&&(I=!0),!I)throw new X;const P=[new Ne(d[1],s),new Ne(h[0],s)];return new Me(w,null,0,P,we.ITF,new Date().getTime())}static decodeMiddle(s,o,c,d){let h=new Int32Array(10),p=new Int32Array(5),w=new Int32Array(5);for(h.fill(0),p.fill(0),w.fill(0);o<c;){Xt.recordPattern(s,o,h);for(let _=0;_<5;_++){let I=2*_;p[_]=h[I],w[_]=h[I+1]}let S=wt.decodeDigit(p);d.append(S.toString()),S=this.decodeDigit(w),d.append(S.toString()),h.forEach(function(_){o+=_})}}decodeStart(s){let o=wt.skipWhiteSpace(s),c=wt.findGuardPattern(s,o,wt.START_PATTERN);return this.narrowLineWidth=(c[1]-c[0])/4,this.validateQuietZone(s,c[0]),c}validateQuietZone(s,o){let c=this.narrowLineWidth*10;c=c<o?c:o;for(let d=o-1;c>0&&d>=0&&!s.get(d);d--)c--;if(c!==0)throw new re}static skipWhiteSpace(s){const o=s.getSize(),c=s.getNextSet(0);if(c===o)throw new re;return c}decodeEnd(s){s.reverse();try{let o=wt.skipWhiteSpace(s),c;try{c=wt.findGuardPattern(s,o,wt.END_PATTERN_REVERSED[0])}catch(h){h instanceof re&&(c=wt.findGuardPattern(s,o,wt.END_PATTERN_REVERSED[1]))}this.validateQuietZone(s,c[0]);let d=c[0];return c[0]=s.getSize()-c[1],c[1]=s.getSize()-d,c}finally{s.reverse()}}static findGuardPattern(s,o,c){let d=c.length,h=new Int32Array(d),p=s.getSize(),w=!1,S=0,_=o;h.fill(0);for(let I=o;I<p;I++)if(s.get(I)!==w)h[S]++;else{if(S===d-1){if(Xt.patternMatchVariance(h,c,wt.MAX_INDIVIDUAL_VARIANCE)<wt.MAX_AVG_VARIANCE)return[_,I];_+=h[0]+h[1],B.arraycopy(h,2,h,0,S-1),h[S-1]=0,h[S]=0,S--}else S++;h[S]=1,w=!w}throw new re}static decodeDigit(s){let o=wt.MAX_AVG_VARIANCE,c=-1,d=wt.PATTERNS.length;for(let h=0;h<d;h++){let p=wt.PATTERNS[h],w=Xt.patternMatchVariance(s,p,wt.MAX_INDIVIDUAL_VARIANCE);w<o?(o=w,c=h):w===o&&(c=-1)}if(c>=0)return c%10;throw new re}}wt.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],wt.MAX_AVG_VARIANCE=.38,wt.MAX_INDIVIDUAL_VARIANCE=.5,wt.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],wt.START_PATTERN=Int32Array.from([1,1,1,1]),wt.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])];class Wt extends Xt{constructor(){super(...arguments),this.decodeRowStringBuffer=""}static findStartGuardPattern(s){let o=!1,c,d=0,h=Int32Array.from([0,0,0]);for(;!o;){h=Int32Array.from([0,0,0]),c=Wt.findGuardPattern(s,d,!1,this.START_END_PATTERN,h);let p=c[0];d=c[1];let w=p-(d-p);w>=0&&(o=s.isRange(w,p,!1))}return c}static checkChecksum(s){return Wt.checkStandardUPCEANChecksum(s)}static checkStandardUPCEANChecksum(s){let o=s.length;if(o===0)return!1;let c=parseInt(s.charAt(o-1),10);return Wt.getStandardUPCEANChecksum(s.substring(0,o-1))===c}static getStandardUPCEANChecksum(s){let o=s.length,c=0;for(let d=o-1;d>=0;d-=2){let h=s.charAt(d).charCodeAt(0)-48;if(h<0||h>9)throw new X;c+=h}c*=3;for(let d=o-2;d>=0;d-=2){let h=s.charAt(d).charCodeAt(0)-48;if(h<0||h>9)throw new X;c+=h}return(1e3-c)%10}static decodeEnd(s,o){return Wt.findGuardPattern(s,o,!1,Wt.START_END_PATTERN,new Int32Array(Wt.START_END_PATTERN.length).fill(0))}static findGuardPatternWithoutCounters(s,o,c,d){return this.findGuardPattern(s,o,c,d,new Int32Array(d.length))}static findGuardPattern(s,o,c,d,h){let p=s.getSize();o=c?s.getNextUnset(o):s.getNextSet(o);let w=0,S=o,_=d.length,I=c;for(let k=o;k<p;k++)if(s.get(k)!==I)h[w]++;else{if(w===_-1){if(Xt.patternMatchVariance(h,d,Wt.MAX_INDIVIDUAL_VARIANCE)<Wt.MAX_AVG_VARIANCE)return Int32Array.from([S,k]);S+=h[0]+h[1];let P=h.slice(2,h.length-1);for(let G=0;G<w-1;G++)h[G]=P[G];h[w-1]=0,h[w]=0,w--}else w++;h[w]=1,I=!I}throw new re}static decodeDigit(s,o,c,d){this.recordPattern(s,c,o);let h=this.MAX_AVG_VARIANCE,p=-1,w=d.length;for(let S=0;S<w;S++){let _=d[S],I=Xt.patternMatchVariance(o,_,Wt.MAX_INDIVIDUAL_VARIANCE);I<h&&(h=I,p=S)}if(p>=0)return p;throw new re}}Wt.MAX_AVG_VARIANCE=.48,Wt.MAX_INDIVIDUAL_VARIANCE=.7,Wt.START_END_PATTERN=Int32Array.from([1,1,1]),Wt.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),Wt.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),Wt.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])];class oo{constructor(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(s,o,c){let d=this.decodeRowStringBuffer,h=this.decodeMiddle(o,c,d),p=d.toString(),w=oo.parseExtensionString(p),S=[new Ne((c[0]+c[1])/2,s),new Ne(h,s)],_=new Me(p,null,0,S,we.UPC_EAN_EXTENSION,new Date().getTime());return w!=null&&_.putAllMetadata(w),_}decodeMiddle(s,o,c){let d=this.decodeMiddleCounters;d[0]=0,d[1]=0,d[2]=0,d[3]=0;let h=s.getSize(),p=o[1],w=0;for(let _=0;_<5&&p<h;_++){let I=Wt.decodeDigit(s,d,p,Wt.L_AND_G_PATTERNS);c+=String.fromCharCode(48+I%10);for(let k of d)p+=k;I>=10&&(w|=1<<4-_),_!==4&&(p=s.getNextSet(p),p=s.getNextUnset(p))}if(c.length!==5)throw new re;let S=this.determineCheckDigit(w);if(oo.extensionChecksum(c.toString())!==S)throw new re;return p}static extensionChecksum(s){let o=s.length,c=0;for(let d=o-2;d>=0;d-=2)c+=s.charAt(d).charCodeAt(0)-48;c*=3;for(let d=o-1;d>=0;d-=2)c+=s.charAt(d).charCodeAt(0)-48;return c*=3,c%10}determineCheckDigit(s){for(let o=0;o<10;o++)if(s===this.CHECK_DIGIT_ENCODINGS[o])return o;throw new re}static parseExtensionString(s){if(s.length!==5)return null;let o=oo.parseExtension5String(s);return o==null?null:new Map([[ve.SUGGESTED_PRICE,o]])}static parseExtension5String(s){let o;switch(s.charAt(0)){case"0":o="£";break;case"5":o="$";break;case"9":switch(s){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}o="";break;default:o="";break}let c=parseInt(s.substring(1)),d=(c/100).toString(),h=c%100,p=h<10?"0"+h:h.toString();return o+d+"."+p}}class cl{constructor(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(s,o,c){let d=this.decodeRowStringBuffer,h=this.decodeMiddle(o,c,d),p=d.toString(),w=cl.parseExtensionString(p),S=[new Ne((c[0]+c[1])/2,s),new Ne(h,s)],_=new Me(p,null,0,S,we.UPC_EAN_EXTENSION,new Date().getTime());return w!=null&&_.putAllMetadata(w),_}decodeMiddle(s,o,c){let d=this.decodeMiddleCounters;d[0]=0,d[1]=0,d[2]=0,d[3]=0;let h=s.getSize(),p=o[1],w=0;for(let S=0;S<2&&p<h;S++){let _=Wt.decodeDigit(s,d,p,Wt.L_AND_G_PATTERNS);c+=String.fromCharCode(48+_%10);for(let I of d)p+=I;_>=10&&(w|=1<<1-S),S!==1&&(p=s.getNextSet(p),p=s.getNextUnset(p))}if(c.length!==2)throw new re;if(parseInt(c.toString())%4!==w)throw new re;return p}static parseExtensionString(s){return s.length!==2?null:new Map([[ve.ISSUE_NUMBER,parseInt(s)]])}}class Pc{static decodeRow(s,o,c){let d=Wt.findGuardPattern(o,c,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{return new oo().decodeRow(s,o,d)}catch{return new cl().decodeRow(s,o,d)}}}Pc.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]);class _t extends Wt{constructor(){super(),this.decodeRowStringBuffer="",_t.L_AND_G_PATTERNS=_t.L_PATTERNS.map(s=>Int32Array.from(s));for(let s=10;s<20;s++){let o=_t.L_PATTERNS[s-10],c=new Int32Array(o.length);for(let d=0;d<o.length;d++)c[d]=o[o.length-d-1];_t.L_AND_G_PATTERNS[s]=c}}decodeRow(s,o,c){let d=_t.findStartGuardPattern(o),h=c==null?null:c.get(ne.NEED_RESULT_POINT_CALLBACK);if(h!=null){const Re=new Ne((d[0]+d[1])/2,s);h.foundPossibleResultPoint(Re)}let p=this.decodeMiddle(o,d,this.decodeRowStringBuffer),w=p.rowOffset,S=p.resultString;if(h!=null){const Re=new Ne(w,s);h.foundPossibleResultPoint(Re)}let _=this.decodeEnd(o,w);if(h!=null){const Re=new Ne((_[0]+_[1])/2,s);h.foundPossibleResultPoint(Re)}let I=_[1],k=I+(I-_[0]);if(k>=o.getSize()||!o.isRange(I,k,!1))throw new re;let P=S.toString();if(P.length<8)throw new X;if(!_t.checkChecksum(P))throw new O;let G=(d[1]+d[0])/2,K=(_[1]+_[0])/2,Q=this.getBarcodeFormat(),ae=[new Ne(G,s),new Ne(K,s)],he=new Me(P,null,0,ae,Q,new Date().getTime()),Ie=0;try{let Re=Pc.decodeRow(s,o,_[1]);he.putMetadata(ve.UPC_EAN_EXTENSION,Re.getText()),he.putAllMetadata(Re.getResultMetadata()),he.addResultPoints(Re.getResultPoints()),Ie=Re.getText().length}catch{}let De=c==null?null:c.get(ne.ALLOWED_EAN_EXTENSIONS);if(De!=null){let Re=!1;for(let ot in De)if(Ie.toString()===ot){Re=!0;break}if(!Re)throw new re}return he}decodeEnd(s,o){return _t.findGuardPattern(s,o,!1,_t.START_END_PATTERN,new Int32Array(_t.START_END_PATTERN.length).fill(0))}static checkChecksum(s){return _t.checkStandardUPCEANChecksum(s)}static checkStandardUPCEANChecksum(s){let o=s.length;if(o===0)return!1;let c=parseInt(s.charAt(o-1),10);return _t.getStandardUPCEANChecksum(s.substring(0,o-1))===c}static getStandardUPCEANChecksum(s){let o=s.length,c=0;for(let d=o-1;d>=0;d-=2){let h=s.charAt(d).charCodeAt(0)-48;if(h<0||h>9)throw new X;c+=h}c*=3;for(let d=o-2;d>=0;d-=2){let h=s.charAt(d).charCodeAt(0)-48;if(h<0||h>9)throw new X;c+=h}return(1e3-c)%10}}class Xi extends _t{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(s,o,c){let d=this.decodeMiddleCounters;d[0]=0,d[1]=0,d[2]=0,d[3]=0;let h=s.getSize(),p=o[1],w=0;for(let _=0;_<6&&p<h;_++){let I=_t.decodeDigit(s,d,p,_t.L_AND_G_PATTERNS);c+=String.fromCharCode(48+I%10);for(let k of d)p+=k;I>=10&&(w|=1<<5-_)}c=Xi.determineFirstDigit(c,w),p=_t.findGuardPattern(s,p,!0,_t.MIDDLE_PATTERN,new Int32Array(_t.MIDDLE_PATTERN.length).fill(0))[1];for(let _=0;_<6&&p<h;_++){let I=_t.decodeDigit(s,d,p,_t.L_PATTERNS);c+=String.fromCharCode(48+I);for(let k of d)p+=k}return{rowOffset:p,resultString:c}}getBarcodeFormat(){return we.EAN_13}static determineFirstDigit(s,o){for(let c=0;c<10;c++)if(o===this.FIRST_DIGIT_ENCODINGS[c])return s=String.fromCharCode(48+c)+s,s;throw new re}}Xi.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26];class Lf extends _t{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(s,o,c){const d=this.decodeMiddleCounters;d[0]=0,d[1]=0,d[2]=0,d[3]=0;let h=s.getSize(),p=o[1];for(let S=0;S<4&&p<h;S++){let _=_t.decodeDigit(s,d,p,_t.L_PATTERNS);c+=String.fromCharCode(48+_);for(let I of d)p+=I}p=_t.findGuardPattern(s,p,!0,_t.MIDDLE_PATTERN,new Int32Array(_t.MIDDLE_PATTERN.length).fill(0))[1];for(let S=0;S<4&&p<h;S++){let _=_t.decodeDigit(s,d,p,_t.L_PATTERNS);c+=String.fromCharCode(48+_);for(let I of d)p+=I}return{rowOffset:p,resultString:c}}getBarcodeFormat(){return we.EAN_8}}class Uc extends _t{constructor(){super(...arguments),this.ean13Reader=new Xi}getBarcodeFormat(){return we.UPC_A}decode(s,o){return this.maybeReturnResult(this.ean13Reader.decode(s))}decodeRow(s,o,c){return this.maybeReturnResult(this.ean13Reader.decodeRow(s,o,c))}decodeMiddle(s,o,c){return this.ean13Reader.decodeMiddle(s,o,c)}maybeReturnResult(s){let o=s.getText();if(o.charAt(0)==="0"){let c=new Me(o.substring(1),null,null,s.getResultPoints(),we.UPC_A);return s.getResultMetadata()!=null&&c.putAllMetadata(s.getResultMetadata()),c}else throw new re}reset(){this.ean13Reader.reset()}}class Li extends _t{constructor(){super(),this.decodeMiddleCounters=new Int32Array(4)}decodeMiddle(s,o,c){const d=this.decodeMiddleCounters.map(_=>_);d[0]=0,d[1]=0,d[2]=0,d[3]=0;const h=s.getSize();let p=o[1],w=0;for(let _=0;_<6&&p<h;_++){const I=Li.decodeDigit(s,d,p,Li.L_AND_G_PATTERNS);c+=String.fromCharCode(48+I%10);for(let k of d)p+=k;I>=10&&(w|=1<<5-_)}let S=Li.determineNumSysAndCheckDigit(c,w);return{rowOffset:p,resultString:S}}decodeEnd(s,o){return Li.findGuardPatternWithoutCounters(s,o,!0,Li.MIDDLE_END_PATTERN)}checkChecksum(s){return _t.checkChecksum(Li.convertUPCEtoUPCA(s))}static determineNumSysAndCheckDigit(s,o){for(let c=0;c<=1;c++)for(let d=0;d<10;d++)if(o===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[c][d]){let h=String.fromCharCode(48+c),p=String.fromCharCode(48+d);return h+s+p}throw re.getNotFoundInstance()}getBarcodeFormat(){return we.UPC_E}static convertUPCEtoUPCA(s){const o=s.slice(1,7).split("").map(h=>h.charCodeAt(0)),c=new Ce;c.append(s.charAt(0));let d=o[5];switch(d){case 0:case 1:case 2:c.appendChars(o,0,2),c.append(d),c.append("0000"),c.appendChars(o,2,3);break;case 3:c.appendChars(o,0,3),c.append("00000"),c.appendChars(o,3,2);break;case 4:c.appendChars(o,0,4),c.append("00000"),c.append(o[4]);break;default:c.appendChars(o,0,5),c.append("0000"),c.append(d);break}return s.length>=8&&c.append(s.charAt(7)),c.toString()}}Li.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),Li.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,26])];class lo extends Xt{constructor(s){super();let o=s==null?null:s.get(ne.POSSIBLE_FORMATS),c=[];r(o)?(c.push(new Xi),c.push(new Uc),c.push(new Lf),c.push(new Li)):(o.indexOf(we.EAN_13)>-1&&c.push(new Xi),o.indexOf(we.UPC_A)>-1&&c.push(new Uc),o.indexOf(we.EAN_8)>-1&&c.push(new Lf),o.indexOf(we.UPC_E)>-1&&c.push(new Li)),this.readers=c}decodeRow(s,o,c){for(let d of this.readers)try{const h=d.decodeRow(s,o,c),p=h.getBarcodeFormat()===we.EAN_13&&h.getText().charAt(0)==="0",w=c==null?null:c.get(ne.POSSIBLE_FORMATS),S=w==null||w.includes(we.UPC_A);if(p&&S){const _=h.getRawBytes(),I=new Me(h.getText().substring(1),_,_?_.length:null,h.getResultPoints(),we.UPC_A);return I.putAllMetadata(h.getResultMetadata()),I}return h}catch{}throw new re}reset(){for(let s of this.readers)s.reset()}}class jn extends Xt{constructor(){super(),this.decodeFinderCounters=new Int32Array(4),this.dataCharacterCounters=new Int32Array(8),this.oddRoundingErrors=new Array(4),this.evenRoundingErrors=new Array(4),this.oddCounts=new Array(this.dataCharacterCounters.length/2),this.evenCounts=new Array(this.dataCharacterCounters.length/2)}getDecodeFinderCounters(){return this.decodeFinderCounters}getDataCharacterCounters(){return this.dataCharacterCounters}getOddRoundingErrors(){return this.oddRoundingErrors}getEvenRoundingErrors(){return this.evenRoundingErrors}getOddCounts(){return this.oddCounts}getEvenCounts(){return this.evenCounts}parseFinderValue(s,o){for(let c=0;c<o.length;c++)if(Xt.patternMatchVariance(s,o[c],jn.MAX_INDIVIDUAL_VARIANCE)<jn.MAX_AVG_VARIANCE)return c;throw new re}static count(s){return Ee.sum(new Int32Array(s))}static increment(s,o){let c=0,d=o[0];for(let h=1;h<s.length;h++)o[h]>d&&(d=o[h],c=h);s[c]++}static decrement(s,o){let c=0,d=o[0];for(let h=1;h<s.length;h++)o[h]<d&&(d=o[h],c=h);s[c]--}static isFinderPattern(s){let o=s[0]+s[1],c=o+s[2]+s[3],d=o/c;if(d>=jn.MIN_FINDER_PATTERN_RATIO&&d<=jn.MAX_FINDER_PATTERN_RATIO){let h=Number.MAX_SAFE_INTEGER,p=Number.MIN_SAFE_INTEGER;for(let w of s)w>p&&(p=w),w<h&&(h=w);return p<10*h}return!1}}jn.MAX_AVG_VARIANCE=.2,jn.MAX_INDIVIDUAL_VARIANCE=.45,jn.MIN_FINDER_PATTERN_RATIO=9.5/12,jn.MAX_FINDER_PATTERN_RATIO=12.5/14;class br{constructor(s,o){this.value=s,this.checksumPortion=o}getValue(){return this.value}getChecksumPortion(){return this.checksumPortion}toString(){return this.value+"("+this.checksumPortion+")"}equals(s){if(!(s instanceof br))return!1;const o=s;return this.value===o.value&&this.checksumPortion===o.checksumPortion}hashCode(){return this.value^this.checksumPortion}}class ul{constructor(s,o,c,d,h){this.value=s,this.startEnd=o,this.value=s,this.startEnd=o,this.resultPoints=new Array,this.resultPoints.push(new Ne(c,h)),this.resultPoints.push(new Ne(d,h))}getValue(){return this.value}getStartEnd(){return this.startEnd}getResultPoints(){return this.resultPoints}equals(s){if(!(s instanceof ul))return!1;const o=s;return this.value===o.value}hashCode(){return this.value}}class zn{constructor(){}static getRSSvalue(s,o,c){let d=0;for(let S of s)d+=S;let h=0,p=0,w=s.length;for(let S=0;S<w-1;S++){let _;for(_=1,p|=1<<S;_<s[S];_++,p&=~(1<<S)){let I=zn.combins(d-_-1,w-S-2);if(c&&p===0&&d-_-(w-S-1)>=w-S-1&&(I-=zn.combins(d-_-(w-S),w-S-2)),w-S-1>1){let k=0;for(let P=d-_-(w-S-2);P>o;P--)k+=zn.combins(d-_-P-1,w-S-3);I-=k*(w-1-S)}else d-_>o&&I--;h+=I}d-=_}return h}static combins(s,o){let c,d;s-o>o?(d=o,c=s-o):(d=s-o,c=o);let h=1,p=1;for(let w=s;w>c;w--)h*=w,p<=d&&(h/=p,p++);for(;p<=d;)h/=p,p++;return h}}class Jn{static buildBitArray(s){let o=s.length*2-1;s[s.length-1].getRightChar()==null&&(o-=1);let c=12*o,d=new q(c),h=0,w=s[0].getRightChar().getValue();for(let S=11;S>=0;--S)(w&1<<S)!=0&&d.set(h),h++;for(let S=1;S<s.length;++S){let _=s[S],I=_.getLeftChar().getValue();for(let k=11;k>=0;--k)(I&1<<k)!=0&&d.set(h),h++;if(_.getRightChar()!=null){let k=_.getRightChar().getValue();for(let P=11;P>=0;--P)(k&1<<P)!=0&&d.set(h),h++}}return d}}class wn{constructor(s,o){o?this.decodedInformation=null:(this.finished=s,this.decodedInformation=o)}getDecodedInformation(){return this.decodedInformation}isFinished(){return this.finished}}class Gs{constructor(s){this.newPosition=s}getNewPosition(){return this.newPosition}}class ei extends Gs{constructor(s,o){super(s),this.value=o}getValue(){return this.value}isFNC1(){return this.value===ei.FNC1}}ei.FNC1="$";class wr extends Gs{constructor(s,o,c){super(s),c?(this.remaining=!0,this.remainingValue=this.remainingValue):(this.remaining=!1,this.remainingValue=0),this.newString=o}getNewString(){return this.newString}isRemaining(){return this.remaining}getRemainingValue(){return this.remainingValue}}class ki extends Gs{constructor(s,o,c){if(super(s),o<0||o>10||c<0||c>10)throw new X;this.firstDigit=o,this.secondDigit=c}getFirstDigit(){return this.firstDigit}getSecondDigit(){return this.secondDigit}getValue(){return this.firstDigit*10+this.secondDigit}isFirstDigitFNC1(){return this.firstDigit===ki.FNC1}isSecondDigitFNC1(){return this.secondDigit===ki.FNC1}isAnyFNC1(){return this.firstDigit===ki.FNC1||this.secondDigit===ki.FNC1}}ki.FNC1=10;class Ue{constructor(){}static parseFieldsInGeneralPurpose(s){if(!s)return null;if(s.length<2)throw new re;let o=s.substring(0,2);for(let h of Ue.TWO_DIGIT_DATA_LENGTH)if(h[0]===o)return h[1]===Ue.VARIABLE_LENGTH?Ue.processVariableAI(2,h[2],s):Ue.processFixedAI(2,h[1],s);if(s.length<3)throw new re;let c=s.substring(0,3);for(let h of Ue.THREE_DIGIT_DATA_LENGTH)if(h[0]===c)return h[1]===Ue.VARIABLE_LENGTH?Ue.processVariableAI(3,h[2],s):Ue.processFixedAI(3,h[1],s);for(let h of Ue.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH)if(h[0]===c)return h[1]===Ue.VARIABLE_LENGTH?Ue.processVariableAI(4,h[2],s):Ue.processFixedAI(4,h[1],s);if(s.length<4)throw new re;let d=s.substring(0,4);for(let h of Ue.FOUR_DIGIT_DATA_LENGTH)if(h[0]===d)return h[1]===Ue.VARIABLE_LENGTH?Ue.processVariableAI(4,h[2],s):Ue.processFixedAI(4,h[1],s);throw new re}static processFixedAI(s,o,c){if(c.length<s)throw new re;let d=c.substring(0,s);if(c.length<s+o)throw new re;let h=c.substring(s,s+o),p=c.substring(s+o),w="("+d+")"+h,S=Ue.parseFieldsInGeneralPurpose(p);return S==null?w:w+S}static processVariableAI(s,o,c){let d=c.substring(0,s),h;c.length<s+o?h=c.length:h=s+o;let p=c.substring(s,h),w=c.substring(h),S="("+d+")"+p,_=Ue.parseFieldsInGeneralPurpose(w);return _==null?S:S+_}}Ue.VARIABLE_LENGTH=[],Ue.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",Ue.VARIABLE_LENGTH,20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",Ue.VARIABLE_LENGTH,20],["22",Ue.VARIABLE_LENGTH,29],["30",Ue.VARIABLE_LENGTH,8],["37",Ue.VARIABLE_LENGTH,8],["90",Ue.VARIABLE_LENGTH,30],["91",Ue.VARIABLE_LENGTH,30],["92",Ue.VARIABLE_LENGTH,30],["93",Ue.VARIABLE_LENGTH,30],["94",Ue.VARIABLE_LENGTH,30],["95",Ue.VARIABLE_LENGTH,30],["96",Ue.VARIABLE_LENGTH,30],["97",Ue.VARIABLE_LENGTH,3],["98",Ue.VARIABLE_LENGTH,30],["99",Ue.VARIABLE_LENGTH,30]],Ue.THREE_DIGIT_DATA_LENGTH=[["240",Ue.VARIABLE_LENGTH,30],["241",Ue.VARIABLE_LENGTH,30],["242",Ue.VARIABLE_LENGTH,6],["250",Ue.VARIABLE_LENGTH,30],["251",Ue.VARIABLE_LENGTH,30],["253",Ue.VARIABLE_LENGTH,17],["254",Ue.VARIABLE_LENGTH,20],["400",Ue.VARIABLE_LENGTH,30],["401",Ue.VARIABLE_LENGTH,30],["402",17],["403",Ue.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",Ue.VARIABLE_LENGTH,20],["421",Ue.VARIABLE_LENGTH,15],["422",3],["423",Ue.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],Ue.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",Ue.VARIABLE_LENGTH,15],["391",Ue.VARIABLE_LENGTH,18],["392",Ue.VARIABLE_LENGTH,15],["393",Ue.VARIABLE_LENGTH,18],["703",Ue.VARIABLE_LENGTH,30]],Ue.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",Ue.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",Ue.VARIABLE_LENGTH,20],["8003",Ue.VARIABLE_LENGTH,30],["8004",Ue.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",Ue.VARIABLE_LENGTH,30],["8008",Ue.VARIABLE_LENGTH,12],["8018",18],["8020",Ue.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",Ue.VARIABLE_LENGTH,70],["8200",Ue.VARIABLE_LENGTH,70]];class ls{constructor(s){this.buffer=new Ce,this.information=s}decodeAllCodes(s,o){let c=o,d=null;do{let h=this.decodeGeneralPurposeField(c,d),p=Ue.parseFieldsInGeneralPurpose(h.getNewString());if(p!=null&&s.append(p),h.isRemaining()?d=""+h.getRemainingValue():d=null,c===h.getNewPosition())break;c=h.getNewPosition()}while(!0);return s.toString()}isStillNumeric(s){if(s+7>this.information.getSize())return s+4<=this.information.getSize();for(let o=s;o<s+3;++o)if(this.information.get(o))return!0;return this.information.get(s+3)}decodeNumeric(s){if(s+7>this.information.getSize()){let h=this.extractNumericValueFromBitArray(s,4);return h===0?new ki(this.information.getSize(),ki.FNC1,ki.FNC1):new ki(this.information.getSize(),h-1,ki.FNC1)}let o=this.extractNumericValueFromBitArray(s,7),c=(o-8)/11,d=(o-8)%11;return new ki(s+7,c,d)}extractNumericValueFromBitArray(s,o){return ls.extractNumericValueFromBitArray(this.information,s,o)}static extractNumericValueFromBitArray(s,o,c){let d=0;for(let h=0;h<c;++h)s.get(o+h)&&(d|=1<<c-h-1);return d}decodeGeneralPurposeField(s,o){this.buffer.setLengthToZero(),o!=null&&this.buffer.append(o),this.current.setPosition(s);let c=this.parseBlocks();return c!=null&&c.isRemaining()?new wr(this.current.getPosition(),this.buffer.toString(),c.getRemainingValue()):new wr(this.current.getPosition(),this.buffer.toString())}parseBlocks(){let s,o;do{let c=this.current.getPosition();if(this.current.isAlpha()?(o=this.parseAlphaBlock(),s=o.isFinished()):this.current.isIsoIec646()?(o=this.parseIsoIec646Block(),s=o.isFinished()):(o=this.parseNumericBlock(),s=o.isFinished()),!(c!==this.current.getPosition())&&!s)break}while(!s);return o.getDecodedInformation()}parseNumericBlock(){for(;this.isStillNumeric(this.current.getPosition());){let s=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(s.getNewPosition()),s.isFirstDigitFNC1()){let o;return s.isSecondDigitFNC1()?o=new wr(this.current.getPosition(),this.buffer.toString()):o=new wr(this.current.getPosition(),this.buffer.toString(),s.getSecondDigit()),new wn(!0,o)}if(this.buffer.append(s.getFirstDigit()),s.isSecondDigitFNC1()){let o=new wr(this.current.getPosition(),this.buffer.toString());return new wn(!0,o)}this.buffer.append(s.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new wn(!1)}parseIsoIec646Block(){for(;this.isStillIsoIec646(this.current.getPosition());){let s=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(s.getNewPosition()),s.isFNC1()){let o=new wr(this.current.getPosition(),this.buffer.toString());return new wn(!0,o)}this.buffer.append(s.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new wn(!1)}parseAlphaBlock(){for(;this.isStillAlpha(this.current.getPosition());){let s=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(s.getNewPosition()),s.isFNC1()){let o=new wr(this.current.getPosition(),this.buffer.toString());return new wn(!0,o)}this.buffer.append(s.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new wn(!1)}isStillIsoIec646(s){if(s+5>this.information.getSize())return!1;let o=this.extractNumericValueFromBitArray(s,5);if(o>=5&&o<16)return!0;if(s+7>this.information.getSize())return!1;let c=this.extractNumericValueFromBitArray(s,7);if(c>=64&&c<116)return!0;if(s+8>this.information.getSize())return!1;let d=this.extractNumericValueFromBitArray(s,8);return d>=232&&d<253}decodeIsoIec646(s){let o=this.extractNumericValueFromBitArray(s,5);if(o===15)return new ei(s+5,ei.FNC1);if(o>=5&&o<15)return new ei(s+5,"0"+(o-5));let c=this.extractNumericValueFromBitArray(s,7);if(c>=64&&c<90)return new ei(s+7,""+(c+1));if(c>=90&&c<116)return new ei(s+7,""+(c+7));let d=this.extractNumericValueFromBitArray(s,8),h;switch(d){case 232:h="!";break;case 233:h='"';break;case 234:h="%";break;case 235:h="&";break;case 236:h="'";break;case 237:h="(";break;case 238:h=")";break;case 239:h="*";break;case 240:h="+";break;case 241:h=",";break;case 242:h="-";break;case 243:h=".";break;case 244:h="/";break;case 245:h=":";break;case 246:h=";";break;case 247:h="<";break;case 248:h="=";break;case 249:h=">";break;case 250:h="?";break;case 251:h="_";break;case 252:h=" ";break;default:throw new X}return new ei(s+8,h)}isStillAlpha(s){if(s+5>this.information.getSize())return!1;let o=this.extractNumericValueFromBitArray(s,5);if(o>=5&&o<16)return!0;if(s+6>this.information.getSize())return!1;let c=this.extractNumericValueFromBitArray(s,6);return c>=16&&c<63}decodeAlphanumeric(s){let o=this.extractNumericValueFromBitArray(s,5);if(o===15)return new ei(s+5,ei.FNC1);if(o>=5&&o<15)return new ei(s+5,"0"+(o-5));let c=this.extractNumericValueFromBitArray(s,6);if(c>=32&&c<58)return new ei(s+6,""+(c+33));let d;switch(c){case 58:d="*";break;case 59:d=",";break;case 60:d="-";break;case 61:d=".";break;case 62:d="/";break;default:throw new Ai("Decoding invalid alphanumeric value: "+c)}return new ei(s+6,d)}isAlphaTo646ToAlphaLatch(s){if(s+1>this.information.getSize())return!1;for(let o=0;o<5&&o+s<this.information.getSize();++o)if(o===2){if(!this.information.get(s+2))return!1}else if(this.information.get(s+o))return!1;return!0}isAlphaOr646ToNumericLatch(s){if(s+3>this.information.getSize())return!1;for(let o=s;o<s+3;++o)if(this.information.get(o))return!1;return!0}isNumericToAlphaNumericLatch(s){if(s+1>this.information.getSize())return!1;for(let o=0;o<4&&o+s<this.information.getSize();++o)if(this.information.get(s+o))return!1;return!0}}class co{constructor(s){this.information=s,this.generalDecoder=new ls(s)}getInformation(){return this.information}getGeneralDecoder(){return this.generalDecoder}}class Nn extends co{constructor(s){super(s)}encodeCompressedGtin(s,o){s.append("(01)");let c=s.length();s.append("9"),this.encodeCompressedGtinWithoutAI(s,o,c)}encodeCompressedGtinWithoutAI(s,o,c){for(let d=0;d<4;++d){let h=this.getGeneralDecoder().extractNumericValueFromBitArray(o+10*d,10);h/100===0&&s.append("0"),h/10===0&&s.append("0"),s.append(h)}Nn.appendCheckDigit(s,c)}static appendCheckDigit(s,o){let c=0;for(let d=0;d<13;d++){let h=s.charAt(d+o).charCodeAt(0)-48;c+=(d&1)===0?3*h:h}c=10-c%10,c===10&&(c=0),s.append(c)}}Nn.GTIN_SIZE=40;class Wi extends Nn{constructor(s){super(s)}parseInformation(){let s=new Ce;s.append("(01)");let o=s.length(),c=this.getGeneralDecoder().extractNumericValueFromBitArray(Wi.HEADER_SIZE,4);return s.append(c),this.encodeCompressedGtinWithoutAI(s,Wi.HEADER_SIZE+4,o),this.getGeneralDecoder().decodeAllCodes(s,Wi.HEADER_SIZE+44)}}Wi.HEADER_SIZE=4;class qs extends co{constructor(s){super(s)}parseInformation(){let s=new Ce;return this.getGeneralDecoder().decodeAllCodes(s,qs.HEADER_SIZE)}}qs.HEADER_SIZE=5;class Ts extends Nn{constructor(s){super(s)}encodeCompressedWeight(s,o,c){let d=this.getGeneralDecoder().extractNumericValueFromBitArray(o,c);this.addWeightCode(s,d);let h=this.checkWeight(d),p=1e5;for(let w=0;w<5;++w)h/p===0&&s.append("0"),p/=10;s.append(h)}}class zt extends Ts{constructor(s){super(s)}parseInformation(){if(this.getInformation().getSize()!=zt.HEADER_SIZE+Ts.GTIN_SIZE+zt.WEIGHT_SIZE)throw new re;let s=new Ce;return this.encodeCompressedGtin(s,zt.HEADER_SIZE),this.encodeCompressedWeight(s,zt.HEADER_SIZE+Ts.GTIN_SIZE,zt.WEIGHT_SIZE),s.toString()}}zt.HEADER_SIZE=5,zt.WEIGHT_SIZE=15;class kf extends zt{constructor(s){super(s)}addWeightCode(s,o){s.append("(3103)")}checkWeight(s){return s}}class jf extends zt{constructor(s){super(s)}addWeightCode(s,o){o<1e4?s.append("(3202)"):s.append("(3203)")}checkWeight(s){return s<1e4?s:s-1e4}}class ti extends Nn{constructor(s){super(s)}parseInformation(){if(this.getInformation().getSize()<ti.HEADER_SIZE+Nn.GTIN_SIZE)throw new re;let s=new Ce;this.encodeCompressedGtin(s,ti.HEADER_SIZE);let o=this.getGeneralDecoder().extractNumericValueFromBitArray(ti.HEADER_SIZE+Nn.GTIN_SIZE,ti.LAST_DIGIT_SIZE);s.append("(392"),s.append(o),s.append(")");let c=this.getGeneralDecoder().decodeGeneralPurposeField(ti.HEADER_SIZE+Nn.GTIN_SIZE+ti.LAST_DIGIT_SIZE,null);return s.append(c.getNewString()),s.toString()}}ti.HEADER_SIZE=8,ti.LAST_DIGIT_SIZE=2;class vn extends Nn{constructor(s){super(s)}parseInformation(){if(this.getInformation().getSize()<vn.HEADER_SIZE+Nn.GTIN_SIZE)throw new re;let s=new Ce;this.encodeCompressedGtin(s,vn.HEADER_SIZE);let o=this.getGeneralDecoder().extractNumericValueFromBitArray(vn.HEADER_SIZE+Nn.GTIN_SIZE,vn.LAST_DIGIT_SIZE);s.append("(393"),s.append(o),s.append(")");let c=this.getGeneralDecoder().extractNumericValueFromBitArray(vn.HEADER_SIZE+Nn.GTIN_SIZE+vn.LAST_DIGIT_SIZE,vn.FIRST_THREE_DIGITS_SIZE);c/100==0&&s.append("0"),c/10==0&&s.append("0"),s.append(c);let d=this.getGeneralDecoder().decodeGeneralPurposeField(vn.HEADER_SIZE+Nn.GTIN_SIZE+vn.LAST_DIGIT_SIZE+vn.FIRST_THREE_DIGITS_SIZE,null);return s.append(d.getNewString()),s.toString()}}vn.HEADER_SIZE=8,vn.LAST_DIGIT_SIZE=2,vn.FIRST_THREE_DIGITS_SIZE=10;class rn extends Ts{constructor(s,o,c){super(s),this.dateCode=c,this.firstAIdigits=o}parseInformation(){if(this.getInformation().getSize()!=rn.HEADER_SIZE+rn.GTIN_SIZE+rn.WEIGHT_SIZE+rn.DATE_SIZE)throw new re;let s=new Ce;return this.encodeCompressedGtin(s,rn.HEADER_SIZE),this.encodeCompressedWeight(s,rn.HEADER_SIZE+rn.GTIN_SIZE,rn.WEIGHT_SIZE),this.encodeCompressedDate(s,rn.HEADER_SIZE+rn.GTIN_SIZE+rn.WEIGHT_SIZE),s.toString()}encodeCompressedDate(s,o){let c=this.getGeneralDecoder().extractNumericValueFromBitArray(o,rn.DATE_SIZE);if(c==38400)return;s.append("("),s.append(this.dateCode),s.append(")");let d=c%32;c/=32;let h=c%12+1;c/=12;let p=c;p/10==0&&s.append("0"),s.append(p),h/10==0&&s.append("0"),s.append(h),d/10==0&&s.append("0"),s.append(d)}addWeightCode(s,o){s.append("("),s.append(this.firstAIdigits),s.append(o/1e5),s.append(")")}checkWeight(s){return s%1e5}}rn.HEADER_SIZE=8,rn.WEIGHT_SIZE=20,rn.DATE_SIZE=16;function Fc(L){try{if(L.get(1))return new Wi(L);if(!L.get(2))return new qs(L);switch(ls.extractNumericValueFromBitArray(L,1,4)){case 4:return new kf(L);case 5:return new jf(L)}switch(ls.extractNumericValueFromBitArray(L,1,5)){case 12:return new ti(L);case 13:return new vn(L)}switch(ls.extractNumericValueFromBitArray(L,1,7)){case 56:return new rn(L,"310","11");case 57:return new rn(L,"320","11");case 58:return new rn(L,"310","13");case 59:return new rn(L,"320","13");case 60:return new rn(L,"310","15");case 61:return new rn(L,"320","15");case 62:return new rn(L,"310","17");case 63:return new rn(L,"320","17")}}catch(s){throw console.log(s),new Ai("unknown decoder: "+L)}}class _s{constructor(s,o,c,d){this.leftchar=s,this.rightchar=o,this.finderpattern=c,this.maybeLast=d}mayBeLast(){return this.maybeLast}getLeftChar(){return this.leftchar}getRightChar(){return this.rightchar}getFinderPattern(){return this.finderpattern}mustBeLast(){return this.rightchar==null}toString(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(this.finderpattern==null?"null":this.finderpattern.getValue())+" ]"}static equals(s,o){return s instanceof _s?_s.equalsOrNull(s.leftchar,o.leftchar)&&_s.equalsOrNull(s.rightchar,o.rightchar)&&_s.equalsOrNull(s.finderpattern,o.finderpattern):!1}static equalsOrNull(s,o){return s===null?o===null:_s.equals(s,o)}hashCode(){return this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue()}}class Vc{constructor(s,o,c){this.pairs=s,this.rowNumber=o,this.wasReversed=c}getPairs(){return this.pairs}getRowNumber(){return this.rowNumber}isReversed(){return this.wasReversed}isEquivalent(s){return this.checkEqualitity(this,s)}toString(){return"{ "+this.pairs+" }"}equals(s,o){return s instanceof Vc?this.checkEqualitity(s,o)&&s.wasReversed===o.wasReversed:!1}checkEqualitity(s,o){if(!s||!o)return;let c;return s.forEach((d,h)=>{o.forEach(p=>{d.getLeftChar().getValue()===p.getLeftChar().getValue()&&d.getRightChar().getValue()===p.getRightChar().getValue()&&d.getFinderPatter().getValue()===p.getFinderPatter().getValue()&&(c=!0)})}),c}}class _e extends jn{constructor(s){super(...arguments),this.pairs=new Array(_e.MAX_PAIRS),this.rows=new Array,this.startEnd=[2],this.verbose=s===!0}decodeRow(s,o,c){this.pairs.length=0,this.startFromEven=!1;try{return _e.constructResult(this.decodeRow2pairs(s,o))}catch(d){this.verbose&&console.log(d)}return this.pairs.length=0,this.startFromEven=!0,_e.constructResult(this.decodeRow2pairs(s,o))}reset(){this.pairs.length=0,this.rows.length=0}decodeRow2pairs(s,o){let c=!1;for(;!c;)try{this.pairs.push(this.retrieveNextPair(o,this.pairs,s))}catch(h){if(h instanceof re){if(!this.pairs.length)throw new re;c=!0}}if(this.checkChecksum())return this.pairs;let d;if(this.rows.length?d=!0:d=!1,this.storeRow(s,!1),d){let h=this.checkRowsBoolean(!1);if(h!=null||(h=this.checkRowsBoolean(!0),h!=null))return h}throw new re}checkRowsBoolean(s){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,s&&(this.rows=this.rows.reverse());let o=null;try{o=this.checkRows(new Array,0)}catch(c){this.verbose&&console.log(c)}return s&&(this.rows=this.rows.reverse()),o}checkRows(s,o){for(let c=o;c<this.rows.length;c++){let d=this.rows[c];this.pairs.length=0;for(let p of s)this.pairs.push(p.getPairs());if(this.pairs.push(d.getPairs()),!_e.isValidSequence(this.pairs))continue;if(this.checkChecksum())return this.pairs;let h=new Array(s);h.push(d);try{return this.checkRows(h,c+1)}catch(p){this.verbose&&console.log(p)}}throw new re}static isValidSequence(s){for(let o of _e.FINDER_PATTERN_SEQUENCES){if(s.length>o.length)continue;let c=!0;for(let d=0;d<s.length;d++)if(s[d].getFinderPattern().getValue()!=o[d]){c=!1;break}if(c)return!0}return!1}storeRow(s,o){let c=0,d=!1,h=!1;for(;c<this.rows.length;){let p=this.rows[c];if(p.getRowNumber()>s){h=p.isEquivalent(this.pairs);break}d=p.isEquivalent(this.pairs),c++}h||d||_e.isPartialRow(this.pairs,this.rows)||(this.rows.push(c,new Vc(this.pairs,s,o)),this.removePartialRows(this.pairs,this.rows))}removePartialRows(s,o){for(let c of o)if(c.getPairs().length!==s.length){for(let d of c.getPairs())for(let h of s)if(_s.equals(d,h))break}}static isPartialRow(s,o){for(let c of o){let d=!0;for(let h of s){let p=!1;for(let w of c.getPairs())if(h.equals(w)){p=!0;break}if(!p){d=!1;break}}if(d)return!0}return!1}getRows(){return this.rows}static constructResult(s){let o=Jn.buildBitArray(s),d=Fc(o).parseInformation(),h=s[0].getFinderPattern().getResultPoints(),p=s[s.length-1].getFinderPattern().getResultPoints(),w=[h[0],h[1],p[0],p[1]];return new Me(d,null,null,w,we.RSS_EXPANDED,null)}checkChecksum(){let s=this.pairs.get(0),o=s.getLeftChar(),c=s.getRightChar();if(c==null)return!1;let d=c.getChecksumPortion(),h=2;for(let w=1;w<this.pairs.size();++w){let S=this.pairs.get(w);d+=S.getLeftChar().getChecksumPortion(),h++;let _=S.getRightChar();_!=null&&(d+=_.getChecksumPortion(),h++)}return d%=211,211*(h-4)+d==o.getValue()}static getNextSecondBar(s,o){let c;return s.get(o)?(c=s.getNextUnset(o),c=s.getNextSet(c)):(c=s.getNextSet(o),c=s.getNextUnset(c)),c}retrieveNextPair(s,o,c){let d=o.length%2==0;this.startFromEven&&(d=!d);let h,p=!0,w=-1;do this.findNextPair(s,o,w),h=this.parseFoundFinderPattern(s,c,d),h==null?w=_e.getNextSecondBar(s,this.startEnd[0]):p=!1;while(p);let S=this.decodeDataCharacter(s,h,d,!0);if(!this.isEmptyPair(o)&&o[o.length-1].mustBeLast())throw new re;let _;try{_=this.decodeDataCharacter(s,h,d,!1)}catch(I){_=null,this.verbose&&console.log(I)}return new _s(S,_,h,!0)}isEmptyPair(s){return s.length===0}findNextPair(s,o,c){let d=this.getDecodeFinderCounters();d[0]=0,d[1]=0,d[2]=0,d[3]=0;let h=s.getSize(),p;c>=0?p=c:this.isEmptyPair(o)?p=0:p=o[o.length-1].getFinderPattern().getStartEnd()[1];let w=o.length%2!=0;this.startFromEven&&(w=!w);let S=!1;for(;p<h&&(S=!s.get(p),!!S);)p++;let _=0,I=p;for(let k=p;k<h;k++)if(s.get(k)!=S)d[_]++;else{if(_==3){if(w&&_e.reverseCounters(d),_e.isFinderPattern(d)){this.startEnd[0]=I,this.startEnd[1]=k;return}w&&_e.reverseCounters(d),I+=d[0]+d[1],d[0]=d[2],d[1]=d[3],d[2]=0,d[3]=0,_--}else _++;d[_]=1,S=!S}throw new re}static reverseCounters(s){let o=s.length;for(let c=0;c<o/2;++c){let d=s[c];s[c]=s[o-c-1],s[o-c-1]=d}}parseFoundFinderPattern(s,o,c){let d,h,p;if(c){let _=this.startEnd[0]-1;for(;_>=0&&!s.get(_);)_--;_++,d=this.startEnd[0]-_,h=_,p=this.startEnd[1]}else h=this.startEnd[0],p=s.getNextUnset(this.startEnd[1]+1),d=p-this.startEnd[1];let w=this.getDecodeFinderCounters();B.arraycopy(w,0,w,1,w.length-1),w[0]=d;let S;try{S=this.parseFinderValue(w,_e.FINDER_PATTERNS)}catch{return null}return new ul(S,[h,p],h,p,o)}decodeDataCharacter(s,o,c,d){let h=this.getDataCharacterCounters();for(let $t=0;$t<h.length;$t++)h[$t]=0;if(d)_e.recordPatternInReverse(s,o.getStartEnd()[0],h);else{_e.recordPattern(s,o.getStartEnd()[1],h);for(let $t=0,Yn=h.length-1;$t<Yn;$t++,Yn--){let yi=h[$t];h[$t]=h[Yn],h[Yn]=yi}}let p=17,w=Ee.sum(new Int32Array(h))/p,S=(o.getStartEnd()[1]-o.getStartEnd()[0])/15;if(Math.abs(w-S)/S>.3)throw new re;let _=this.getOddCounts(),I=this.getEvenCounts(),k=this.getOddRoundingErrors(),P=this.getEvenRoundingErrors();for(let $t=0;$t<h.length;$t++){let Yn=1*h[$t]/w,yi=Yn+.5;if(yi<1){if(Yn<.3)throw new re;yi=1}else if(yi>8){if(Yn>8.7)throw new re;yi=8}let Ar=$t/2;($t&1)==0?(_[Ar]=yi,k[Ar]=Yn-yi):(I[Ar]=yi,P[Ar]=Yn-yi)}this.adjustOddEvenCounts(p);let G=4*o.getValue()+(c?0:2)+(d?0:1)-1,K=0,Q=0;for(let $t=_.length-1;$t>=0;$t--){if(_e.isNotA1left(o,c,d)){let Yn=_e.WEIGHTS[G][2*$t];Q+=_[$t]*Yn}K+=_[$t]}let ae=0;for(let $t=I.length-1;$t>=0;$t--)if(_e.isNotA1left(o,c,d)){let Yn=_e.WEIGHTS[G][2*$t+1];ae+=I[$t]*Yn}let he=Q+ae;if((K&1)!=0||K>13||K<4)throw new re;let Ie=(13-K)/2,De=_e.SYMBOL_WIDEST[Ie],Re=9-De,ot=zn.getRSSvalue(_,De,!0),rt=zn.getRSSvalue(I,Re,!1),li=_e.EVEN_TOTAL_SUBSET[Ie],Bi=_e.GSUM[Ie],xi=ot*li+rt+Bi;return new br(xi,he)}static isNotA1left(s,o,c){return!(s.getValue()==0&&o&&c)}adjustOddEvenCounts(s){let o=Ee.sum(new Int32Array(this.getOddCounts())),c=Ee.sum(new Int32Array(this.getEvenCounts())),d=!1,h=!1;o>13?h=!0:o<4&&(d=!0);let p=!1,w=!1;c>13?w=!0:c<4&&(p=!0);let S=o+c-s,_=(o&1)==1,I=(c&1)==0;if(S==1)if(_){if(I)throw new re;h=!0}else{if(!I)throw new re;w=!0}else if(S==-1)if(_){if(I)throw new re;d=!0}else{if(!I)throw new re;p=!0}else if(S==0){if(_){if(!I)throw new re;o<c?(d=!0,w=!0):(h=!0,p=!0)}else if(I)throw new re}else throw new re;if(d){if(h)throw new re;_e.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(h&&_e.decrement(this.getOddCounts(),this.getOddRoundingErrors()),p){if(w)throw new re;_e.increment(this.getEvenCounts(),this.getOddRoundingErrors())}w&&_e.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}_e.SYMBOL_WIDEST=[7,5,4,3,1],_e.EVEN_TOTAL_SUBSET=[4,20,52,104,204],_e.GSUM=[0,348,1388,2948,3988],_e.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],_e.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],_e.FINDER_PAT_A=0,_e.FINDER_PAT_B=1,_e.FINDER_PAT_C=2,_e.FINDER_PAT_D=3,_e.FINDER_PAT_E=4,_e.FINDER_PAT_F=5,_e.FINDER_PATTERN_SEQUENCES=[[_e.FINDER_PAT_A,_e.FINDER_PAT_A],[_e.FINDER_PAT_A,_e.FINDER_PAT_B,_e.FINDER_PAT_B],[_e.FINDER_PAT_A,_e.FINDER_PAT_C,_e.FINDER_PAT_B,_e.FINDER_PAT_D],[_e.FINDER_PAT_A,_e.FINDER_PAT_E,_e.FINDER_PAT_B,_e.FINDER_PAT_D,_e.FINDER_PAT_C],[_e.FINDER_PAT_A,_e.FINDER_PAT_E,_e.FINDER_PAT_B,_e.FINDER_PAT_D,_e.FINDER_PAT_D,_e.FINDER_PAT_F],[_e.FINDER_PAT_A,_e.FINDER_PAT_E,_e.FINDER_PAT_B,_e.FINDER_PAT_D,_e.FINDER_PAT_E,_e.FINDER_PAT_F,_e.FINDER_PAT_F],[_e.FINDER_PAT_A,_e.FINDER_PAT_A,_e.FINDER_PAT_B,_e.FINDER_PAT_B,_e.FINDER_PAT_C,_e.FINDER_PAT_C,_e.FINDER_PAT_D,_e.FINDER_PAT_D],[_e.FINDER_PAT_A,_e.FINDER_PAT_A,_e.FINDER_PAT_B,_e.FINDER_PAT_B,_e.FINDER_PAT_C,_e.FINDER_PAT_C,_e.FINDER_PAT_D,_e.FINDER_PAT_E,_e.FINDER_PAT_E],[_e.FINDER_PAT_A,_e.FINDER_PAT_A,_e.FINDER_PAT_B,_e.FINDER_PAT_B,_e.FINDER_PAT_C,_e.FINDER_PAT_C,_e.FINDER_PAT_D,_e.FINDER_PAT_E,_e.FINDER_PAT_F,_e.FINDER_PAT_F],[_e.FINDER_PAT_A,_e.FINDER_PAT_A,_e.FINDER_PAT_B,_e.FINDER_PAT_B,_e.FINDER_PAT_C,_e.FINDER_PAT_D,_e.FINDER_PAT_D,_e.FINDER_PAT_E,_e.FINDER_PAT_E,_e.FINDER_PAT_F,_e.FINDER_PAT_F]],_e.MAX_PAIRS=11;class fl extends br{constructor(s,o,c){super(s,o),this.count=0,this.finderPattern=c}getFinderPattern(){return this.finderPattern}getCount(){return this.count}incrementCount(){this.count++}}class Dt extends jn{constructor(){super(...arguments),this.possibleLeftPairs=[],this.possibleRightPairs=[]}decodeRow(s,o,c){const d=this.decodePair(o,!1,s,c);Dt.addOrTally(this.possibleLeftPairs,d),o.reverse();let h=this.decodePair(o,!0,s,c);Dt.addOrTally(this.possibleRightPairs,h),o.reverse();for(let p of this.possibleLeftPairs)if(p.getCount()>1){for(let w of this.possibleRightPairs)if(w.getCount()>1&&Dt.checkChecksum(p,w))return Dt.constructResult(p,w)}throw new re}static addOrTally(s,o){if(o==null)return;let c=!1;for(let d of s)if(d.getValue()===o.getValue()){d.incrementCount(),c=!0;break}c||s.push(o)}reset(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0}static constructResult(s,o){let c=4537077*s.getValue()+o.getValue(),d=new String(c).toString(),h=new Ce;for(let _=13-d.length;_>0;_--)h.append("0");h.append(d);let p=0;for(let _=0;_<13;_++){let I=h.charAt(_).charCodeAt(0)-48;p+=(_&1)===0?3*I:I}p=10-p%10,p===10&&(p=0),h.append(p.toString());let w=s.getFinderPattern().getResultPoints(),S=o.getFinderPattern().getResultPoints();return new Me(h.toString(),null,0,[w[0],w[1],S[0],S[1]],we.RSS_14,new Date().getTime())}static checkChecksum(s,o){let c=(s.getChecksumPortion()+16*o.getChecksumPortion())%79,d=9*s.getFinderPattern().getValue()+o.getFinderPattern().getValue();return d>72&&d--,d>8&&d--,c===d}decodePair(s,o,c,d){try{let h=this.findFinderPattern(s,o),p=this.parseFoundFinderPattern(s,c,o,h),w=d==null?null:d.get(ne.NEED_RESULT_POINT_CALLBACK);if(w!=null){let I=(h[0]+h[1])/2;o&&(I=s.getSize()-1-I),w.foundPossibleResultPoint(new Ne(I,c))}let S=this.decodeDataCharacter(s,p,!0),_=this.decodeDataCharacter(s,p,!1);return new fl(1597*S.getValue()+_.getValue(),S.getChecksumPortion()+4*_.getChecksumPortion(),p)}catch{return null}}decodeDataCharacter(s,o,c){let d=this.getDataCharacterCounters();for(let ae=0;ae<d.length;ae++)d[ae]=0;if(c)Xt.recordPatternInReverse(s,o.getStartEnd()[0],d);else{Xt.recordPattern(s,o.getStartEnd()[1]+1,d);for(let ae=0,he=d.length-1;ae<he;ae++,he--){let Ie=d[ae];d[ae]=d[he],d[he]=Ie}}let h=c?16:15,p=Ee.sum(new Int32Array(d))/h,w=this.getOddCounts(),S=this.getEvenCounts(),_=this.getOddRoundingErrors(),I=this.getEvenRoundingErrors();for(let ae=0;ae<d.length;ae++){let he=d[ae]/p,Ie=Math.floor(he+.5);Ie<1?Ie=1:Ie>8&&(Ie=8);let De=Math.floor(ae/2);(ae&1)===0?(w[De]=Ie,_[De]=he-Ie):(S[De]=Ie,I[De]=he-Ie)}this.adjustOddEvenCounts(c,h);let k=0,P=0;for(let ae=w.length-1;ae>=0;ae--)P*=9,P+=w[ae],k+=w[ae];let G=0,K=0;for(let ae=S.length-1;ae>=0;ae--)G*=9,G+=S[ae],K+=S[ae];let Q=P+3*G;if(c){if((k&1)!==0||k>12||k<4)throw new re;let ae=(12-k)/2,he=Dt.OUTSIDE_ODD_WIDEST[ae],Ie=9-he,De=zn.getRSSvalue(w,he,!1),Re=zn.getRSSvalue(S,Ie,!0),ot=Dt.OUTSIDE_EVEN_TOTAL_SUBSET[ae],rt=Dt.OUTSIDE_GSUM[ae];return new br(De*ot+Re+rt,Q)}else{if((K&1)!==0||K>10||K<4)throw new re;let ae=(10-K)/2,he=Dt.INSIDE_ODD_WIDEST[ae],Ie=9-he,De=zn.getRSSvalue(w,he,!0),Re=zn.getRSSvalue(S,Ie,!1),ot=Dt.INSIDE_ODD_TOTAL_SUBSET[ae],rt=Dt.INSIDE_GSUM[ae];return new br(Re*ot+De+rt,Q)}}findFinderPattern(s,o){let c=this.getDecodeFinderCounters();c[0]=0,c[1]=0,c[2]=0,c[3]=0;let d=s.getSize(),h=!1,p=0;for(;p<d&&(h=!s.get(p),o!==h);)p++;let w=0,S=p;for(let _=p;_<d;_++)if(s.get(_)!==h)c[w]++;else{if(w===3){if(jn.isFinderPattern(c))return[S,_];S+=c[0]+c[1],c[0]=c[2],c[1]=c[3],c[2]=0,c[3]=0,w--}else w++;c[w]=1,h=!h}throw new re}parseFoundFinderPattern(s,o,c,d){let h=s.get(d[0]),p=d[0]-1;for(;p>=0&&h!==s.get(p);)p--;p++;const w=d[0]-p,S=this.getDecodeFinderCounters(),_=new Int32Array(S.length);B.arraycopy(S,0,_,1,S.length-1),_[0]=w;const I=this.parseFinderValue(_,Dt.FINDER_PATTERNS);let k=p,P=d[1];return c&&(k=s.getSize()-1-k,P=s.getSize()-1-P),new ul(I,[p,d[1]],k,P,o)}adjustOddEvenCounts(s,o){let c=Ee.sum(new Int32Array(this.getOddCounts())),d=Ee.sum(new Int32Array(this.getEvenCounts())),h=!1,p=!1,w=!1,S=!1;s?(c>12?p=!0:c<4&&(h=!0),d>12?S=!0:d<4&&(w=!0)):(c>11?p=!0:c<5&&(h=!0),d>10?S=!0:d<4&&(w=!0));let _=c+d-o,I=(c&1)===(s?1:0),k=(d&1)===1;if(_===1)if(I){if(k)throw new re;p=!0}else{if(!k)throw new re;S=!0}else if(_===-1)if(I){if(k)throw new re;h=!0}else{if(!k)throw new re;w=!0}else if(_===0){if(I){if(!k)throw new re;c<d?(h=!0,S=!0):(p=!0,w=!0)}else if(k)throw new re}else throw new re;if(h){if(p)throw new re;jn.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(p&&jn.decrement(this.getOddCounts(),this.getOddRoundingErrors()),w){if(S)throw new re;jn.increment(this.getEvenCounts(),this.getOddRoundingErrors())}S&&jn.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}Dt.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],Dt.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],Dt.OUTSIDE_GSUM=[0,161,961,2015,2715],Dt.INSIDE_GSUM=[0,336,1036,1516],Dt.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],Dt.INSIDE_ODD_WIDEST=[2,4,6,8],Dt.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])];class Ys extends Xt{constructor(s,o){super(),this.readers=[],this.verbose=o===!0;const c=s?s.get(ne.POSSIBLE_FORMATS):null,d=s&&s.get(ne.ASSUME_CODE_39_CHECK_DIGIT)!==void 0;c?((c.includes(we.EAN_13)||c.includes(we.UPC_A)||c.includes(we.EAN_8)||c.includes(we.UPC_E))&&this.readers.push(new lo(s)),c.includes(we.CODE_39)&&this.readers.push(new Pt(d)),c.includes(we.CODE_128)&&this.readers.push(new Oe),c.includes(we.ITF)&&this.readers.push(new wt),c.includes(we.RSS_14)&&this.readers.push(new Dt),c.includes(we.RSS_EXPANDED)&&this.readers.push(new _e(this.verbose))):(this.readers.push(new lo(s)),this.readers.push(new Pt),this.readers.push(new lo(s)),this.readers.push(new Oe),this.readers.push(new wt),this.readers.push(new Dt),this.readers.push(new _e(this.verbose)))}decodeRow(s,o,c){for(let d=0;d<this.readers.length;d++)try{return this.readers[d].decodeRow(s,o,c)}catch{}throw new re}reset(){this.readers.forEach(s=>s.reset())}}class Bf extends ye{constructor(s=500,o){super(new Ys(o),s,o)}}class vt{constructor(s,o,c){this.ecCodewords=s,this.ecBlocks=[o],c&&this.ecBlocks.push(c)}getECCodewords(){return this.ecCodewords}getECBlocks(){return this.ecBlocks}}class Nt{constructor(s,o){this.count=s,this.dataCodewords=o}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class mt{constructor(s,o,c,d,h,p){this.versionNumber=s,this.symbolSizeRows=o,this.symbolSizeColumns=c,this.dataRegionSizeRows=d,this.dataRegionSizeColumns=h,this.ecBlocks=p;let w=0;const S=p.getECCodewords(),_=p.getECBlocks();for(let I of _)w+=I.getCount()*(I.getDataCodewords()+S);this.totalCodewords=w}getVersionNumber(){return this.versionNumber}getSymbolSizeRows(){return this.symbolSizeRows}getSymbolSizeColumns(){return this.symbolSizeColumns}getDataRegionSizeRows(){return this.dataRegionSizeRows}getDataRegionSizeColumns(){return this.dataRegionSizeColumns}getTotalCodewords(){return this.totalCodewords}getECBlocks(){return this.ecBlocks}static getVersionForDimensions(s,o){if((s&1)!==0||(o&1)!==0)throw new X;for(let c of mt.VERSIONS)if(c.symbolSizeRows===s&&c.symbolSizeColumns===o)return c;throw new X}toString(){return""+this.versionNumber}static buildVersions(){return[new mt(1,10,10,8,8,new vt(5,new Nt(1,3))),new mt(2,12,12,10,10,new vt(7,new Nt(1,5))),new mt(3,14,14,12,12,new vt(10,new Nt(1,8))),new mt(4,16,16,14,14,new vt(12,new Nt(1,12))),new mt(5,18,18,16,16,new vt(14,new Nt(1,18))),new mt(6,20,20,18,18,new vt(18,new Nt(1,22))),new mt(7,22,22,20,20,new vt(20,new Nt(1,30))),new mt(8,24,24,22,22,new vt(24,new Nt(1,36))),new mt(9,26,26,24,24,new vt(28,new Nt(1,44))),new mt(10,32,32,14,14,new vt(36,new Nt(1,62))),new mt(11,36,36,16,16,new vt(42,new Nt(1,86))),new mt(12,40,40,18,18,new vt(48,new Nt(1,114))),new mt(13,44,44,20,20,new vt(56,new Nt(1,144))),new mt(14,48,48,22,22,new vt(68,new Nt(1,174))),new mt(15,52,52,24,24,new vt(42,new Nt(2,102))),new mt(16,64,64,14,14,new vt(56,new Nt(2,140))),new mt(17,72,72,16,16,new vt(36,new Nt(4,92))),new mt(18,80,80,18,18,new vt(48,new Nt(4,114))),new mt(19,88,88,20,20,new vt(56,new Nt(4,144))),new mt(20,96,96,22,22,new vt(68,new Nt(4,174))),new mt(21,104,104,24,24,new vt(56,new Nt(6,136))),new mt(22,120,120,18,18,new vt(68,new Nt(6,175))),new mt(23,132,132,20,20,new vt(62,new Nt(8,163))),new mt(24,144,144,22,22,new vt(62,new Nt(8,156),new Nt(2,155))),new mt(25,8,18,6,16,new vt(7,new Nt(1,5))),new mt(26,8,32,6,14,new vt(11,new Nt(1,10))),new mt(27,12,26,10,24,new vt(14,new Nt(1,16))),new mt(28,12,36,10,16,new vt(18,new Nt(1,22))),new mt(29,16,36,14,16,new vt(24,new Nt(1,32))),new mt(30,16,48,14,22,new vt(28,new Nt(1,49)))]}}mt.VERSIONS=mt.buildVersions();class zc{constructor(s){const o=s.getHeight();if(o<8||o>144||(o&1)!==0)throw new X;this.version=zc.readVersion(s),this.mappingBitMatrix=this.extractDataRegion(s),this.readMappingMatrix=new Be(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}getVersion(){return this.version}static readVersion(s){const o=s.getHeight(),c=s.getWidth();return mt.getVersionForDimensions(o,c)}readCodewords(){const s=new Int8Array(this.version.getTotalCodewords());let o=0,c=4,d=0;const h=this.mappingBitMatrix.getHeight(),p=this.mappingBitMatrix.getWidth();let w=!1,S=!1,_=!1,I=!1;do if(c===h&&d===0&&!w)s[o++]=this.readCorner1(h,p)&255,c-=2,d+=2,w=!0;else if(c===h-2&&d===0&&(p&3)!==0&&!S)s[o++]=this.readCorner2(h,p)&255,c-=2,d+=2,S=!0;else if(c===h+4&&d===2&&(p&7)===0&&!_)s[o++]=this.readCorner3(h,p)&255,c-=2,d+=2,_=!0;else if(c===h-2&&d===0&&(p&7)===4&&!I)s[o++]=this.readCorner4(h,p)&255,c-=2,d+=2,I=!0;else{do c<h&&d>=0&&!this.readMappingMatrix.get(d,c)&&(s[o++]=this.readUtah(c,d,h,p)&255),c-=2,d+=2;while(c>=0&&d<p);c+=1,d+=3;do c>=0&&d<p&&!this.readMappingMatrix.get(d,c)&&(s[o++]=this.readUtah(c,d,h,p)&255),c+=2,d-=2;while(c<h&&d>=0);c+=3,d+=1}while(c<h||d<p);if(o!==this.version.getTotalCodewords())throw new X;return s}readModule(s,o,c,d){return s<0&&(s+=c,o+=4-(c+4&7)),o<0&&(o+=d,s+=4-(d+4&7)),this.readMappingMatrix.set(o,s),this.mappingBitMatrix.get(o,s)}readUtah(s,o,c,d){let h=0;return this.readModule(s-2,o-2,c,d)&&(h|=1),h<<=1,this.readModule(s-2,o-1,c,d)&&(h|=1),h<<=1,this.readModule(s-1,o-2,c,d)&&(h|=1),h<<=1,this.readModule(s-1,o-1,c,d)&&(h|=1),h<<=1,this.readModule(s-1,o,c,d)&&(h|=1),h<<=1,this.readModule(s,o-2,c,d)&&(h|=1),h<<=1,this.readModule(s,o-1,c,d)&&(h|=1),h<<=1,this.readModule(s,o,c,d)&&(h|=1),h}readCorner1(s,o){let c=0;return this.readModule(s-1,0,s,o)&&(c|=1),c<<=1,this.readModule(s-1,1,s,o)&&(c|=1),c<<=1,this.readModule(s-1,2,s,o)&&(c|=1),c<<=1,this.readModule(0,o-2,s,o)&&(c|=1),c<<=1,this.readModule(0,o-1,s,o)&&(c|=1),c<<=1,this.readModule(1,o-1,s,o)&&(c|=1),c<<=1,this.readModule(2,o-1,s,o)&&(c|=1),c<<=1,this.readModule(3,o-1,s,o)&&(c|=1),c}readCorner2(s,o){let c=0;return this.readModule(s-3,0,s,o)&&(c|=1),c<<=1,this.readModule(s-2,0,s,o)&&(c|=1),c<<=1,this.readModule(s-1,0,s,o)&&(c|=1),c<<=1,this.readModule(0,o-4,s,o)&&(c|=1),c<<=1,this.readModule(0,o-3,s,o)&&(c|=1),c<<=1,this.readModule(0,o-2,s,o)&&(c|=1),c<<=1,this.readModule(0,o-1,s,o)&&(c|=1),c<<=1,this.readModule(1,o-1,s,o)&&(c|=1),c}readCorner3(s,o){let c=0;return this.readModule(s-1,0,s,o)&&(c|=1),c<<=1,this.readModule(s-1,o-1,s,o)&&(c|=1),c<<=1,this.readModule(0,o-3,s,o)&&(c|=1),c<<=1,this.readModule(0,o-2,s,o)&&(c|=1),c<<=1,this.readModule(0,o-1,s,o)&&(c|=1),c<<=1,this.readModule(1,o-3,s,o)&&(c|=1),c<<=1,this.readModule(1,o-2,s,o)&&(c|=1),c<<=1,this.readModule(1,o-1,s,o)&&(c|=1),c}readCorner4(s,o){let c=0;return this.readModule(s-3,0,s,o)&&(c|=1),c<<=1,this.readModule(s-2,0,s,o)&&(c|=1),c<<=1,this.readModule(s-1,0,s,o)&&(c|=1),c<<=1,this.readModule(0,o-2,s,o)&&(c|=1),c<<=1,this.readModule(0,o-1,s,o)&&(c|=1),c<<=1,this.readModule(1,o-1,s,o)&&(c|=1),c<<=1,this.readModule(2,o-1,s,o)&&(c|=1),c<<=1,this.readModule(3,o-1,s,o)&&(c|=1),c}extractDataRegion(s){const o=this.version.getSymbolSizeRows(),c=this.version.getSymbolSizeColumns();if(s.getHeight()!==o)throw new C("Dimension of bitMatrix must match the version size");const d=this.version.getDataRegionSizeRows(),h=this.version.getDataRegionSizeColumns(),p=o/d|0,w=c/h|0,S=p*d,_=w*h,I=new Be(_,S);for(let k=0;k<p;++k){const P=k*d;for(let G=0;G<w;++G){const K=G*h;for(let Q=0;Q<d;++Q){const ae=k*(d+2)+1+Q,he=P+Q;for(let Ie=0;Ie<h;++Ie){const De=G*(h+2)+1+Ie;if(s.get(De,ae)){const Re=K+Ie;I.set(Re,he)}}}}}return I}}class dl{constructor(s,o){this.numDataCodewords=s,this.codewords=o}static getDataBlocks(s,o){const c=o.getECBlocks();let d=0;const h=c.getECBlocks();for(let Q of h)d+=Q.getCount();const p=new Array(d);let w=0;for(let Q of h)for(let ae=0;ae<Q.getCount();ae++){const he=Q.getDataCodewords(),Ie=c.getECCodewords()+he;p[w++]=new dl(he,new Uint8Array(Ie))}const _=p[0].codewords.length-c.getECCodewords(),I=_-1;let k=0;for(let Q=0;Q<I;Q++)for(let ae=0;ae<w;ae++)p[ae].codewords[Q]=s[k++];const P=o.getVersionNumber()===24,G=P?8:w;for(let Q=0;Q<G;Q++)p[Q].codewords[_-1]=s[k++];const K=p[0].codewords.length;for(let Q=_;Q<K;Q++)for(let ae=0;ae<w;ae++){const he=P?(ae+8)%w:ae,Ie=P&&he>7?Q-1:Q;p[he].codewords[Ie]=s[k++]}if(k!==s.length)throw new C;return p}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}class gi{constructor(s){this.bytes=s,this.byteOffset=0,this.bitOffset=0}getBitOffset(){return this.bitOffset}getByteOffset(){return this.byteOffset}readBits(s){if(s<1||s>32||s>this.available())throw new C(""+s);let o=0,c=this.bitOffset,d=this.byteOffset;const h=this.bytes;if(c>0){const p=8-c,w=s<p?s:p,S=p-w,_=255>>8-w<<S;o=(h[d]&_)>>S,s-=w,c+=w,c===8&&(c=0,d++)}if(s>0){for(;s>=8;)o=o<<8|h[d]&255,d++,s-=8;if(s>0){const p=8-s,w=255>>p<<p;o=o<<s|(h[d]&w)>>p,c+=s}}return this.bitOffset=c,this.byteOffset=d,o}available(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset}}var En;(function(L){L[L.PAD_ENCODE=0]="PAD_ENCODE",L[L.ASCII_ENCODE=1]="ASCII_ENCODE",L[L.C40_ENCODE=2]="C40_ENCODE",L[L.TEXT_ENCODE=3]="TEXT_ENCODE",L[L.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",L[L.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",L[L.BASE256_ENCODE=6]="BASE256_ENCODE"})(En||(En={}));class Xs{static decode(s){const o=new gi(s),c=new Ce,d=new Ce,h=new Array;let p=En.ASCII_ENCODE;do if(p===En.ASCII_ENCODE)p=this.decodeAsciiSegment(o,c,d);else{switch(p){case En.C40_ENCODE:this.decodeC40Segment(o,c);break;case En.TEXT_ENCODE:this.decodeTextSegment(o,c);break;case En.ANSIX12_ENCODE:this.decodeAnsiX12Segment(o,c);break;case En.EDIFACT_ENCODE:this.decodeEdifactSegment(o,c);break;case En.BASE256_ENCODE:this.decodeBase256Segment(o,c,h);break;default:throw new X}p=En.ASCII_ENCODE}while(p!==En.PAD_ENCODE&&o.available()>0);return d.length()>0&&c.append(d.toString()),new He(s,c.toString(),h.length===0?null:h,null)}static decodeAsciiSegment(s,o,c){let d=!1;do{let h=s.readBits(8);if(h===0)throw new X;if(h<=128)return d&&(h+=128),o.append(String.fromCharCode(h-1)),En.ASCII_ENCODE;if(h===129)return En.PAD_ENCODE;if(h<=229){const p=h-130;p<10&&o.append("0"),o.append(""+p)}else switch(h){case 230:return En.C40_ENCODE;case 231:return En.BASE256_ENCODE;case 232:o.append("");break;case 233:case 234:break;case 235:d=!0;break;case 236:o.append("[)>05"),c.insert(0,"");break;case 237:o.append("[)>06"),c.insert(0,"");break;case 238:return En.ANSIX12_ENCODE;case 239:return En.TEXT_ENCODE;case 240:return En.EDIFACT_ENCODE;case 241:break;default:if(h!==254||s.available()!==0)throw new X;break}}while(s.available()>0);return En.ASCII_ENCODE}static decodeC40Segment(s,o){let c=!1;const d=[];let h=0;do{if(s.available()===8)return;const p=s.readBits(8);if(p===254)return;this.parseTwoBytes(p,s.readBits(8),d);for(let w=0;w<3;w++){const S=d[w];switch(h){case 0:if(S<3)h=S+1;else if(S<this.C40_BASIC_SET_CHARS.length){const _=this.C40_BASIC_SET_CHARS[S];c?(o.append(String.fromCharCode(_.charCodeAt(0)+128)),c=!1):o.append(_)}else throw new X;break;case 1:c?(o.append(String.fromCharCode(S+128)),c=!1):o.append(String.fromCharCode(S)),h=0;break;case 2:if(S<this.C40_SHIFT2_SET_CHARS.length){const _=this.C40_SHIFT2_SET_CHARS[S];c?(o.append(String.fromCharCode(_.charCodeAt(0)+128)),c=!1):o.append(_)}else switch(S){case 27:o.append("");break;case 30:c=!0;break;default:throw new X}h=0;break;case 3:c?(o.append(String.fromCharCode(S+224)),c=!1):o.append(String.fromCharCode(S+96)),h=0;break;default:throw new X}}}while(s.available()>0)}static decodeTextSegment(s,o){let c=!1,d=[],h=0;do{if(s.available()===8)return;const p=s.readBits(8);if(p===254)return;this.parseTwoBytes(p,s.readBits(8),d);for(let w=0;w<3;w++){const S=d[w];switch(h){case 0:if(S<3)h=S+1;else if(S<this.TEXT_BASIC_SET_CHARS.length){const _=this.TEXT_BASIC_SET_CHARS[S];c?(o.append(String.fromCharCode(_.charCodeAt(0)+128)),c=!1):o.append(_)}else throw new X;break;case 1:c?(o.append(String.fromCharCode(S+128)),c=!1):o.append(String.fromCharCode(S)),h=0;break;case 2:if(S<this.TEXT_SHIFT2_SET_CHARS.length){const _=this.TEXT_SHIFT2_SET_CHARS[S];c?(o.append(String.fromCharCode(_.charCodeAt(0)+128)),c=!1):o.append(_)}else switch(S){case 27:o.append("");break;case 30:c=!0;break;default:throw new X}h=0;break;case 3:if(S<this.TEXT_SHIFT3_SET_CHARS.length){const _=this.TEXT_SHIFT3_SET_CHARS[S];c?(o.append(String.fromCharCode(_.charCodeAt(0)+128)),c=!1):o.append(_),h=0}else throw new X;break;default:throw new X}}}while(s.available()>0)}static decodeAnsiX12Segment(s,o){const c=[];do{if(s.available()===8)return;const d=s.readBits(8);if(d===254)return;this.parseTwoBytes(d,s.readBits(8),c);for(let h=0;h<3;h++){const p=c[h];switch(p){case 0:o.append("\r");break;case 1:o.append("*");break;case 2:o.append(">");break;case 3:o.append(" ");break;default:if(p<14)o.append(String.fromCharCode(p+44));else if(p<40)o.append(String.fromCharCode(p+51));else throw new X;break}}}while(s.available()>0)}static parseTwoBytes(s,o,c){let d=(s<<8)+o-1,h=Math.floor(d/1600);c[0]=h,d-=h*1600,h=Math.floor(d/40),c[1]=h,c[2]=d-h*40}static decodeEdifactSegment(s,o){do{if(s.available()<=16)return;for(let c=0;c<4;c++){let d=s.readBits(6);if(d===31){const h=8-s.getBitOffset();h!==8&&s.readBits(h);return}(d&32)===0&&(d|=64),o.append(String.fromCharCode(d))}}while(s.available()>0)}static decodeBase256Segment(s,o,c){let d=1+s.getByteOffset();const h=this.unrandomize255State(s.readBits(8),d++);let p;if(h===0?p=s.available()/8|0:h<250?p=h:p=250*(h-249)+this.unrandomize255State(s.readBits(8),d++),p<0)throw new X;const w=new Uint8Array(p);for(let S=0;S<p;S++){if(s.available()<8)throw new X;w[S]=this.unrandomize255State(s.readBits(8),d++)}c.push(w);try{o.append(ke.decode(w,be.ISO88591))}catch(S){throw new Ai("Platform does not support required encoding: "+S.message)}}static unrandomize255State(s,o){const c=149*o%255+1,d=s-c;return d>=0?d:d+256}}Xs.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],Xs.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],Xs.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],Xs.TEXT_SHIFT2_SET_CHARS=Xs.C40_SHIFT2_SET_CHARS,Xs.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~",""];class hl{constructor(){this.rsDecoder=new $s(Je.DATA_MATRIX_FIELD_256)}decode(s){const o=new zc(s),c=o.getVersion(),d=o.readCodewords(),h=dl.getDataBlocks(d,c);let p=0;for(let _ of h)p+=_.getNumDataCodewords();const w=new Uint8Array(p),S=h.length;for(let _=0;_<S;_++){const I=h[_],k=I.getCodewords(),P=I.getNumDataCodewords();this.correctErrors(k,P);for(let G=0;G<P;G++)w[G*S+_]=k[G]}return Xs.decode(w)}correctErrors(s,o){const c=new Int32Array(s);try{this.rsDecoder.decode(c,s.length-o)}catch{throw new O}for(let d=0;d<o;d++)s[d]=c[d]}}class fn{constructor(s){this.image=s,this.rectangleDetector=new Mt(this.image)}detect(){const s=this.rectangleDetector.detect();let o=this.detectSolid1(s);if(o=this.detectSolid2(o),o[3]=this.correctTopRight(o),!o[3])throw new re;o=this.shiftToModuleCenter(o);const c=o[0],d=o[1],h=o[2],p=o[3];let w=this.transitionsBetween(c,p)+1,S=this.transitionsBetween(h,p)+1;(w&1)===1&&(w+=1),(S&1)===1&&(S+=1),4*w<7*S&&4*S<7*w&&(w=S=Math.max(w,S));let _=fn.sampleGrid(this.image,c,d,h,p,w,S);return new gt(_,[c,d,h,p])}static shiftPoint(s,o,c){let d=(o.getX()-s.getX())/(c+1),h=(o.getY()-s.getY())/(c+1);return new Ne(s.getX()+d,s.getY()+h)}static moveAway(s,o,c){let d=s.getX(),h=s.getY();return d<o?d-=1:d+=1,h<c?h-=1:h+=1,new Ne(d,h)}detectSolid1(s){let o=s[0],c=s[1],d=s[3],h=s[2],p=this.transitionsBetween(o,c),w=this.transitionsBetween(c,d),S=this.transitionsBetween(d,h),_=this.transitionsBetween(h,o),I=p,k=[h,o,c,d];return I>w&&(I=w,k[0]=o,k[1]=c,k[2]=d,k[3]=h),I>S&&(I=S,k[0]=c,k[1]=d,k[2]=h,k[3]=o),I>_&&(k[0]=d,k[1]=h,k[2]=o,k[3]=c),k}detectSolid2(s){let o=s[0],c=s[1],d=s[2],h=s[3],p=this.transitionsBetween(o,h),w=fn.shiftPoint(c,d,(p+1)*4),S=fn.shiftPoint(d,c,(p+1)*4),_=this.transitionsBetween(w,o),I=this.transitionsBetween(S,h);return _<I?(s[0]=o,s[1]=c,s[2]=d,s[3]=h):(s[0]=c,s[1]=d,s[2]=h,s[3]=o),s}correctTopRight(s){let o=s[0],c=s[1],d=s[2],h=s[3],p=this.transitionsBetween(o,h),w=this.transitionsBetween(c,h),S=fn.shiftPoint(o,c,(w+1)*4),_=fn.shiftPoint(d,c,(p+1)*4);p=this.transitionsBetween(S,h),w=this.transitionsBetween(_,h);let I=new Ne(h.getX()+(d.getX()-c.getX())/(p+1),h.getY()+(d.getY()-c.getY())/(p+1)),k=new Ne(h.getX()+(o.getX()-c.getX())/(w+1),h.getY()+(o.getY()-c.getY())/(w+1));if(!this.isValid(I))return this.isValid(k)?k:null;if(!this.isValid(k))return I;let P=this.transitionsBetween(S,I)+this.transitionsBetween(_,I),G=this.transitionsBetween(S,k)+this.transitionsBetween(_,k);return P>G?I:k}shiftToModuleCenter(s){let o=s[0],c=s[1],d=s[2],h=s[3],p=this.transitionsBetween(o,h)+1,w=this.transitionsBetween(d,h)+1,S=fn.shiftPoint(o,c,w*4),_=fn.shiftPoint(d,c,p*4);p=this.transitionsBetween(S,h)+1,w=this.transitionsBetween(_,h)+1,(p&1)===1&&(p+=1),(w&1)===1&&(w+=1);let I=(o.getX()+c.getX()+d.getX()+h.getX())/4,k=(o.getY()+c.getY()+d.getY()+h.getY())/4;o=fn.moveAway(o,I,k),c=fn.moveAway(c,I,k),d=fn.moveAway(d,I,k),h=fn.moveAway(h,I,k);let P,G;return S=fn.shiftPoint(o,c,w*4),S=fn.shiftPoint(S,h,p*4),P=fn.shiftPoint(c,o,w*4),P=fn.shiftPoint(P,d,p*4),_=fn.shiftPoint(d,h,w*4),_=fn.shiftPoint(_,c,p*4),G=fn.shiftPoint(h,d,w*4),G=fn.shiftPoint(G,o,p*4),[S,P,_,G]}isValid(s){return s.getX()>=0&&s.getX()<this.image.getWidth()&&s.getY()>0&&s.getY()<this.image.getHeight()}static sampleGrid(s,o,c,d,h,p,w){return bn.getInstance().sampleGrid(s,p,w,.5,.5,p-.5,.5,p-.5,w-.5,.5,w-.5,o.getX(),o.getY(),h.getX(),h.getY(),d.getX(),d.getY(),c.getX(),c.getY())}transitionsBetween(s,o){let c=Math.trunc(s.getX()),d=Math.trunc(s.getY()),h=Math.trunc(o.getX()),p=Math.trunc(o.getY()),w=Math.abs(p-d)>Math.abs(h-c);if(w){let Q=c;c=d,d=Q,Q=h,h=p,p=Q}let S=Math.abs(h-c),_=Math.abs(p-d),I=-S/2,k=d<p?1:-1,P=c<h?1:-1,G=0,K=this.image.get(w?d:c,w?c:d);for(let Q=c,ae=d;Q!==h;Q+=P){let he=this.image.get(w?ae:Q,w?Q:ae);if(he!==K&&(G++,K=he),I+=_,I>0){if(ae===p)break;ae+=k,I-=S}}return G}}class Ki{constructor(){this.decoder=new hl}decode(s,o=null){let c,d;if(o!=null&&o.has(ne.PURE_BARCODE)){const _=Ki.extractPureBits(s.getBlackMatrix());c=this.decoder.decode(_),d=Ki.NO_POINTS}else{const _=new fn(s.getBlackMatrix()).detect();c=this.decoder.decode(_.getBits()),d=_.getPoints()}const h=c.getRawBytes(),p=new Me(c.getText(),h,8*h.length,d,we.DATA_MATRIX,B.currentTimeMillis()),w=c.getByteSegments();w!=null&&p.putMetadata(ve.BYTE_SEGMENTS,w);const S=c.getECLevel();return S!=null&&p.putMetadata(ve.ERROR_CORRECTION_LEVEL,S),p}reset(){}static extractPureBits(s){const o=s.getTopLeftOnBit(),c=s.getBottomRightOnBit();if(o==null||c==null)throw new re;const d=this.moduleSize(o,s);let h=o[1];const p=c[1];let w=o[0];const _=(c[0]-w+1)/d,I=(p-h+1)/d;if(_<=0||I<=0)throw new re;const k=d/2;h+=k,w+=k;const P=new Be(_,I);for(let G=0;G<I;G++){const K=h+G*d;for(let Q=0;Q<_;Q++)s.get(w+Q*d,K)&&P.set(Q,G)}return P}static moduleSize(s,o){const c=o.getWidth();let d=s[0];const h=s[1];for(;d<c&&o.get(d,h);)d++;if(d===c)throw new re;const p=d-s[0];if(p===0)throw new re;return p}}Ki.NO_POINTS=[];class Qh extends ye{constructor(s=500){super(new Ki,s)}}var Hn;(function(L){L[L.L=0]="L",L[L.M=1]="M",L[L.Q=2]="Q",L[L.H=3]="H"})(Hn||(Hn={}));class Ut{constructor(s,o,c){this.value=s,this.stringValue=o,this.bits=c,Ut.FOR_BITS.set(c,this),Ut.FOR_VALUE.set(s,this)}getValue(){return this.value}getBits(){return this.bits}static fromString(s){switch(s){case"L":return Ut.L;case"M":return Ut.M;case"Q":return Ut.Q;case"H":return Ut.H;default:throw new E(s+"not available")}}toString(){return this.stringValue}equals(s){if(!(s instanceof Ut))return!1;const o=s;return this.value===o.value}static forBits(s){if(s<0||s>=Ut.FOR_BITS.size)throw new C;return Ut.FOR_BITS.get(s)}}Ut.FOR_BITS=new Map,Ut.FOR_VALUE=new Map,Ut.L=new Ut(Hn.L,"L",1),Ut.M=new Ut(Hn.M,"M",0),Ut.Q=new Ut(Hn.Q,"Q",3),Ut.H=new Ut(Hn.H,"H",2);class $n{constructor(s){this.errorCorrectionLevel=Ut.forBits(s>>3&3),this.dataMask=s&7}static numBitsDiffering(s,o){return U.bitCount(s^o)}static decodeFormatInformation(s,o){const c=$n.doDecodeFormatInformation(s,o);return c!==null?c:$n.doDecodeFormatInformation(s^$n.FORMAT_INFO_MASK_QR,o^$n.FORMAT_INFO_MASK_QR)}static doDecodeFormatInformation(s,o){let c=Number.MAX_SAFE_INTEGER,d=0;for(const h of $n.FORMAT_INFO_DECODE_LOOKUP){const p=h[0];if(p===s||p===o)return new $n(h[1]);let w=$n.numBitsDiffering(s,p);w<c&&(d=h[1],c=w),s!==o&&(w=$n.numBitsDiffering(o,p),w<c&&(d=h[1],c=w))}return c<=3?new $n(d):null}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getDataMask(){return this.dataMask}hashCode(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask}equals(s){if(!(s instanceof $n))return!1;const o=s;return this.errorCorrectionLevel===o.errorCorrectionLevel&&this.dataMask===o.dataMask}}$n.FORMAT_INFO_MASK_QR=21522,$n.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])];class ce{constructor(s,...o){this.ecCodewordsPerBlock=s,this.ecBlocks=o}getECCodewordsPerBlock(){return this.ecCodewordsPerBlock}getNumBlocks(){let s=0;const o=this.ecBlocks;for(const c of o)s+=c.getCount();return s}getTotalECCodewords(){return this.ecCodewordsPerBlock*this.getNumBlocks()}getECBlocks(){return this.ecBlocks}}class H{constructor(s,o){this.count=s,this.dataCodewords=o}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class Ge{constructor(s,o,...c){this.versionNumber=s,this.alignmentPatternCenters=o,this.ecBlocks=c;let d=0;const h=c[0].getECCodewordsPerBlock(),p=c[0].getECBlocks();for(const w of p)d+=w.getCount()*(w.getDataCodewords()+h);this.totalCodewords=d}getVersionNumber(){return this.versionNumber}getAlignmentPatternCenters(){return this.alignmentPatternCenters}getTotalCodewords(){return this.totalCodewords}getDimensionForVersion(){return 17+4*this.versionNumber}getECBlocksForLevel(s){return this.ecBlocks[s.getValue()]}static getProvisionalVersionForDimension(s){if(s%4!==1)throw new X;try{return this.getVersionForNumber((s-17)/4)}catch{throw new X}}static getVersionForNumber(s){if(s<1||s>40)throw new C;return Ge.VERSIONS[s-1]}static decodeVersionInformation(s){let o=Number.MAX_SAFE_INTEGER,c=0;for(let d=0;d<Ge.VERSION_DECODE_INFO.length;d++){const h=Ge.VERSION_DECODE_INFO[d];if(h===s)return Ge.getVersionForNumber(d+7);const p=$n.numBitsDiffering(s,h);p<o&&(c=d+7,o=p)}return o<=3?Ge.getVersionForNumber(c):null}buildFunctionPattern(){const s=this.getDimensionForVersion(),o=new Be(s);o.setRegion(0,0,9,9),o.setRegion(s-8,0,8,9),o.setRegion(0,s-8,9,8);const c=this.alignmentPatternCenters.length;for(let d=0;d<c;d++){const h=this.alignmentPatternCenters[d]-2;for(let p=0;p<c;p++)d===0&&(p===0||p===c-1)||d===c-1&&p===0||o.setRegion(this.alignmentPatternCenters[p]-2,h,5,5)}return o.setRegion(6,9,1,s-17),o.setRegion(9,6,s-17,1),this.versionNumber>6&&(o.setRegion(s-11,0,3,6),o.setRegion(0,s-11,6,3)),o}toString(){return""+this.versionNumber}}Ge.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),Ge.VERSIONS=[new Ge(1,new Int32Array(0),new ce(7,new H(1,19)),new ce(10,new H(1,16)),new ce(13,new H(1,13)),new ce(17,new H(1,9))),new Ge(2,Int32Array.from([6,18]),new ce(10,new H(1,34)),new ce(16,new H(1,28)),new ce(22,new H(1,22)),new ce(28,new H(1,16))),new Ge(3,Int32Array.from([6,22]),new ce(15,new H(1,55)),new ce(26,new H(1,44)),new ce(18,new H(2,17)),new ce(22,new H(2,13))),new Ge(4,Int32Array.from([6,26]),new ce(20,new H(1,80)),new ce(18,new H(2,32)),new ce(26,new H(2,24)),new ce(16,new H(4,9))),new Ge(5,Int32Array.from([6,30]),new ce(26,new H(1,108)),new ce(24,new H(2,43)),new ce(18,new H(2,15),new H(2,16)),new ce(22,new H(2,11),new H(2,12))),new Ge(6,Int32Array.from([6,34]),new ce(18,new H(2,68)),new ce(16,new H(4,27)),new ce(24,new H(4,19)),new ce(28,new H(4,15))),new Ge(7,Int32Array.from([6,22,38]),new ce(20,new H(2,78)),new ce(18,new H(4,31)),new ce(18,new H(2,14),new H(4,15)),new ce(26,new H(4,13),new H(1,14))),new Ge(8,Int32Array.from([6,24,42]),new ce(24,new H(2,97)),new ce(22,new H(2,38),new H(2,39)),new ce(22,new H(4,18),new H(2,19)),new ce(26,new H(4,14),new H(2,15))),new Ge(9,Int32Array.from([6,26,46]),new ce(30,new H(2,116)),new ce(22,new H(3,36),new H(2,37)),new ce(20,new H(4,16),new H(4,17)),new ce(24,new H(4,12),new H(4,13))),new Ge(10,Int32Array.from([6,28,50]),new ce(18,new H(2,68),new H(2,69)),new ce(26,new H(4,43),new H(1,44)),new ce(24,new H(6,19),new H(2,20)),new ce(28,new H(6,15),new H(2,16))),new Ge(11,Int32Array.from([6,30,54]),new ce(20,new H(4,81)),new ce(30,new H(1,50),new H(4,51)),new ce(28,new H(4,22),new H(4,23)),new ce(24,new H(3,12),new H(8,13))),new Ge(12,Int32Array.from([6,32,58]),new ce(24,new H(2,92),new H(2,93)),new ce(22,new H(6,36),new H(2,37)),new ce(26,new H(4,20),new H(6,21)),new ce(28,new H(7,14),new H(4,15))),new Ge(13,Int32Array.from([6,34,62]),new ce(26,new H(4,107)),new ce(22,new H(8,37),new H(1,38)),new ce(24,new H(8,20),new H(4,21)),new ce(22,new H(12,11),new H(4,12))),new Ge(14,Int32Array.from([6,26,46,66]),new ce(30,new H(3,115),new H(1,116)),new ce(24,new H(4,40),new H(5,41)),new ce(20,new H(11,16),new H(5,17)),new ce(24,new H(11,12),new H(5,13))),new Ge(15,Int32Array.from([6,26,48,70]),new ce(22,new H(5,87),new H(1,88)),new ce(24,new H(5,41),new H(5,42)),new ce(30,new H(5,24),new H(7,25)),new ce(24,new H(11,12),new H(7,13))),new Ge(16,Int32Array.from([6,26,50,74]),new ce(24,new H(5,98),new H(1,99)),new ce(28,new H(7,45),new H(3,46)),new ce(24,new H(15,19),new H(2,20)),new ce(30,new H(3,15),new H(13,16))),new Ge(17,Int32Array.from([6,30,54,78]),new ce(28,new H(1,107),new H(5,108)),new ce(28,new H(10,46),new H(1,47)),new ce(28,new H(1,22),new H(15,23)),new ce(28,new H(2,14),new H(17,15))),new Ge(18,Int32Array.from([6,30,56,82]),new ce(30,new H(5,120),new H(1,121)),new ce(26,new H(9,43),new H(4,44)),new ce(28,new H(17,22),new H(1,23)),new ce(28,new H(2,14),new H(19,15))),new Ge(19,Int32Array.from([6,30,58,86]),new ce(28,new H(3,113),new H(4,114)),new ce(26,new H(3,44),new H(11,45)),new ce(26,new H(17,21),new H(4,22)),new ce(26,new H(9,13),new H(16,14))),new Ge(20,Int32Array.from([6,34,62,90]),new ce(28,new H(3,107),new H(5,108)),new ce(26,new H(3,41),new H(13,42)),new ce(30,new H(15,24),new H(5,25)),new ce(28,new H(15,15),new H(10,16))),new Ge(21,Int32Array.from([6,28,50,72,94]),new ce(28,new H(4,116),new H(4,117)),new ce(26,new H(17,42)),new ce(28,new H(17,22),new H(6,23)),new ce(30,new H(19,16),new H(6,17))),new Ge(22,Int32Array.from([6,26,50,74,98]),new ce(28,new H(2,111),new H(7,112)),new ce(28,new H(17,46)),new ce(30,new H(7,24),new H(16,25)),new ce(24,new H(34,13))),new Ge(23,Int32Array.from([6,30,54,78,102]),new ce(30,new H(4,121),new H(5,122)),new ce(28,new H(4,47),new H(14,48)),new ce(30,new H(11,24),new H(14,25)),new ce(30,new H(16,15),new H(14,16))),new Ge(24,Int32Array.from([6,28,54,80,106]),new ce(30,new H(6,117),new H(4,118)),new ce(28,new H(6,45),new H(14,46)),new ce(30,new H(11,24),new H(16,25)),new ce(30,new H(30,16),new H(2,17))),new Ge(25,Int32Array.from([6,32,58,84,110]),new ce(26,new H(8,106),new H(4,107)),new ce(28,new H(8,47),new H(13,48)),new ce(30,new H(7,24),new H(22,25)),new ce(30,new H(22,15),new H(13,16))),new Ge(26,Int32Array.from([6,30,58,86,114]),new ce(28,new H(10,114),new H(2,115)),new ce(28,new H(19,46),new H(4,47)),new ce(28,new H(28,22),new H(6,23)),new ce(30,new H(33,16),new H(4,17))),new Ge(27,Int32Array.from([6,34,62,90,118]),new ce(30,new H(8,122),new H(4,123)),new ce(28,new H(22,45),new H(3,46)),new ce(30,new H(8,23),new H(26,24)),new ce(30,new H(12,15),new H(28,16))),new Ge(28,Int32Array.from([6,26,50,74,98,122]),new ce(30,new H(3,117),new H(10,118)),new ce(28,new H(3,45),new H(23,46)),new ce(30,new H(4,24),new H(31,25)),new ce(30,new H(11,15),new H(31,16))),new Ge(29,Int32Array.from([6,30,54,78,102,126]),new ce(30,new H(7,116),new H(7,117)),new ce(28,new H(21,45),new H(7,46)),new ce(30,new H(1,23),new H(37,24)),new ce(30,new H(19,15),new H(26,16))),new Ge(30,Int32Array.from([6,26,52,78,104,130]),new ce(30,new H(5,115),new H(10,116)),new ce(28,new H(19,47),new H(10,48)),new ce(30,new H(15,24),new H(25,25)),new ce(30,new H(23,15),new H(25,16))),new Ge(31,Int32Array.from([6,30,56,82,108,134]),new ce(30,new H(13,115),new H(3,116)),new ce(28,new H(2,46),new H(29,47)),new ce(30,new H(42,24),new H(1,25)),new ce(30,new H(23,15),new H(28,16))),new Ge(32,Int32Array.from([6,34,60,86,112,138]),new ce(30,new H(17,115)),new ce(28,new H(10,46),new H(23,47)),new ce(30,new H(10,24),new H(35,25)),new ce(30,new H(19,15),new H(35,16))),new Ge(33,Int32Array.from([6,30,58,86,114,142]),new ce(30,new H(17,115),new H(1,116)),new ce(28,new H(14,46),new H(21,47)),new ce(30,new H(29,24),new H(19,25)),new ce(30,new H(11,15),new H(46,16))),new Ge(34,Int32Array.from([6,34,62,90,118,146]),new ce(30,new H(13,115),new H(6,116)),new ce(28,new H(14,46),new H(23,47)),new ce(30,new H(44,24),new H(7,25)),new ce(30,new H(59,16),new H(1,17))),new Ge(35,Int32Array.from([6,30,54,78,102,126,150]),new ce(30,new H(12,121),new H(7,122)),new ce(28,new H(12,47),new H(26,48)),new ce(30,new H(39,24),new H(14,25)),new ce(30,new H(22,15),new H(41,16))),new Ge(36,Int32Array.from([6,24,50,76,102,128,154]),new ce(30,new H(6,121),new H(14,122)),new ce(28,new H(6,47),new H(34,48)),new ce(30,new H(46,24),new H(10,25)),new ce(30,new H(2,15),new H(64,16))),new Ge(37,Int32Array.from([6,28,54,80,106,132,158]),new ce(30,new H(17,122),new H(4,123)),new ce(28,new H(29,46),new H(14,47)),new ce(30,new H(49,24),new H(10,25)),new ce(30,new H(24,15),new H(46,16))),new Ge(38,Int32Array.from([6,32,58,84,110,136,162]),new ce(30,new H(4,122),new H(18,123)),new ce(28,new H(13,46),new H(32,47)),new ce(30,new H(48,24),new H(14,25)),new ce(30,new H(42,15),new H(32,16))),new Ge(39,Int32Array.from([6,26,54,82,110,138,166]),new ce(30,new H(20,117),new H(4,118)),new ce(28,new H(40,47),new H(7,48)),new ce(30,new H(43,24),new H(22,25)),new ce(30,new H(10,15),new H(67,16))),new Ge(40,Int32Array.from([6,30,58,86,114,142,170]),new ce(30,new H(19,118),new H(6,119)),new ce(28,new H(18,47),new H(31,48)),new ce(30,new H(34,24),new H(34,25)),new ce(30,new H(20,15),new H(61,16)))];var Rn;(function(L){L[L.DATA_MASK_000=0]="DATA_MASK_000",L[L.DATA_MASK_001=1]="DATA_MASK_001",L[L.DATA_MASK_010=2]="DATA_MASK_010",L[L.DATA_MASK_011=3]="DATA_MASK_011",L[L.DATA_MASK_100=4]="DATA_MASK_100",L[L.DATA_MASK_101=5]="DATA_MASK_101",L[L.DATA_MASK_110=6]="DATA_MASK_110",L[L.DATA_MASK_111=7]="DATA_MASK_111"})(Rn||(Rn={}));class Gn{constructor(s,o){this.value=s,this.isMasked=o}unmaskBitMatrix(s,o){for(let c=0;c<o;c++)for(let d=0;d<o;d++)this.isMasked(c,d)&&s.flip(d,c)}}Gn.values=new Map([[Rn.DATA_MASK_000,new Gn(Rn.DATA_MASK_000,(L,s)=>(L+s&1)===0)],[Rn.DATA_MASK_001,new Gn(Rn.DATA_MASK_001,(L,s)=>(L&1)===0)],[Rn.DATA_MASK_010,new Gn(Rn.DATA_MASK_010,(L,s)=>s%3===0)],[Rn.DATA_MASK_011,new Gn(Rn.DATA_MASK_011,(L,s)=>(L+s)%3===0)],[Rn.DATA_MASK_100,new Gn(Rn.DATA_MASK_100,(L,s)=>(Math.floor(L/2)+Math.floor(s/3)&1)===0)],[Rn.DATA_MASK_101,new Gn(Rn.DATA_MASK_101,(L,s)=>L*s%6===0)],[Rn.DATA_MASK_110,new Gn(Rn.DATA_MASK_110,(L,s)=>L*s%6<3)],[Rn.DATA_MASK_111,new Gn(Rn.DATA_MASK_111,(L,s)=>(L+s+L*s%3&1)===0)]]);class Jh{constructor(s){const o=s.getHeight();if(o<21||(o&3)!==1)throw new X;this.bitMatrix=s}readFormatInformation(){if(this.parsedFormatInfo!==null&&this.parsedFormatInfo!==void 0)return this.parsedFormatInfo;let s=0;for(let h=0;h<6;h++)s=this.copyBit(h,8,s);s=this.copyBit(7,8,s),s=this.copyBit(8,8,s),s=this.copyBit(8,7,s);for(let h=5;h>=0;h--)s=this.copyBit(8,h,s);const o=this.bitMatrix.getHeight();let c=0;const d=o-7;for(let h=o-1;h>=d;h--)c=this.copyBit(8,h,c);for(let h=o-8;h<o;h++)c=this.copyBit(h,8,c);if(this.parsedFormatInfo=$n.decodeFormatInformation(s,c),this.parsedFormatInfo!==null)return this.parsedFormatInfo;throw new X}readVersion(){if(this.parsedVersion!==null&&this.parsedVersion!==void 0)return this.parsedVersion;const s=this.bitMatrix.getHeight(),o=Math.floor((s-17)/4);if(o<=6)return Ge.getVersionForNumber(o);let c=0;const d=s-11;for(let p=5;p>=0;p--)for(let w=s-9;w>=d;w--)c=this.copyBit(w,p,c);let h=Ge.decodeVersionInformation(c);if(h!==null&&h.getDimensionForVersion()===s)return this.parsedVersion=h,h;c=0;for(let p=5;p>=0;p--)for(let w=s-9;w>=d;w--)c=this.copyBit(p,w,c);if(h=Ge.decodeVersionInformation(c),h!==null&&h.getDimensionForVersion()===s)return this.parsedVersion=h,h;throw new X}copyBit(s,o,c){return(this.isMirror?this.bitMatrix.get(o,s):this.bitMatrix.get(s,o))?c<<1|1:c<<1}readCodewords(){const s=this.readFormatInformation(),o=this.readVersion(),c=Gn.values.get(s.getDataMask()),d=this.bitMatrix.getHeight();c.unmaskBitMatrix(this.bitMatrix,d);const h=o.buildFunctionPattern();let p=!0;const w=new Uint8Array(o.getTotalCodewords());let S=0,_=0,I=0;for(let k=d-1;k>0;k-=2){k===6&&k--;for(let P=0;P<d;P++){const G=p?d-1-P:P;for(let K=0;K<2;K++)h.get(k-K,G)||(I++,_<<=1,this.bitMatrix.get(k-K,G)&&(_|=1),I===8&&(w[S++]=_,I=0,_=0))}p=!p}if(S!==o.getTotalCodewords())throw new X;return w}remask(){if(this.parsedFormatInfo===null)return;const s=Gn.values[this.parsedFormatInfo.getDataMask()],o=this.bitMatrix.getHeight();s.unmaskBitMatrix(this.bitMatrix,o)}setMirror(s){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=s}mirror(){const s=this.bitMatrix;for(let o=0,c=s.getWidth();o<c;o++)for(let d=o+1,h=s.getHeight();d<h;d++)s.get(o,d)!==s.get(d,o)&&(s.flip(d,o),s.flip(o,d))}}class gl{constructor(s,o){this.numDataCodewords=s,this.codewords=o}static getDataBlocks(s,o,c){if(s.length!==o.getTotalCodewords())throw new C;const d=o.getECBlocksForLevel(c);let h=0;const p=d.getECBlocks();for(const K of p)h+=K.getCount();const w=new Array(h);let S=0;for(const K of p)for(let Q=0;Q<K.getCount();Q++){const ae=K.getDataCodewords(),he=d.getECCodewordsPerBlock()+ae;w[S++]=new gl(ae,new Uint8Array(he))}const _=w[0].codewords.length;let I=w.length-1;for(;I>=0&&w[I].codewords.length!==_;)I--;I++;const k=_-d.getECCodewordsPerBlock();let P=0;for(let K=0;K<k;K++)for(let Q=0;Q<S;Q++)w[Q].codewords[K]=s[P++];for(let K=I;K<S;K++)w[K].codewords[k]=s[P++];const G=w[0].codewords.length;for(let K=k;K<G;K++)for(let Q=0;Q<S;Q++){const ae=Q<I?K:K+1;w[Q].codewords[ae]=s[P++]}return w}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}var Ti;(function(L){L[L.TERMINATOR=0]="TERMINATOR",L[L.NUMERIC=1]="NUMERIC",L[L.ALPHANUMERIC=2]="ALPHANUMERIC",L[L.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",L[L.BYTE=4]="BYTE",L[L.ECI=5]="ECI",L[L.KANJI=6]="KANJI",L[L.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",L[L.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",L[L.HANZI=9]="HANZI"})(Ti||(Ti={}));class qe{constructor(s,o,c,d){this.value=s,this.stringValue=o,this.characterCountBitsForVersions=c,this.bits=d,qe.FOR_BITS.set(d,this),qe.FOR_VALUE.set(s,this)}static forBits(s){const o=qe.FOR_BITS.get(s);if(o===void 0)throw new C;return o}getCharacterCountBits(s){const o=s.getVersionNumber();let c;return o<=9?c=0:o<=26?c=1:c=2,this.characterCountBitsForVersions[c]}getValue(){return this.value}getBits(){return this.bits}equals(s){if(!(s instanceof qe))return!1;const o=s;return this.value===o.value}toString(){return this.stringValue}}qe.FOR_BITS=new Map,qe.FOR_VALUE=new Map,qe.TERMINATOR=new qe(Ti.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),qe.NUMERIC=new qe(Ti.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),qe.ALPHANUMERIC=new qe(Ti.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),qe.STRUCTURED_APPEND=new qe(Ti.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),qe.BYTE=new qe(Ti.BYTE,"BYTE",Int32Array.from([8,16,16]),4),qe.ECI=new qe(Ti.ECI,"ECI",Int32Array.from([0,0,0]),7),qe.KANJI=new qe(Ti.KANJI,"KANJI",Int32Array.from([8,10,12]),8),qe.FNC1_FIRST_POSITION=new qe(Ti.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),qe.FNC1_SECOND_POSITION=new qe(Ti.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),qe.HANZI=new qe(Ti.HANZI,"HANZI",Int32Array.from([8,10,12]),13);class ln{static decode(s,o,c,d){const h=new gi(s);let p=new Ce;const w=new Array;let S=-1,_=-1;try{let I=null,k=!1,P;do{if(h.available()<4)P=qe.TERMINATOR;else{const G=h.readBits(4);P=qe.forBits(G)}switch(P){case qe.TERMINATOR:break;case qe.FNC1_FIRST_POSITION:case qe.FNC1_SECOND_POSITION:k=!0;break;case qe.STRUCTURED_APPEND:if(h.available()<16)throw new X;S=h.readBits(8),_=h.readBits(8);break;case qe.ECI:const G=ln.parseECIValue(h);if(I=ee.getCharacterSetECIByValue(G),I===null)throw new X;break;case qe.HANZI:const K=h.readBits(4),Q=h.readBits(P.getCharacterCountBits(o));K===ln.GB2312_SUBSET&&ln.decodeHanziSegment(h,p,Q);break;default:const ae=h.readBits(P.getCharacterCountBits(o));switch(P){case qe.NUMERIC:ln.decodeNumericSegment(h,p,ae);break;case qe.ALPHANUMERIC:ln.decodeAlphanumericSegment(h,p,ae,k);break;case qe.BYTE:ln.decodeByteSegment(h,p,ae,I,w,d);break;case qe.KANJI:ln.decodeKanjiSegment(h,p,ae);break;default:throw new X}break}}while(P!==qe.TERMINATOR)}catch{throw new X}return new He(s,p.toString(),w.length===0?null:w,c===null?null:c.toString(),S,_)}static decodeHanziSegment(s,o,c){if(c*13>s.available())throw new X;const d=new Uint8Array(2*c);let h=0;for(;c>0;){const p=s.readBits(13);let w=p/96<<8&4294967295|p%96;w<959?w+=41377:w+=42657,d[h]=w>>8&255,d[h+1]=w&255,h+=2,c--}try{o.append(ke.decode(d,be.GB2312))}catch(p){throw new X(p)}}static decodeKanjiSegment(s,o,c){if(c*13>s.available())throw new X;const d=new Uint8Array(2*c);let h=0;for(;c>0;){const p=s.readBits(13);let w=p/192<<8&4294967295|p%192;w<7936?w+=33088:w+=49472,d[h]=w>>8,d[h+1]=w,h+=2,c--}try{o.append(ke.decode(d,be.SHIFT_JIS))}catch(p){throw new X(p)}}static decodeByteSegment(s,o,c,d,h,p){if(8*c>s.available())throw new X;const w=new Uint8Array(c);for(let _=0;_<c;_++)w[_]=s.readBits(8);let S;d===null?S=be.guessEncoding(w,p):S=d.getName();try{o.append(ke.decode(w,S))}catch(_){throw new X(_)}h.push(w)}static toAlphaNumericChar(s){if(s>=ln.ALPHANUMERIC_CHARS.length)throw new X;return ln.ALPHANUMERIC_CHARS[s]}static decodeAlphanumericSegment(s,o,c,d){const h=o.length();for(;c>1;){if(s.available()<11)throw new X;const p=s.readBits(11);o.append(ln.toAlphaNumericChar(Math.floor(p/45))),o.append(ln.toAlphaNumericChar(p%45)),c-=2}if(c===1){if(s.available()<6)throw new X;o.append(ln.toAlphaNumericChar(s.readBits(6)))}if(d)for(let p=h;p<o.length();p++)o.charAt(p)==="%"&&(p<o.length()-1&&o.charAt(p+1)==="%"?o.deleteCharAt(p+1):o.setCharAt(p,""))}static decodeNumericSegment(s,o,c){for(;c>=3;){if(s.available()<10)throw new X;const d=s.readBits(10);if(d>=1e3)throw new X;o.append(ln.toAlphaNumericChar(Math.floor(d/100))),o.append(ln.toAlphaNumericChar(Math.floor(d/10)%10)),o.append(ln.toAlphaNumericChar(d%10)),c-=3}if(c===2){if(s.available()<7)throw new X;const d=s.readBits(7);if(d>=100)throw new X;o.append(ln.toAlphaNumericChar(Math.floor(d/10))),o.append(ln.toAlphaNumericChar(d%10))}else if(c===1){if(s.available()<4)throw new X;const d=s.readBits(4);if(d>=10)throw new X;o.append(ln.toAlphaNumericChar(d))}}static parseECIValue(s){const o=s.readBits(8);if((o&128)===0)return o&127;if((o&192)===128){const c=s.readBits(8);return(o&63)<<8&4294967295|c}if((o&224)===192){const c=s.readBits(16);return(o&31)<<16&4294967295|c}throw new X}}ln.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",ln.GB2312_SUBSET=1;class Pf{constructor(s){this.mirrored=s}isMirrored(){return this.mirrored}applyMirroredCorrection(s){if(!this.mirrored||s===null||s.length<3)return;const o=s[0];s[0]=s[2],s[2]=o}}class ml{constructor(){this.rsDecoder=new $s(Je.QR_CODE_FIELD_256)}decodeBooleanArray(s,o){return this.decodeBitMatrix(Be.parseFromBooleanArray(s),o)}decodeBitMatrix(s,o){const c=new Jh(s);let d=null;try{return this.decodeBitMatrixParser(c,o)}catch(h){d=h}try{c.remask(),c.setMirror(!0),c.readVersion(),c.readFormatInformation(),c.mirror();const h=this.decodeBitMatrixParser(c,o);return h.setOther(new Pf(!0)),h}catch(h){throw d!==null?d:h}}decodeBitMatrixParser(s,o){const c=s.readVersion(),d=s.readFormatInformation().getErrorCorrectionLevel(),h=s.readCodewords(),p=gl.getDataBlocks(h,c,d);let w=0;for(const I of p)w+=I.getNumDataCodewords();const S=new Uint8Array(w);let _=0;for(const I of p){const k=I.getCodewords(),P=I.getNumDataCodewords();this.correctErrors(k,P);for(let G=0;G<P;G++)S[_++]=k[G]}return ln.decode(S,c,d,o)}correctErrors(s,o){const c=new Int32Array(s);try{this.rsDecoder.decode(c,s.length-o)}catch{throw new O}for(let d=0;d<o;d++)s[d]=c[d]}}class uo extends Ne{constructor(s,o,c){super(s,o),this.estimatedModuleSize=c}aboutEquals(s,o,c){if(Math.abs(o-this.getY())<=s&&Math.abs(c-this.getX())<=s){const d=Math.abs(s-this.estimatedModuleSize);return d<=1||d<=this.estimatedModuleSize}return!1}combineEstimate(s,o,c){const d=(this.getX()+o)/2,h=(this.getY()+s)/2,p=(this.estimatedModuleSize+c)/2;return new uo(d,h,p)}}class na{constructor(s,o,c,d,h,p,w){this.image=s,this.startX=o,this.startY=c,this.width=d,this.height=h,this.moduleSize=p,this.resultPointCallback=w,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}find(){const s=this.startX,o=this.height,c=this.width,d=s+c,h=this.startY+o/2,p=new Int32Array(3),w=this.image;for(let S=0;S<o;S++){const _=h+((S&1)===0?Math.floor((S+1)/2):-Math.floor((S+1)/2));p[0]=0,p[1]=0,p[2]=0;let I=s;for(;I<d&&!w.get(I,_);)I++;let k=0;for(;I<d;){if(w.get(I,_))if(k===1)p[1]++;else if(k===2){if(this.foundPatternCross(p)){const P=this.handlePossibleCenter(p,_,I);if(P!==null)return P}p[0]=p[2],p[1]=1,p[2]=0,k=1}else p[++k]++;else k===1&&k++,p[k]++;I++}if(this.foundPatternCross(p)){const P=this.handlePossibleCenter(p,_,d);if(P!==null)return P}}if(this.possibleCenters.length!==0)return this.possibleCenters[0];throw new re}static centerFromEnd(s,o){return o-s[2]-s[1]/2}foundPatternCross(s){const o=this.moduleSize,c=o/2;for(let d=0;d<3;d++)if(Math.abs(o-s[d])>=c)return!1;return!0}crossCheckVertical(s,o,c,d){const h=this.image,p=h.getHeight(),w=this.crossCheckStateCount;w[0]=0,w[1]=0,w[2]=0;let S=s;for(;S>=0&&h.get(o,S)&&w[1]<=c;)w[1]++,S--;if(S<0||w[1]>c)return NaN;for(;S>=0&&!h.get(o,S)&&w[0]<=c;)w[0]++,S--;if(w[0]>c)return NaN;for(S=s+1;S<p&&h.get(o,S)&&w[1]<=c;)w[1]++,S++;if(S===p||w[1]>c)return NaN;for(;S<p&&!h.get(o,S)&&w[2]<=c;)w[2]++,S++;if(w[2]>c)return NaN;const _=w[0]+w[1]+w[2];return 5*Math.abs(_-d)>=2*d?NaN:this.foundPatternCross(w)?na.centerFromEnd(w,S):NaN}handlePossibleCenter(s,o,c){const d=s[0]+s[1]+s[2],h=na.centerFromEnd(s,c),p=this.crossCheckVertical(o,h,2*s[1],d);if(!isNaN(p)){const w=(s[0]+s[1]+s[2])/3;for(const _ of this.possibleCenters)if(_.aboutEquals(w,p,h))return _.combineEstimate(p,h,w);const S=new uo(h,p,w);this.possibleCenters.push(S),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(S)}return null}}class Ws extends Ne{constructor(s,o,c,d){super(s,o),this.estimatedModuleSize=c,this.count=d,d===void 0&&(this.count=1)}getEstimatedModuleSize(){return this.estimatedModuleSize}getCount(){return this.count}aboutEquals(s,o,c){if(Math.abs(o-this.getY())<=s&&Math.abs(c-this.getX())<=s){const d=Math.abs(s-this.estimatedModuleSize);return d<=1||d<=this.estimatedModuleSize}return!1}combineEstimate(s,o,c){const d=this.count+1,h=(this.count*this.getX()+o)/d,p=(this.count*this.getY()+s)/d,w=(this.count*this.estimatedModuleSize+c)/d;return new Ws(h,p,w,d)}}class ia{constructor(s){this.bottomLeft=s[0],this.topLeft=s[1],this.topRight=s[2]}getBottomLeft(){return this.bottomLeft}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}}class On{constructor(s,o){this.image=s,this.resultPointCallback=o,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=o}getImage(){return this.image}getPossibleCenters(){return this.possibleCenters}find(s){const o=s!=null&&s.get(ne.TRY_HARDER)!==void 0,c=s!=null&&s.get(ne.PURE_BARCODE)!==void 0,d=this.image,h=d.getHeight(),p=d.getWidth();let w=Math.floor(3*h/(4*On.MAX_MODULES));(w<On.MIN_SKIP||o)&&(w=On.MIN_SKIP);let S=!1;const _=new Int32Array(5);for(let k=w-1;k<h&&!S;k+=w){_[0]=0,_[1]=0,_[2]=0,_[3]=0,_[4]=0;let P=0;for(let G=0;G<p;G++)if(d.get(G,k))(P&1)===1&&P++,_[P]++;else if((P&1)===0)if(P===4)if(On.foundPatternCross(_)){if(this.handlePossibleCenter(_,k,G,c)===!0)if(w=2,this.hasSkipped===!0)S=this.haveMultiplyConfirmedCenters();else{const Q=this.findRowSkip();Q>_[2]&&(k+=Q-_[2]-w,G=p-1)}else{_[0]=_[2],_[1]=_[3],_[2]=_[4],_[3]=1,_[4]=0,P=3;continue}P=0,_[0]=0,_[1]=0,_[2]=0,_[3]=0,_[4]=0}else _[0]=_[2],_[1]=_[3],_[2]=_[4],_[3]=1,_[4]=0,P=3;else _[++P]++;else _[P]++;On.foundPatternCross(_)&&this.handlePossibleCenter(_,k,p,c)===!0&&(w=_[0],this.hasSkipped&&(S=this.haveMultiplyConfirmedCenters()))}const I=this.selectBestPatterns();return Ne.orderBestPatterns(I),new ia(I)}static centerFromEnd(s,o){return o-s[4]-s[3]-s[2]/2}static foundPatternCross(s){let o=0;for(let h=0;h<5;h++){const p=s[h];if(p===0)return!1;o+=p}if(o<7)return!1;const c=o/7,d=c/2;return Math.abs(c-s[0])<d&&Math.abs(c-s[1])<d&&Math.abs(3*c-s[2])<3*d&&Math.abs(c-s[3])<d&&Math.abs(c-s[4])<d}getCrossCheckStateCount(){const s=this.crossCheckStateCount;return s[0]=0,s[1]=0,s[2]=0,s[3]=0,s[4]=0,s}crossCheckDiagonal(s,o,c,d){const h=this.getCrossCheckStateCount();let p=0;const w=this.image;for(;s>=p&&o>=p&&w.get(o-p,s-p);)h[2]++,p++;if(s<p||o<p)return!1;for(;s>=p&&o>=p&&!w.get(o-p,s-p)&&h[1]<=c;)h[1]++,p++;if(s<p||o<p||h[1]>c)return!1;for(;s>=p&&o>=p&&w.get(o-p,s-p)&&h[0]<=c;)h[0]++,p++;if(h[0]>c)return!1;const S=w.getHeight(),_=w.getWidth();for(p=1;s+p<S&&o+p<_&&w.get(o+p,s+p);)h[2]++,p++;if(s+p>=S||o+p>=_)return!1;for(;s+p<S&&o+p<_&&!w.get(o+p,s+p)&&h[3]<c;)h[3]++,p++;if(s+p>=S||o+p>=_||h[3]>=c)return!1;for(;s+p<S&&o+p<_&&w.get(o+p,s+p)&&h[4]<c;)h[4]++,p++;if(h[4]>=c)return!1;const I=h[0]+h[1]+h[2]+h[3]+h[4];return Math.abs(I-d)<2*d&&On.foundPatternCross(h)}crossCheckVertical(s,o,c,d){const h=this.image,p=h.getHeight(),w=this.getCrossCheckStateCount();let S=s;for(;S>=0&&h.get(o,S);)w[2]++,S--;if(S<0)return NaN;for(;S>=0&&!h.get(o,S)&&w[1]<=c;)w[1]++,S--;if(S<0||w[1]>c)return NaN;for(;S>=0&&h.get(o,S)&&w[0]<=c;)w[0]++,S--;if(w[0]>c)return NaN;for(S=s+1;S<p&&h.get(o,S);)w[2]++,S++;if(S===p)return NaN;for(;S<p&&!h.get(o,S)&&w[3]<c;)w[3]++,S++;if(S===p||w[3]>=c)return NaN;for(;S<p&&h.get(o,S)&&w[4]<c;)w[4]++,S++;if(w[4]>=c)return NaN;const _=w[0]+w[1]+w[2]+w[3]+w[4];return 5*Math.abs(_-d)>=2*d?NaN:On.foundPatternCross(w)?On.centerFromEnd(w,S):NaN}crossCheckHorizontal(s,o,c,d){const h=this.image,p=h.getWidth(),w=this.getCrossCheckStateCount();let S=s;for(;S>=0&&h.get(S,o);)w[2]++,S--;if(S<0)return NaN;for(;S>=0&&!h.get(S,o)&&w[1]<=c;)w[1]++,S--;if(S<0||w[1]>c)return NaN;for(;S>=0&&h.get(S,o)&&w[0]<=c;)w[0]++,S--;if(w[0]>c)return NaN;for(S=s+1;S<p&&h.get(S,o);)w[2]++,S++;if(S===p)return NaN;for(;S<p&&!h.get(S,o)&&w[3]<c;)w[3]++,S++;if(S===p||w[3]>=c)return NaN;for(;S<p&&h.get(S,o)&&w[4]<c;)w[4]++,S++;if(w[4]>=c)return NaN;const _=w[0]+w[1]+w[2]+w[3]+w[4];return 5*Math.abs(_-d)>=d?NaN:On.foundPatternCross(w)?On.centerFromEnd(w,S):NaN}handlePossibleCenter(s,o,c,d){const h=s[0]+s[1]+s[2]+s[3]+s[4];let p=On.centerFromEnd(s,c),w=this.crossCheckVertical(o,Math.floor(p),s[2],h);if(!isNaN(w)&&(p=this.crossCheckHorizontal(Math.floor(p),Math.floor(w),s[2],h),!isNaN(p)&&(!d||this.crossCheckDiagonal(Math.floor(w),Math.floor(p),s[2],h)))){const S=h/7;let _=!1;const I=this.possibleCenters;for(let k=0,P=I.length;k<P;k++){const G=I[k];if(G.aboutEquals(S,w,p)){I[k]=G.combineEstimate(w,p,S),_=!0;break}}if(!_){const k=new Ws(p,w,S);I.push(k),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(k)}return!0}return!1}findRowSkip(){if(this.possibleCenters.length<=1)return 0;let o=null;for(const c of this.possibleCenters)if(c.getCount()>=On.CENTER_QUORUM)if(o==null)o=c;else return this.hasSkipped=!0,Math.floor((Math.abs(o.getX()-c.getX())-Math.abs(o.getY()-c.getY()))/2);return 0}haveMultiplyConfirmedCenters(){let s=0,o=0;const c=this.possibleCenters.length;for(const p of this.possibleCenters)p.getCount()>=On.CENTER_QUORUM&&(s++,o+=p.getEstimatedModuleSize());if(s<3)return!1;const d=o/c;let h=0;for(const p of this.possibleCenters)h+=Math.abs(p.getEstimatedModuleSize()-d);return h<=.05*o}selectBestPatterns(){const s=this.possibleCenters.length;if(s<3)throw new re;const o=this.possibleCenters;let c;if(s>3){let d=0,h=0;for(const S of this.possibleCenters){const _=S.getEstimatedModuleSize();d+=_,h+=_*_}c=d/s;let p=Math.sqrt(h/s-c*c);o.sort((S,_)=>{const I=Math.abs(_.getEstimatedModuleSize()-c),k=Math.abs(S.getEstimatedModuleSize()-c);return I<k?-1:I>k?1:0});const w=Math.max(.2*c,p);for(let S=0;S<o.length&&o.length>3;S++){const _=o[S];Math.abs(_.getEstimatedModuleSize()-c)>w&&(o.splice(S,1),S--)}}if(o.length>3){let d=0;for(const h of o)d+=h.getEstimatedModuleSize();c=d/o.length,o.sort((h,p)=>{if(p.getCount()===h.getCount()){const w=Math.abs(p.getEstimatedModuleSize()-c),S=Math.abs(h.getEstimatedModuleSize()-c);return w<S?1:w>S?-1:0}else return p.getCount()-h.getCount()}),o.splice(3)}return[o[0],o[1],o[2]]}}On.CENTER_QUORUM=2,On.MIN_SKIP=3,On.MAX_MODULES=57;class vr{constructor(s){this.image=s}getImage(){return this.image}getResultPointCallback(){return this.resultPointCallback}detect(s){this.resultPointCallback=s==null?null:s.get(ne.NEED_RESULT_POINT_CALLBACK);const c=new On(this.image,this.resultPointCallback).find(s);return this.processFinderPatternInfo(c)}processFinderPatternInfo(s){const o=s.getTopLeft(),c=s.getTopRight(),d=s.getBottomLeft(),h=this.calculateModuleSize(o,c,d);if(h<1)throw new re("No pattern found in proccess finder.");const p=vr.computeDimension(o,c,d,h),w=Ge.getProvisionalVersionForDimension(p),S=w.getDimensionForVersion()-7;let _=null;if(w.getAlignmentPatternCenters().length>0){const G=c.getX()-o.getX()+d.getX(),K=c.getY()-o.getY()+d.getY(),Q=1-3/S,ae=Math.floor(o.getX()+Q*(G-o.getX())),he=Math.floor(o.getY()+Q*(K-o.getY()));for(let Ie=4;Ie<=16;Ie<<=1)try{_=this.findAlignmentInRegion(h,ae,he,Ie);break}catch(De){if(!(De instanceof re))throw De}}const I=vr.createTransform(o,c,d,_,p),k=vr.sampleGrid(this.image,I,p);let P;return _===null?P=[d,o,c]:P=[d,o,c,_],new gt(k,P)}static createTransform(s,o,c,d,h){const p=h-3.5;let w,S,_,I;return d!==null?(w=d.getX(),S=d.getY(),_=p-3,I=_):(w=o.getX()-s.getX()+c.getX(),S=o.getY()-s.getY()+c.getY(),_=p,I=p),nn.quadrilateralToQuadrilateral(3.5,3.5,p,3.5,_,I,3.5,p,s.getX(),s.getY(),o.getX(),o.getY(),w,S,c.getX(),c.getY())}static sampleGrid(s,o,c){return bn.getInstance().sampleGridWithTransform(s,c,c,o)}static computeDimension(s,o,c,d){const h=Ee.round(Ne.distance(s,o)/d),p=Ee.round(Ne.distance(s,c)/d);let w=Math.floor((h+p)/2)+7;switch(w&3){case 0:w++;break;case 2:w--;break;case 3:throw new re("Dimensions could be not found.")}return w}calculateModuleSize(s,o,c){return(this.calculateModuleSizeOneWay(s,o)+this.calculateModuleSizeOneWay(s,c))/2}calculateModuleSizeOneWay(s,o){const c=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(s.getX()),Math.floor(s.getY()),Math.floor(o.getX()),Math.floor(o.getY())),d=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(o.getX()),Math.floor(o.getY()),Math.floor(s.getX()),Math.floor(s.getY()));return isNaN(c)?d/7:isNaN(d)?c/7:(c+d)/14}sizeOfBlackWhiteBlackRunBothWays(s,o,c,d){let h=this.sizeOfBlackWhiteBlackRun(s,o,c,d),p=1,w=s-(c-s);w<0?(p=s/(s-w),w=0):w>=this.image.getWidth()&&(p=(this.image.getWidth()-1-s)/(w-s),w=this.image.getWidth()-1);let S=Math.floor(o-(d-o)*p);return p=1,S<0?(p=o/(o-S),S=0):S>=this.image.getHeight()&&(p=(this.image.getHeight()-1-o)/(S-o),S=this.image.getHeight()-1),w=Math.floor(s+(w-s)*p),h+=this.sizeOfBlackWhiteBlackRun(s,o,w,S),h-1}sizeOfBlackWhiteBlackRun(s,o,c,d){const h=Math.abs(d-o)>Math.abs(c-s);if(h){let G=s;s=o,o=G,G=c,c=d,d=G}const p=Math.abs(c-s),w=Math.abs(d-o);let S=-p/2;const _=s<c?1:-1,I=o<d?1:-1;let k=0;const P=c+_;for(let G=s,K=o;G!==P;G+=_){const Q=h?K:G,ae=h?G:K;if(k===1===this.image.get(Q,ae)){if(k===2)return Ee.distance(G,K,s,o);k++}if(S+=w,S>0){if(K===d)break;K+=I,S-=p}}return k===2?Ee.distance(c+_,d,s,o):NaN}findAlignmentInRegion(s,o,c,d){const h=Math.floor(d*s),p=Math.max(0,o-h),w=Math.min(this.image.getWidth()-1,o+h);if(w-p<s*3)throw new re("Alignment top exceeds estimated module size.");const S=Math.max(0,c-h),_=Math.min(this.image.getHeight()-1,c+h);if(_-S<s*3)throw new re("Alignment bottom exceeds estimated module size.");return new na(this.image,p,S,w-p,_-S,s,this.resultPointCallback).find()}}class Ns{constructor(){this.decoder=new ml}getDecoder(){return this.decoder}decode(s,o){let c,d;if(o!=null&&o.get(ne.PURE_BARCODE)!==void 0){const S=Ns.extractPureBits(s.getBlackMatrix());c=this.decoder.decodeBitMatrix(S,o),d=Ns.NO_POINTS}else{const S=new vr(s.getBlackMatrix()).detect(o);c=this.decoder.decodeBitMatrix(S.getBits(),o),d=S.getPoints()}c.getOther()instanceof Pf&&c.getOther().applyMirroredCorrection(d);const h=new Me(c.getText(),c.getRawBytes(),void 0,d,we.QR_CODE,void 0),p=c.getByteSegments();p!==null&&h.putMetadata(ve.BYTE_SEGMENTS,p);const w=c.getECLevel();return w!==null&&h.putMetadata(ve.ERROR_CORRECTION_LEVEL,w),c.hasStructuredAppend()&&(h.putMetadata(ve.STRUCTURED_APPEND_SEQUENCE,c.getStructuredAppendSequenceNumber()),h.putMetadata(ve.STRUCTURED_APPEND_PARITY,c.getStructuredAppendParity())),h}reset(){}static extractPureBits(s){const o=s.getTopLeftOnBit(),c=s.getBottomRightOnBit();if(o===null||c===null)throw new re;const d=this.moduleSize(o,s);let h=o[1],p=c[1],w=o[0],S=c[0];if(w>=S||h>=p)throw new re;if(p-h!==S-w&&(S=w+(p-h),S>=s.getWidth()))throw new re;const _=Math.round((S-w+1)/d),I=Math.round((p-h+1)/d);if(_<=0||I<=0)throw new re;if(I!==_)throw new re;const k=Math.floor(d/2);h+=k,w+=k;const P=w+Math.floor((_-1)*d)-S;if(P>0){if(P>k)throw new re;w-=P}const G=h+Math.floor((I-1)*d)-p;if(G>0){if(G>k)throw new re;h-=G}const K=new Be(_,I);for(let Q=0;Q<I;Q++){const ae=h+Math.floor(Q*d);for(let he=0;he<_;he++)s.get(w+Math.floor(he*d),ae)&&K.set(he,Q)}return K}static moduleSize(s,o){const c=o.getHeight(),d=o.getWidth();let h=s[0],p=s[1],w=!0,S=0;for(;h<d&&p<c;){if(w!==o.get(h,p)){if(++S===5)break;w=!w}h++,p++}if(h===d||p===c)throw new re;return(h-s[0])/7}}Ns.NO_POINTS=new Array;class Xe{PDF417Common(){}static getBitCountSum(s){return Ee.sum(s)}static toIntArray(s){if(s==null||!s.length)return Xe.EMPTY_INT_ARRAY;const o=new Int32Array(s.length);let c=0;for(const d of s)o[c++]=d;return o}static getCodeword(s){const o=$.binarySearch(Xe.SYMBOL_TABLE,s&262143);return o<0?-1:(Xe.CODEWORD_TABLE[o]-1)%Xe.NUMBER_OF_CODEWORDS}}Xe.NUMBER_OF_CODEWORDS=929,Xe.MAX_CODEWORDS_IN_BARCODE=Xe.NUMBER_OF_CODEWORDS-1,Xe.MIN_ROWS_IN_BARCODE=3,Xe.MAX_ROWS_IN_BARCODE=90,Xe.MODULES_IN_CODEWORD=17,Xe.MODULES_IN_STOP_PATTERN=18,Xe.BARS_IN_MODULE=8,Xe.EMPTY_INT_ARRAY=new Int32Array([]),Xe.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),Xe.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]);class Rs{constructor(s,o){this.bits=s,this.points=o}getBits(){return this.bits}getPoints(){return this.points}}class at{static detectMultiple(s,o,c){let d=s.getBlackMatrix(),h=at.detect(c,d);return h.length||(d=d.clone(),d.rotate180(),h=at.detect(c,d)),new Rs(d,h)}static detect(s,o){const c=new Array;let d=0,h=0,p=!1;for(;d<o.getHeight();){const w=at.findVertices(o,d,h);if(w[0]==null&&w[3]==null){if(!p)break;p=!1,h=0;for(const S of c)S[1]!=null&&(d=Math.trunc(Math.max(d,S[1].getY()))),S[3]!=null&&(d=Math.max(d,Math.trunc(S[3].getY())));d+=at.ROW_STEP;continue}if(p=!0,c.push(w),!s)break;w[2]!=null?(h=Math.trunc(w[2].getX()),d=Math.trunc(w[2].getY())):(h=Math.trunc(w[4].getX()),d=Math.trunc(w[4].getY()))}return c}static findVertices(s,o,c){const d=s.getHeight(),h=s.getWidth(),p=new Array(8);return at.copyToResult(p,at.findRowsWithPattern(s,d,h,o,c,at.START_PATTERN),at.INDEXES_START_PATTERN),p[4]!=null&&(c=Math.trunc(p[4].getX()),o=Math.trunc(p[4].getY())),at.copyToResult(p,at.findRowsWithPattern(s,d,h,o,c,at.STOP_PATTERN),at.INDEXES_STOP_PATTERN),p}static copyToResult(s,o,c){for(let d=0;d<c.length;d++)s[c[d]]=o[d]}static findRowsWithPattern(s,o,c,d,h,p){const w=new Array(4);let S=!1;const _=new Int32Array(p.length);for(;d<o;d+=at.ROW_STEP){let k=at.findGuardPattern(s,h,d,c,!1,p,_);if(k!=null){for(;d>0;){const P=at.findGuardPattern(s,h,--d,c,!1,p,_);if(P!=null)k=P;else{d++;break}}w[0]=new Ne(k[0],d),w[1]=new Ne(k[1],d),S=!0;break}}let I=d+1;if(S){let k=0,P=Int32Array.from([Math.trunc(w[0].getX()),Math.trunc(w[1].getX())]);for(;I<o;I++){const G=at.findGuardPattern(s,P[0],I,c,!1,p,_);if(G!=null&&Math.abs(P[0]-G[0])<at.MAX_PATTERN_DRIFT&&Math.abs(P[1]-G[1])<at.MAX_PATTERN_DRIFT)P=G,k=0;else{if(k>at.SKIPPED_ROW_COUNT_MAX)break;k++}}I-=k+1,w[2]=new Ne(P[0],I),w[3]=new Ne(P[1],I)}return I-d<at.BARCODE_MIN_HEIGHT&&$.fill(w,null),w}static findGuardPattern(s,o,c,d,h,p,w){$.fillWithin(w,0,w.length,0);let S=o,_=0;for(;s.get(S,c)&&S>0&&_++<at.MAX_PIXEL_DRIFT;)S--;let I=S,k=0,P=p.length;for(let G=h;I<d;I++)if(s.get(I,c)!==G)w[k]++;else{if(k===P-1){if(at.patternMatchVariance(w,p,at.MAX_INDIVIDUAL_VARIANCE)<at.MAX_AVG_VARIANCE)return new Int32Array([S,I]);S+=w[0]+w[1],B.arraycopy(w,2,w,0,k-1),w[k-1]=0,w[k]=0,k--}else k++;w[k]=1,G=!G}return k===P-1&&at.patternMatchVariance(w,p,at.MAX_INDIVIDUAL_VARIANCE)<at.MAX_AVG_VARIANCE?new Int32Array([S,I-1]):null}static patternMatchVariance(s,o,c){let d=s.length,h=0,p=0;for(let _=0;_<d;_++)h+=s[_],p+=o[_];if(h<p)return 1/0;let w=h/p;c*=w;let S=0;for(let _=0;_<d;_++){let I=s[_],k=o[_]*w,P=I>k?I-k:k-I;if(P>c)return 1/0;S+=P}return S/h}}at.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),at.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),at.MAX_AVG_VARIANCE=.42,at.MAX_INDIVIDUAL_VARIANCE=.8,at.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),at.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),at.MAX_PIXEL_DRIFT=3,at.MAX_PATTERN_DRIFT=5,at.SKIPPED_ROW_COUNT_MAX=25,at.ROW_STEP=5,at.BARCODE_MIN_HEIGHT=10;class pn{constructor(s,o){if(o.length===0)throw new C;this.field=s;let c=o.length;if(c>1&&o[0]===0){let d=1;for(;d<c&&o[d]===0;)d++;d===c?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(c-d),B.arraycopy(o,d,this.coefficients,0,this.coefficients.length))}else this.coefficients=o}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(s){return this.coefficients[this.coefficients.length-1-s]}evaluateAt(s){if(s===0)return this.getCoefficient(0);if(s===1){let d=0;for(let h of this.coefficients)d=this.field.add(d,h);return d}let o=this.coefficients[0],c=this.coefficients.length;for(let d=1;d<c;d++)o=this.field.add(this.field.multiply(s,o),this.coefficients[d]);return o}add(s){if(!this.field.equals(s.field))throw new C("ModulusPolys do not have same ModulusGF field");if(this.isZero())return s;if(s.isZero())return this;let o=this.coefficients,c=s.coefficients;if(o.length>c.length){let p=o;o=c,c=p}let d=new Int32Array(c.length),h=c.length-o.length;B.arraycopy(c,0,d,0,h);for(let p=h;p<c.length;p++)d[p]=this.field.add(o[p-h],c[p]);return new pn(this.field,d)}subtract(s){if(!this.field.equals(s.field))throw new C("ModulusPolys do not have same ModulusGF field");return s.isZero()?this:this.add(s.negative())}multiply(s){return s instanceof pn?this.multiplyOther(s):this.multiplyScalar(s)}multiplyOther(s){if(!this.field.equals(s.field))throw new C("ModulusPolys do not have same ModulusGF field");if(this.isZero()||s.isZero())return new pn(this.field,new Int32Array([0]));let o=this.coefficients,c=o.length,d=s.coefficients,h=d.length,p=new Int32Array(c+h-1);for(let w=0;w<c;w++){let S=o[w];for(let _=0;_<h;_++)p[w+_]=this.field.add(p[w+_],this.field.multiply(S,d[_]))}return new pn(this.field,p)}negative(){let s=this.coefficients.length,o=new Int32Array(s);for(let c=0;c<s;c++)o[c]=this.field.subtract(0,this.coefficients[c]);return new pn(this.field,o)}multiplyScalar(s){if(s===0)return new pn(this.field,new Int32Array([0]));if(s===1)return this;let o=this.coefficients.length,c=new Int32Array(o);for(let d=0;d<o;d++)c[d]=this.field.multiply(this.coefficients[d],s);return new pn(this.field,c)}multiplyByMonomial(s,o){if(s<0)throw new C;if(o===0)return new pn(this.field,new Int32Array([0]));let c=this.coefficients.length,d=new Int32Array(c+s);for(let h=0;h<c;h++)d[h]=this.field.multiply(this.coefficients[h],o);return new pn(this.field,d)}toString(){let s=new Ce;for(let o=this.getDegree();o>=0;o--){let c=this.getCoefficient(o);c!==0&&(c<0?(s.append(" - "),c=-c):s.length()>0&&s.append(" + "),(o===0||c!==1)&&s.append(c),o!==0&&(o===1?s.append("x"):(s.append("x^"),s.append(o))))}return s.toString()}}class Ks{add(s,o){return(s+o)%this.modulus}subtract(s,o){return(this.modulus+s-o)%this.modulus}exp(s){return this.expTable[s]}log(s){if(s===0)throw new C;return this.logTable[s]}inverse(s){if(s===0)throw new st;return this.expTable[this.modulus-this.logTable[s]-1]}multiply(s,o){return s===0||o===0?0:this.expTable[(this.logTable[s]+this.logTable[o])%(this.modulus-1)]}getSize(){return this.modulus}equals(s){return s===this}}class fo extends Ks{constructor(s,o){super(),this.modulus=s,this.expTable=new Int32Array(s),this.logTable=new Int32Array(s);let c=1;for(let d=0;d<s;d++)this.expTable[d]=c,c=c*o%s;for(let d=0;d<s-1;d++)this.logTable[this.expTable[d]]=d;this.zero=new pn(this,new Int32Array([0])),this.one=new pn(this,new Int32Array([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(s,o){if(s<0)throw new C;if(o===0)return this.zero;let c=new Int32Array(s+1);return c[0]=o,new pn(this,c)}}fo.PDF417_GF=new fo(Xe.NUMBER_OF_CODEWORDS,3);class ho{constructor(){this.field=fo.PDF417_GF}decode(s,o,c){let d=new pn(this.field,s),h=new Int32Array(o),p=!1;for(let K=o;K>0;K--){let Q=d.evaluateAt(this.field.exp(K));h[o-K]=Q,Q!==0&&(p=!0)}if(!p)return 0;let w=this.field.getOne();if(c!=null)for(const K of c){let Q=this.field.exp(s.length-1-K),ae=new pn(this.field,new Int32Array([this.field.subtract(0,Q),1]));w=w.multiply(ae)}let S=new pn(this.field,h),_=this.runEuclideanAlgorithm(this.field.buildMonomial(o,1),S,o),I=_[0],k=_[1],P=this.findErrorLocations(I),G=this.findErrorMagnitudes(k,I,P);for(let K=0;K<P.length;K++){let Q=s.length-1-this.field.log(P[K]);if(Q<0)throw O.getChecksumInstance();s[Q]=this.field.subtract(s[Q],G[K])}return P.length}runEuclideanAlgorithm(s,o,c){if(s.getDegree()<o.getDegree()){let P=s;s=o,o=P}let d=s,h=o,p=this.field.getZero(),w=this.field.getOne();for(;h.getDegree()>=Math.round(c/2);){let P=d,G=p;if(d=h,p=w,d.isZero())throw O.getChecksumInstance();h=P;let K=this.field.getZero(),Q=d.getCoefficient(d.getDegree()),ae=this.field.inverse(Q);for(;h.getDegree()>=d.getDegree()&&!h.isZero();){let he=h.getDegree()-d.getDegree(),Ie=this.field.multiply(h.getCoefficient(h.getDegree()),ae);K=K.add(this.field.buildMonomial(he,Ie)),h=h.subtract(d.multiplyByMonomial(he,Ie))}w=K.multiply(p).subtract(G).negative()}let S=w.getCoefficient(0);if(S===0)throw O.getChecksumInstance();let _=this.field.inverse(S),I=w.multiply(_),k=h.multiply(_);return[I,k]}findErrorLocations(s){let o=s.getDegree(),c=new Int32Array(o),d=0;for(let h=1;h<this.field.getSize()&&d<o;h++)s.evaluateAt(h)===0&&(c[d]=this.field.inverse(h),d++);if(d!==o)throw O.getChecksumInstance();return c}findErrorMagnitudes(s,o,c){let d=o.getDegree(),h=new Int32Array(d);for(let _=1;_<=d;_++)h[d-_]=this.field.multiply(_,o.getCoefficient(_));let p=new pn(this.field,h),w=c.length,S=new Int32Array(w);for(let _=0;_<w;_++){let I=this.field.inverse(c[_]),k=this.field.subtract(0,s.evaluateAt(I)),P=this.field.inverse(p.evaluateAt(I));S[_]=this.field.multiply(k,P)}return S}}class Zs{constructor(s,o,c,d,h){s instanceof Zs?this.constructor_2(s):this.constructor_1(s,o,c,d,h)}constructor_1(s,o,c,d,h){const p=o==null||c==null,w=d==null||h==null;if(p&&w)throw new re;p?(o=new Ne(0,d.getY()),c=new Ne(0,h.getY())):w&&(d=new Ne(s.getWidth()-1,o.getY()),h=new Ne(s.getWidth()-1,c.getY())),this.image=s,this.topLeft=o,this.bottomLeft=c,this.topRight=d,this.bottomRight=h,this.minX=Math.trunc(Math.min(o.getX(),c.getX())),this.maxX=Math.trunc(Math.max(d.getX(),h.getX())),this.minY=Math.trunc(Math.min(o.getY(),d.getY())),this.maxY=Math.trunc(Math.max(c.getY(),h.getY()))}constructor_2(s){this.image=s.image,this.topLeft=s.getTopLeft(),this.bottomLeft=s.getBottomLeft(),this.topRight=s.getTopRight(),this.bottomRight=s.getBottomRight(),this.minX=s.getMinX(),this.maxX=s.getMaxX(),this.minY=s.getMinY(),this.maxY=s.getMaxY()}static merge(s,o){return s==null?o:o==null?s:new Zs(s.image,s.topLeft,s.bottomLeft,o.topRight,o.bottomRight)}addMissingRows(s,o,c){let d=this.topLeft,h=this.bottomLeft,p=this.topRight,w=this.bottomRight;if(s>0){let S=c?this.topLeft:this.topRight,_=Math.trunc(S.getY()-s);_<0&&(_=0);let I=new Ne(S.getX(),_);c?d=I:p=I}if(o>0){let S=c?this.bottomLeft:this.bottomRight,_=Math.trunc(S.getY()+o);_>=this.image.getHeight()&&(_=this.image.getHeight()-1);let I=new Ne(S.getX(),_);c?h=I:w=I}return new Zs(this.image,d,h,p,w)}getMinX(){return this.minX}getMaxX(){return this.maxX}getMinY(){return this.minY}getMaxY(){return this.maxY}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}getBottomLeft(){return this.bottomLeft}getBottomRight(){return this.bottomRight}}class pl{constructor(s,o,c,d){this.columnCount=s,this.errorCorrectionLevel=d,this.rowCountUpperPart=o,this.rowCountLowerPart=c,this.rowCount=o+c}getColumnCount(){return this.columnCount}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getRowCount(){return this.rowCount}getRowCountUpperPart(){return this.rowCountUpperPart}getRowCountLowerPart(){return this.rowCountLowerPart}}class Qs{constructor(){this.buffer=""}static form(s,o){let c=-1;function d(p,w,S,_,I,k){if(p==="%%")return"%";if(o[++c]===void 0)return;p=_?parseInt(_.substr(1)):void 0;let P=I?parseInt(I.substr(1)):void 0,G;switch(k){case"s":G=o[c];break;case"c":G=o[c][0];break;case"f":G=parseFloat(o[c]).toFixed(p);break;case"p":G=parseFloat(o[c]).toPrecision(p);break;case"e":G=parseFloat(o[c]).toExponential(p);break;case"x":G=parseInt(o[c]).toString(P||16);break;case"d":G=parseFloat(parseInt(o[c],P||10).toPrecision(p)).toFixed(0);break}G=typeof G=="object"?JSON.stringify(G):(+G).toString(P);let K=parseInt(S),Q=S&&S[0]+""=="0"?"0":" ";for(;G.length<K;)G=w!==void 0?G+Q:Q+G;return G}let h=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return s.replace(h,d)}format(s,...o){this.buffer+=Qs.form(s,o)}toString(){return this.buffer}}class sa{constructor(s){this.boundingBox=new Zs(s),this.codewords=new Array(s.getMaxY()-s.getMinY()+1)}getCodewordNearby(s){let o=this.getCodeword(s);if(o!=null)return o;for(let c=1;c<sa.MAX_NEARBY_DISTANCE;c++){let d=this.imageRowToCodewordIndex(s)-c;if(d>=0&&(o=this.codewords[d],o!=null)||(d=this.imageRowToCodewordIndex(s)+c,d<this.codewords.length&&(o=this.codewords[d],o!=null)))return o}return null}imageRowToCodewordIndex(s){return s-this.boundingBox.getMinY()}setCodeword(s,o){this.codewords[this.imageRowToCodewordIndex(s)]=o}getCodeword(s){return this.codewords[this.imageRowToCodewordIndex(s)]}getBoundingBox(){return this.boundingBox}getCodewords(){return this.codewords}toString(){const s=new Qs;let o=0;for(const c of this.codewords){if(c==null){s.format("%3d:    |   %n",o++);continue}s.format("%3d: %3d|%3d%n",o++,c.getRowNumber(),c.getValue())}return s.toString()}}sa.MAX_NEARBY_DISTANCE=5;class Bn{constructor(){this.values=new Map}setValue(s){s=Math.trunc(s);let o=this.values.get(s);o==null&&(o=0),o++,this.values.set(s,o)}getValue(){let s=-1,o=new Array;for(const[c,d]of this.values.entries()){const h={getKey:()=>c,getValue:()=>d};h.getValue()>s?(s=h.getValue(),o=[],o.push(h.getKey())):h.getValue()===s&&o.push(h.getKey())}return Xe.toIntArray(o)}getConfidence(s){return this.values.get(s)}}class Js extends sa{constructor(s,o){super(s),this._isLeft=o}setRowNumbers(){for(let s of this.getCodewords())s!=null&&s.setRowNumberAsRowIndicatorColumn()}adjustCompleteIndicatorColumnRowNumbers(s){let o=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(o,s);let c=this.getBoundingBox(),d=this._isLeft?c.getTopLeft():c.getTopRight(),h=this._isLeft?c.getBottomLeft():c.getBottomRight(),p=this.imageRowToCodewordIndex(Math.trunc(d.getY())),w=this.imageRowToCodewordIndex(Math.trunc(h.getY())),S=-1,_=1,I=0;for(let k=p;k<w;k++){if(o[k]==null)continue;let P=o[k],G=P.getRowNumber()-S;if(G===0)I++;else if(G===1)_=Math.max(_,I),I=1,S=P.getRowNumber();else if(G<0||P.getRowNumber()>=s.getRowCount()||G>k)o[k]=null;else{let K;_>2?K=(_-2)*G:K=G;let Q=K>=k;for(let ae=1;ae<=K&&!Q;ae++)Q=o[k-ae]!=null;Q?o[k]=null:(S=P.getRowNumber(),I=1)}}}getRowHeights(){let s=this.getBarcodeMetadata();if(s==null)return null;this.adjustIncompleteIndicatorColumnRowNumbers(s);let o=new Int32Array(s.getRowCount());for(let c of this.getCodewords())if(c!=null){let d=c.getRowNumber();if(d>=o.length)continue;o[d]++}return o}adjustIncompleteIndicatorColumnRowNumbers(s){let o=this.getBoundingBox(),c=this._isLeft?o.getTopLeft():o.getTopRight(),d=this._isLeft?o.getBottomLeft():o.getBottomRight(),h=this.imageRowToCodewordIndex(Math.trunc(c.getY())),p=this.imageRowToCodewordIndex(Math.trunc(d.getY())),w=this.getCodewords(),S=-1;for(let _=h;_<p;_++){if(w[_]==null)continue;let I=w[_];I.setRowNumberAsRowIndicatorColumn();let k=I.getRowNumber()-S;k===0||(k===1?S=I.getRowNumber():I.getRowNumber()>=s.getRowCount()?w[_]=null:S=I.getRowNumber())}}getBarcodeMetadata(){let s=this.getCodewords(),o=new Bn,c=new Bn,d=new Bn,h=new Bn;for(let w of s){if(w==null)continue;w.setRowNumberAsRowIndicatorColumn();let S=w.getValue()%30,_=w.getRowNumber();switch(this._isLeft||(_+=2),_%3){case 0:c.setValue(S*3+1);break;case 1:h.setValue(S/3),d.setValue(S%3);break;case 2:o.setValue(S+1);break}}if(o.getValue().length===0||c.getValue().length===0||d.getValue().length===0||h.getValue().length===0||o.getValue()[0]<1||c.getValue()[0]+d.getValue()[0]<Xe.MIN_ROWS_IN_BARCODE||c.getValue()[0]+d.getValue()[0]>Xe.MAX_ROWS_IN_BARCODE)return null;let p=new pl(o.getValue()[0],c.getValue()[0],d.getValue()[0],h.getValue()[0]);return this.removeIncorrectCodewords(s,p),p}removeIncorrectCodewords(s,o){for(let c=0;c<s.length;c++){let d=s[c];if(s[c]==null)continue;let h=d.getValue()%30,p=d.getRowNumber();if(p>o.getRowCount()){s[c]=null;continue}switch(this._isLeft||(p+=2),p%3){case 0:h*3+1!==o.getRowCountUpperPart()&&(s[c]=null);break;case 1:(Math.trunc(h/3)!==o.getErrorCorrectionLevel()||h%3!==o.getRowCountLowerPart())&&(s[c]=null);break;case 2:h+1!==o.getColumnCount()&&(s[c]=null);break}}}isLeft(){return this._isLeft}toString(){return"IsLeft: "+this._isLeft+`
`+super.toString()}}class er{constructor(s,o){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=s,this.barcodeColumnCount=s.getColumnCount(),this.boundingBox=o,this.detectionResultColumns=new Array(this.barcodeColumnCount+2)}getDetectionResultColumns(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);let s=Xe.MAX_CODEWORDS_IN_BARCODE,o;do o=s,s=this.adjustRowNumbersAndGetCount();while(s>0&&s<o);return this.detectionResultColumns}adjustIndicatorColumnRowNumbers(s){s!=null&&s.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)}adjustRowNumbersAndGetCount(){let s=this.adjustRowNumbersByRow();if(s===0)return 0;for(let o=1;o<this.barcodeColumnCount+1;o++){let c=this.detectionResultColumns[o].getCodewords();for(let d=0;d<c.length;d++)c[d]!=null&&(c[d].hasValidRowNumber()||this.adjustRowNumbers(o,d,c))}return s}adjustRowNumbersByRow(){return this.adjustRowNumbersFromBothRI(),this.adjustRowNumbersFromLRI()+this.adjustRowNumbersFromRRI()}adjustRowNumbersFromBothRI(){if(this.detectionResultColumns[0]==null||this.detectionResultColumns[this.barcodeColumnCount+1]==null)return;let s=this.detectionResultColumns[0].getCodewords(),o=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let c=0;c<s.length;c++)if(s[c]!=null&&o[c]!=null&&s[c].getRowNumber()===o[c].getRowNumber())for(let d=1;d<=this.barcodeColumnCount;d++){let h=this.detectionResultColumns[d].getCodewords()[c];h!=null&&(h.setRowNumber(s[c].getRowNumber()),h.hasValidRowNumber()||(this.detectionResultColumns[d].getCodewords()[c]=null))}}adjustRowNumbersFromRRI(){if(this.detectionResultColumns[this.barcodeColumnCount+1]==null)return 0;let s=0,o=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let c=0;c<o.length;c++){if(o[c]==null)continue;let d=o[c].getRowNumber(),h=0;for(let p=this.barcodeColumnCount+1;p>0&&h<this.ADJUST_ROW_NUMBER_SKIP;p--){let w=this.detectionResultColumns[p].getCodewords()[c];w!=null&&(h=er.adjustRowNumberIfValid(d,h,w),w.hasValidRowNumber()||s++)}}return s}adjustRowNumbersFromLRI(){if(this.detectionResultColumns[0]==null)return 0;let s=0,o=this.detectionResultColumns[0].getCodewords();for(let c=0;c<o.length;c++){if(o[c]==null)continue;let d=o[c].getRowNumber(),h=0;for(let p=1;p<this.barcodeColumnCount+1&&h<this.ADJUST_ROW_NUMBER_SKIP;p++){let w=this.detectionResultColumns[p].getCodewords()[c];w!=null&&(h=er.adjustRowNumberIfValid(d,h,w),w.hasValidRowNumber()||s++)}}return s}static adjustRowNumberIfValid(s,o,c){return c==null||c.hasValidRowNumber()||(c.isValidRowNumber(s)?(c.setRowNumber(s),o=0):++o),o}adjustRowNumbers(s,o,c){if(!this.detectionResultColumns[s-1])return;let d=c[o],h=this.detectionResultColumns[s-1].getCodewords(),p=h;this.detectionResultColumns[s+1]!=null&&(p=this.detectionResultColumns[s+1].getCodewords());let w=new Array(14);w[2]=h[o],w[3]=p[o],o>0&&(w[0]=c[o-1],w[4]=h[o-1],w[5]=p[o-1]),o>1&&(w[8]=c[o-2],w[10]=h[o-2],w[11]=p[o-2]),o<c.length-1&&(w[1]=c[o+1],w[6]=h[o+1],w[7]=p[o+1]),o<c.length-2&&(w[9]=c[o+2],w[12]=h[o+2],w[13]=p[o+2]);for(let S of w)if(er.adjustRowNumber(d,S))return}static adjustRowNumber(s,o){return o==null?!1:o.hasValidRowNumber()&&o.getBucket()===s.getBucket()?(s.setRowNumber(o.getRowNumber()),!0):!1}getBarcodeColumnCount(){return this.barcodeColumnCount}getBarcodeRowCount(){return this.barcodeMetadata.getRowCount()}getBarcodeECLevel(){return this.barcodeMetadata.getErrorCorrectionLevel()}setBoundingBox(s){this.boundingBox=s}getBoundingBox(){return this.boundingBox}setDetectionResultColumn(s,o){this.detectionResultColumns[s]=o}getDetectionResultColumn(s){return this.detectionResultColumns[s]}toString(){let s=this.detectionResultColumns[0];s==null&&(s=this.detectionResultColumns[this.barcodeColumnCount+1]);let o=new Qs;for(let c=0;c<s.getCodewords().length;c++){o.format("CW %3d:",c);for(let d=0;d<this.barcodeColumnCount+2;d++){if(this.detectionResultColumns[d]==null){o.format("    |   ");continue}let h=this.detectionResultColumns[d].getCodewords()[c];if(h==null){o.format("    |   ");continue}o.format(" %3d|%3d",h.getRowNumber(),h.getValue())}o.format("%n")}return o.toString()}}class Os{constructor(s,o,c,d){this.rowNumber=Os.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(s),this.endX=Math.trunc(o),this.bucket=Math.trunc(c),this.value=Math.trunc(d)}hasValidRowNumber(){return this.isValidRowNumber(this.rowNumber)}isValidRowNumber(s){return s!==Os.BARCODE_ROW_UNKNOWN&&this.bucket===s%3*3}setRowNumberAsRowIndicatorColumn(){this.rowNumber=Math.trunc(Math.trunc(this.value/30)*3+Math.trunc(this.bucket/3))}getWidth(){return this.endX-this.startX}getStartX(){return this.startX}getEndX(){return this.endX}getBucket(){return this.bucket}getValue(){return this.value}getRowNumber(){return this.rowNumber}setRowNumber(s){this.rowNumber=s}toString(){return this.rowNumber+"|"+this.value}}Os.BARCODE_ROW_UNKNOWN=-1;class mi{static initialize(){for(let s=0;s<Xe.SYMBOL_TABLE.length;s++){let o=Xe.SYMBOL_TABLE[s],c=o&1;for(let d=0;d<Xe.BARS_IN_MODULE;d++){let h=0;for(;(o&1)===c;)h+=1,o>>=1;c=o&1,mi.RATIOS_TABLE[s]||(mi.RATIOS_TABLE[s]=new Array(Xe.BARS_IN_MODULE)),mi.RATIOS_TABLE[s][Xe.BARS_IN_MODULE-d-1]=Math.fround(h/Xe.MODULES_IN_CODEWORD)}}this.bSymbolTableReady=!0}static getDecodedValue(s){let o=mi.getDecodedCodewordValue(mi.sampleBitCounts(s));return o!==-1?o:mi.getClosestDecodedValue(s)}static sampleBitCounts(s){let o=Ee.sum(s),c=new Int32Array(Xe.BARS_IN_MODULE),d=0,h=0;for(let p=0;p<Xe.MODULES_IN_CODEWORD;p++){let w=o/(2*Xe.MODULES_IN_CODEWORD)+p*o/Xe.MODULES_IN_CODEWORD;h+s[d]<=w&&(h+=s[d],d++),c[d]++}return c}static getDecodedCodewordValue(s){let o=mi.getBitValue(s);return Xe.getCodeword(o)===-1?-1:o}static getBitValue(s){let o=0;for(let c=0;c<s.length;c++)for(let d=0;d<s[c];d++)o=o<<1|(c%2===0?1:0);return Math.trunc(o)}static getClosestDecodedValue(s){let o=Ee.sum(s),c=new Array(Xe.BARS_IN_MODULE);if(o>1)for(let p=0;p<c.length;p++)c[p]=Math.fround(s[p]/o);let d=yt.MAX_VALUE,h=-1;this.bSymbolTableReady||mi.initialize();for(let p=0;p<mi.RATIOS_TABLE.length;p++){let w=0,S=mi.RATIOS_TABLE[p];for(let _=0;_<Xe.BARS_IN_MODULE;_++){let I=Math.fround(S[_]-c[_]);if(w+=Math.fround(I*I),w>=d)break}w<d&&(d=w,h=Xe.SYMBOL_TABLE[p])}return h}}mi.bSymbolTableReady=!1,mi.RATIOS_TABLE=new Array(Xe.SYMBOL_TABLE.length).map(L=>new Array(Xe.BARS_IN_MODULE));class xl{constructor(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}getSegmentIndex(){return this.segmentIndex}setSegmentIndex(s){this.segmentIndex=s}getFileId(){return this.fileId}setFileId(s){this.fileId=s}getOptionalData(){return this.optionalData}setOptionalData(s){this.optionalData=s}isLastSegment(){return this.lastSegment}setLastSegment(s){this.lastSegment=s}getSegmentCount(){return this.segmentCount}setSegmentCount(s){this.segmentCount=s}getSender(){return this.sender||null}setSender(s){this.sender=s}getAddressee(){return this.addressee||null}setAddressee(s){this.addressee=s}getFileName(){return this.fileName}setFileName(s){this.fileName=s}getFileSize(){return this.fileSize}setFileSize(s){this.fileSize=s}getChecksum(){return this.checksum}setChecksum(s){this.checksum=s}getTimestamp(){return this.timestamp}setTimestamp(s){this.timestamp=s}}class yl{static parseLong(s,o=void 0){return parseInt(s,o)}}class ra extends x{}ra.kind="NullPointerException";class bl{writeBytes(s){this.writeBytesOffset(s,0,s.length)}writeBytesOffset(s,o,c){if(s==null)throw new ra;if(o<0||o>s.length||c<0||o+c>s.length||o+c<0)throw new j;if(c===0)return;for(let d=0;d<c;d++)this.write(s[o+d])}flush(){}close(){}}class Uf extends x{}class e0 extends bl{constructor(s=32){if(super(),this.count=0,s<0)throw new C("Negative initial size: "+s);this.buf=new Uint8Array(s)}ensureCapacity(s){s-this.buf.length>0&&this.grow(s)}grow(s){let c=this.buf.length<<1;if(c-s<0&&(c=s),c<0){if(s<0)throw new Uf;c=U.MAX_VALUE}this.buf=$.copyOfUint8Array(this.buf,c)}write(s){this.ensureCapacity(this.count+1),this.buf[this.count]=s,this.count+=1}writeBytesOffset(s,o,c){if(o<0||o>s.length||c<0||o+c-s.length>0)throw new j;this.ensureCapacity(this.count+c),B.arraycopy(s,o,this.buf,this.count,c),this.count+=c}writeTo(s){s.writeBytesOffset(this.buf,0,this.count)}reset(){this.count=0}toByteArray(){return $.copyOfUint8Array(this.buf,this.count)}size(){return this.count}toString(s){return s?typeof s=="string"?this.toString_string(s):this.toString_number(s):this.toString_void()}toString_void(){return new String(this.buf).toString()}toString_string(s){return new String(this.buf).toString()}toString_number(s){return new String(this.buf).toString()}close(){}}var Ft;(function(L){L[L.ALPHA=0]="ALPHA",L[L.LOWER=1]="LOWER",L[L.MIXED=2]="MIXED",L[L.PUNCT=3]="PUNCT",L[L.ALPHA_SHIFT=4]="ALPHA_SHIFT",L[L.PUNCT_SHIFT=5]="PUNCT_SHIFT"})(Ft||(Ft={}));function Ff(){if(typeof window<"u")return window.BigInt||null;if(typeof Gd<"u")return Gd.BigInt||null;if(typeof self<"u")return self.BigInt||null;throw new Error("Can't search globals for BigInt!")}let aa;function tr(L){if(typeof aa>"u"&&(aa=Ff()),aa===null)throw new Error("BigInt is not supported!");return aa(L)}function t0(){let L=[];L[0]=tr(1);let s=tr(900);L[1]=s;for(let o=2;o<16;o++)L[o]=L[o-1]*s;return L}class me{static decode(s,o){let c=new Ce(""),d=ee.ISO8859_1;c.enableDecoding(d);let h=1,p=s[h++],w=new xl;for(;h<s[0];){switch(p){case me.TEXT_COMPACTION_MODE_LATCH:h=me.textCompaction(s,h,c);break;case me.BYTE_COMPACTION_MODE_LATCH:case me.BYTE_COMPACTION_MODE_LATCH_6:h=me.byteCompaction(p,s,d,h,c);break;case me.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:c.append(s[h++]);break;case me.NUMERIC_COMPACTION_MODE_LATCH:h=me.numericCompaction(s,h,c);break;case me.ECI_CHARSET:ee.getCharacterSetECIByValue(s[h++]);break;case me.ECI_GENERAL_PURPOSE:h+=2;break;case me.ECI_USER_DEFINED:h++;break;case me.BEGIN_MACRO_PDF417_CONTROL_BLOCK:h=me.decodeMacroBlock(s,h,w);break;case me.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case me.MACRO_PDF417_TERMINATOR:throw new X;default:h--,h=me.textCompaction(s,h,c);break}if(h<s.length)p=s[h++];else throw X.getFormatInstance()}if(c.length()===0)throw X.getFormatInstance();let S=new He(null,c.toString(),null,o);return S.setOther(w),S}static decodeMacroBlock(s,o,c){if(o+me.NUMBER_OF_SEQUENCE_CODEWORDS>s[0])throw X.getFormatInstance();let d=new Int32Array(me.NUMBER_OF_SEQUENCE_CODEWORDS);for(let w=0;w<me.NUMBER_OF_SEQUENCE_CODEWORDS;w++,o++)d[w]=s[o];c.setSegmentIndex(U.parseInt(me.decodeBase900toBase10(d,me.NUMBER_OF_SEQUENCE_CODEWORDS)));let h=new Ce;o=me.textCompaction(s,o,h),c.setFileId(h.toString());let p=-1;for(s[o]===me.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(p=o+1);o<s[0];)switch(s[o]){case me.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(o++,s[o]){case me.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:let w=new Ce;o=me.textCompaction(s,o+1,w),c.setFileName(w.toString());break;case me.MACRO_PDF417_OPTIONAL_FIELD_SENDER:let S=new Ce;o=me.textCompaction(s,o+1,S),c.setSender(S.toString());break;case me.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:let _=new Ce;o=me.textCompaction(s,o+1,_),c.setAddressee(_.toString());break;case me.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:let I=new Ce;o=me.numericCompaction(s,o+1,I),c.setSegmentCount(U.parseInt(I.toString()));break;case me.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:let k=new Ce;o=me.numericCompaction(s,o+1,k),c.setTimestamp(yl.parseLong(k.toString()));break;case me.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:let P=new Ce;o=me.numericCompaction(s,o+1,P),c.setChecksum(U.parseInt(P.toString()));break;case me.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:let G=new Ce;o=me.numericCompaction(s,o+1,G),c.setFileSize(yl.parseLong(G.toString()));break;default:throw X.getFormatInstance()}break;case me.MACRO_PDF417_TERMINATOR:o++,c.setLastSegment(!0);break;default:throw X.getFormatInstance()}if(p!==-1){let w=o-p;c.isLastSegment()&&w--,c.setOptionalData($.copyOfRange(s,p,p+w))}return o}static textCompaction(s,o,c){let d=new Int32Array((s[0]-o)*2),h=new Int32Array((s[0]-o)*2),p=0,w=!1;for(;o<s[0]&&!w;){let S=s[o++];if(S<me.TEXT_COMPACTION_MODE_LATCH)d[p]=S/30,d[p+1]=S%30,p+=2;else switch(S){case me.TEXT_COMPACTION_MODE_LATCH:d[p++]=me.TEXT_COMPACTION_MODE_LATCH;break;case me.BYTE_COMPACTION_MODE_LATCH:case me.BYTE_COMPACTION_MODE_LATCH_6:case me.NUMERIC_COMPACTION_MODE_LATCH:case me.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case me.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case me.MACRO_PDF417_TERMINATOR:o--,w=!0;break;case me.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:d[p]=me.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,S=s[o++],h[p]=S,p++;break}}return me.decodeTextCompaction(d,h,p,c),o}static decodeTextCompaction(s,o,c,d){let h=Ft.ALPHA,p=Ft.ALPHA,w=0;for(;w<c;){let S=s[w],_="";switch(h){case Ft.ALPHA:if(S<26)_=String.fromCharCode(65+S);else switch(S){case 26:_=" ";break;case me.LL:h=Ft.LOWER;break;case me.ML:h=Ft.MIXED;break;case me.PS:p=h,h=Ft.PUNCT_SHIFT;break;case me.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:d.append(o[w]);break;case me.TEXT_COMPACTION_MODE_LATCH:h=Ft.ALPHA;break}break;case Ft.LOWER:if(S<26)_=String.fromCharCode(97+S);else switch(S){case 26:_=" ";break;case me.AS:p=h,h=Ft.ALPHA_SHIFT;break;case me.ML:h=Ft.MIXED;break;case me.PS:p=h,h=Ft.PUNCT_SHIFT;break;case me.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:d.append(o[w]);break;case me.TEXT_COMPACTION_MODE_LATCH:h=Ft.ALPHA;break}break;case Ft.MIXED:if(S<me.PL)_=me.MIXED_CHARS[S];else switch(S){case me.PL:h=Ft.PUNCT;break;case 26:_=" ";break;case me.LL:h=Ft.LOWER;break;case me.AL:h=Ft.ALPHA;break;case me.PS:p=h,h=Ft.PUNCT_SHIFT;break;case me.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:d.append(o[w]);break;case me.TEXT_COMPACTION_MODE_LATCH:h=Ft.ALPHA;break}break;case Ft.PUNCT:if(S<me.PAL)_=me.PUNCT_CHARS[S];else switch(S){case me.PAL:h=Ft.ALPHA;break;case me.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:d.append(o[w]);break;case me.TEXT_COMPACTION_MODE_LATCH:h=Ft.ALPHA;break}break;case Ft.ALPHA_SHIFT:if(h=p,S<26)_=String.fromCharCode(65+S);else switch(S){case 26:_=" ";break;case me.TEXT_COMPACTION_MODE_LATCH:h=Ft.ALPHA;break}break;case Ft.PUNCT_SHIFT:if(h=p,S<me.PAL)_=me.PUNCT_CHARS[S];else switch(S){case me.PAL:h=Ft.ALPHA;break;case me.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:d.append(o[w]);break;case me.TEXT_COMPACTION_MODE_LATCH:h=Ft.ALPHA;break}break}_!==""&&d.append(_),w++}}static byteCompaction(s,o,c,d,h){let p=new e0,w=0,S=0,_=!1;switch(s){case me.BYTE_COMPACTION_MODE_LATCH:let I=new Int32Array(6),k=o[d++];for(;d<o[0]&&!_;)switch(I[w++]=k,S=900*S+k,k=o[d++],k){case me.TEXT_COMPACTION_MODE_LATCH:case me.BYTE_COMPACTION_MODE_LATCH:case me.NUMERIC_COMPACTION_MODE_LATCH:case me.BYTE_COMPACTION_MODE_LATCH_6:case me.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case me.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case me.MACRO_PDF417_TERMINATOR:d--,_=!0;break;default:if(w%5===0&&w>0){for(let P=0;P<6;++P)p.write(Number(tr(S)>>tr(8*(5-P))));S=0,w=0}break}d===o[0]&&k<me.TEXT_COMPACTION_MODE_LATCH&&(I[w++]=k);for(let P=0;P<w;P++)p.write(I[P]);break;case me.BYTE_COMPACTION_MODE_LATCH_6:for(;d<o[0]&&!_;){let P=o[d++];if(P<me.TEXT_COMPACTION_MODE_LATCH)w++,S=900*S+P;else switch(P){case me.TEXT_COMPACTION_MODE_LATCH:case me.BYTE_COMPACTION_MODE_LATCH:case me.NUMERIC_COMPACTION_MODE_LATCH:case me.BYTE_COMPACTION_MODE_LATCH_6:case me.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case me.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case me.MACRO_PDF417_TERMINATOR:d--,_=!0;break}if(w%5===0&&w>0){for(let G=0;G<6;++G)p.write(Number(tr(S)>>tr(8*(5-G))));S=0,w=0}}break}return h.append(ke.decode(p.toByteArray(),c)),d}static numericCompaction(s,o,c){let d=0,h=!1,p=new Int32Array(me.MAX_NUMERIC_CODEWORDS);for(;o<s[0]&&!h;){let w=s[o++];if(o===s[0]&&(h=!0),w<me.TEXT_COMPACTION_MODE_LATCH)p[d]=w,d++;else switch(w){case me.TEXT_COMPACTION_MODE_LATCH:case me.BYTE_COMPACTION_MODE_LATCH:case me.BYTE_COMPACTION_MODE_LATCH_6:case me.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case me.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case me.MACRO_PDF417_TERMINATOR:o--,h=!0;break}(d%me.MAX_NUMERIC_CODEWORDS===0||w===me.NUMERIC_COMPACTION_MODE_LATCH||h)&&d>0&&(c.append(me.decodeBase900toBase10(p,d)),d=0)}return o}static decodeBase900toBase10(s,o){let c=tr(0);for(let h=0;h<o;h++)c+=me.EXP900[o-h-1]*tr(s[h]);let d=c.toString();if(d.charAt(0)!=="1")throw new X;return d.substring(1)}}me.TEXT_COMPACTION_MODE_LATCH=900,me.BYTE_COMPACTION_MODE_LATCH=901,me.NUMERIC_COMPACTION_MODE_LATCH=902,me.BYTE_COMPACTION_MODE_LATCH_6=924,me.ECI_USER_DEFINED=925,me.ECI_GENERAL_PURPOSE=926,me.ECI_CHARSET=927,me.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,me.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,me.MACRO_PDF417_TERMINATOR=922,me.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,me.MAX_NUMERIC_CODEWORDS=15,me.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,me.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,me.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,me.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,me.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,me.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,me.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,me.PL=25,me.LL=27,me.AS=27,me.ML=28,me.AL=28,me.PS=29,me.PAL=29,me.PUNCT_CHARS=`;<>@[\\]_\`~!\r	,:
-.$/"|*()?{}'`,me.MIXED_CHARS="0123456789&\r	,:#-.$/+%*=^",me.EXP900=Ff()?t0():[],me.NUMBER_OF_SEQUENCE_CODEWORDS=2;class ut{constructor(){}static decode(s,o,c,d,h,p,w){let S=new Zs(s,o,c,d,h),_=null,I=null,k;for(let K=!0;;K=!1){if(o!=null&&(_=ut.getRowIndicatorColumn(s,S,o,!0,p,w)),d!=null&&(I=ut.getRowIndicatorColumn(s,S,d,!1,p,w)),k=ut.merge(_,I),k==null)throw re.getNotFoundInstance();let Q=k.getBoundingBox();if(K&&Q!=null&&(Q.getMinY()<S.getMinY()||Q.getMaxY()>S.getMaxY()))S=Q;else break}k.setBoundingBox(S);let P=k.getBarcodeColumnCount()+1;k.setDetectionResultColumn(0,_),k.setDetectionResultColumn(P,I);let G=_!=null;for(let K=1;K<=P;K++){let Q=G?K:P-K;if(k.getDetectionResultColumn(Q)!==void 0)continue;let ae;Q===0||Q===P?ae=new Js(S,Q===0):ae=new sa(S),k.setDetectionResultColumn(Q,ae);let he=-1,Ie=he;for(let De=S.getMinY();De<=S.getMaxY();De++){if(he=ut.getStartColumn(k,Q,De,G),he<0||he>S.getMaxX()){if(Ie===-1)continue;he=Ie}let Re=ut.detectCodeword(s,S.getMinX(),S.getMaxX(),G,he,De,p,w);Re!=null&&(ae.setCodeword(De,Re),Ie=he,p=Math.min(p,Re.getWidth()),w=Math.max(w,Re.getWidth()))}}return ut.createDecoderResult(k)}static merge(s,o){if(s==null&&o==null)return null;let c=ut.getBarcodeMetadata(s,o);if(c==null)return null;let d=Zs.merge(ut.adjustBoundingBox(s),ut.adjustBoundingBox(o));return new er(c,d)}static adjustBoundingBox(s){if(s==null)return null;let o=s.getRowHeights();if(o==null)return null;let c=ut.getMax(o),d=0;for(let w of o)if(d+=c-w,w>0)break;let h=s.getCodewords();for(let w=0;d>0&&h[w]==null;w++)d--;let p=0;for(let w=o.length-1;w>=0&&(p+=c-o[w],!(o[w]>0));w--);for(let w=h.length-1;p>0&&h[w]==null;w--)p--;return s.getBoundingBox().addMissingRows(d,p,s.isLeft())}static getMax(s){let o=-1;for(let c of s)o=Math.max(o,c);return o}static getBarcodeMetadata(s,o){let c;if(s==null||(c=s.getBarcodeMetadata())==null)return o==null?null:o.getBarcodeMetadata();let d;return o==null||(d=o.getBarcodeMetadata())==null?c:c.getColumnCount()!==d.getColumnCount()&&c.getErrorCorrectionLevel()!==d.getErrorCorrectionLevel()&&c.getRowCount()!==d.getRowCount()?null:c}static getRowIndicatorColumn(s,o,c,d,h,p){let w=new Js(o,d);for(let S=0;S<2;S++){let _=S===0?1:-1,I=Math.trunc(Math.trunc(c.getX()));for(let k=Math.trunc(Math.trunc(c.getY()));k<=o.getMaxY()&&k>=o.getMinY();k+=_){let P=ut.detectCodeword(s,0,s.getWidth(),d,I,k,h,p);P!=null&&(w.setCodeword(k,P),d?I=P.getStartX():I=P.getEndX())}}return w}static adjustCodewordCount(s,o){let c=o[0][1],d=c.getValue(),h=s.getBarcodeColumnCount()*s.getBarcodeRowCount()-ut.getNumberOfECCodeWords(s.getBarcodeECLevel());if(d.length===0){if(h<1||h>Xe.MAX_CODEWORDS_IN_BARCODE)throw re.getNotFoundInstance();c.setValue(h)}else d[0]!==h&&c.setValue(h)}static createDecoderResult(s){let o=ut.createBarcodeMatrix(s);ut.adjustCodewordCount(s,o);let c=new Array,d=new Int32Array(s.getBarcodeRowCount()*s.getBarcodeColumnCount()),h=[],p=new Array;for(let S=0;S<s.getBarcodeRowCount();S++)for(let _=0;_<s.getBarcodeColumnCount();_++){let I=o[S][_+1].getValue(),k=S*s.getBarcodeColumnCount()+_;I.length===0?c.push(k):I.length===1?d[k]=I[0]:(p.push(k),h.push(I))}let w=new Array(h.length);for(let S=0;S<w.length;S++)w[S]=h[S];return ut.createDecoderResultFromAmbiguousValues(s.getBarcodeECLevel(),d,Xe.toIntArray(c),Xe.toIntArray(p),w)}static createDecoderResultFromAmbiguousValues(s,o,c,d,h){let p=new Int32Array(d.length),w=100;for(;w-- >0;){for(let S=0;S<p.length;S++)o[d[S]]=h[S][p[S]];try{return ut.decodeCodewords(o,s,c)}catch(S){if(!(S instanceof O))throw S}if(p.length===0)throw O.getChecksumInstance();for(let S=0;S<p.length;S++)if(p[S]<h[S].length-1){p[S]++;break}else if(p[S]=0,S===p.length-1)throw O.getChecksumInstance()}throw O.getChecksumInstance()}static createBarcodeMatrix(s){let o=Array.from({length:s.getBarcodeRowCount()},()=>new Array(s.getBarcodeColumnCount()+2));for(let d=0;d<o.length;d++)for(let h=0;h<o[d].length;h++)o[d][h]=new Bn;let c=0;for(let d of s.getDetectionResultColumns()){if(d!=null){for(let h of d.getCodewords())if(h!=null){let p=h.getRowNumber();if(p>=0){if(p>=o.length)continue;o[p][c].setValue(h.getValue())}}}c++}return o}static isValidBarcodeColumn(s,o){return o>=0&&o<=s.getBarcodeColumnCount()+1}static getStartColumn(s,o,c,d){let h=d?1:-1,p=null;if(ut.isValidBarcodeColumn(s,o-h)&&(p=s.getDetectionResultColumn(o-h).getCodeword(c)),p!=null)return d?p.getEndX():p.getStartX();if(p=s.getDetectionResultColumn(o).getCodewordNearby(c),p!=null)return d?p.getStartX():p.getEndX();if(ut.isValidBarcodeColumn(s,o-h)&&(p=s.getDetectionResultColumn(o-h).getCodewordNearby(c)),p!=null)return d?p.getEndX():p.getStartX();let w=0;for(;ut.isValidBarcodeColumn(s,o-h);){o-=h;for(let S of s.getDetectionResultColumn(o).getCodewords())if(S!=null)return(d?S.getEndX():S.getStartX())+h*w*(S.getEndX()-S.getStartX());w++}return d?s.getBoundingBox().getMinX():s.getBoundingBox().getMaxX()}static detectCodeword(s,o,c,d,h,p,w,S){h=ut.adjustCodewordStartColumn(s,o,c,d,h,p);let _=ut.getModuleBitCount(s,o,c,d,h,p);if(_==null)return null;let I,k=Ee.sum(_);if(d)I=h+k;else{for(let K=0;K<_.length/2;K++){let Q=_[K];_[K]=_[_.length-1-K],_[_.length-1-K]=Q}I=h,h=I-k}if(!ut.checkCodewordSkew(k,w,S))return null;let P=mi.getDecodedValue(_),G=Xe.getCodeword(P);return G===-1?null:new Os(h,I,ut.getCodewordBucketNumber(P),G)}static getModuleBitCount(s,o,c,d,h,p){let w=h,S=new Int32Array(8),_=0,I=d?1:-1,k=d;for(;(d?w<c:w>=o)&&_<S.length;)s.get(w,p)===k?(S[_]++,w+=I):(_++,k=!k);return _===S.length||w===(d?c:o)&&_===S.length-1?S:null}static getNumberOfECCodeWords(s){return 2<<s}static adjustCodewordStartColumn(s,o,c,d,h,p){let w=h,S=d?-1:1;for(let _=0;_<2;_++){for(;(d?w>=o:w<c)&&d===s.get(w,p);){if(Math.abs(h-w)>ut.CODEWORD_SKEW_SIZE)return h;w+=S}S=-S,d=!d}return w}static checkCodewordSkew(s,o,c){return o-ut.CODEWORD_SKEW_SIZE<=s&&s<=c+ut.CODEWORD_SKEW_SIZE}static decodeCodewords(s,o,c){if(s.length===0)throw X.getFormatInstance();let d=1<<o+1,h=ut.correctErrors(s,c,d);ut.verifyCodewordCount(s,d);let p=me.decode(s,""+o);return p.setErrorsCorrected(h),p.setErasures(c.length),p}static correctErrors(s,o,c){if(o!=null&&o.length>c/2+ut.MAX_ERRORS||c<0||c>ut.MAX_EC_CODEWORDS)throw O.getChecksumInstance();return ut.errorCorrection.decode(s,c,o)}static verifyCodewordCount(s,o){if(s.length<4)throw X.getFormatInstance();let c=s[0];if(c>s.length)throw X.getFormatInstance();if(c===0)if(o<s.length)s[0]=s.length-o;else throw X.getFormatInstance()}static getBitCountForCodeword(s){let o=new Int32Array(8),c=0,d=o.length-1;for(;!((s&1)!==c&&(c=s&1,d--,d<0));)o[d]++,s>>=1;return o}static getCodewordBucketNumber(s){return s instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(s):this.getCodewordBucketNumber_number(s)}static getCodewordBucketNumber_number(s){return ut.getCodewordBucketNumber(ut.getBitCountForCodeword(s))}static getCodewordBucketNumber_Int32Array(s){return(s[0]-s[2]+s[4]-s[6]+9)%9}static toString(s){let o=new Qs;for(let c=0;c<s.length;c++){o.format("Row %2d: ",c);for(let d=0;d<s[c].length;d++){let h=s[c][d];h.getValue().length===0?o.format("        ",null):o.format("%4d(%2d)",h.getValue()[0],h.getConfidence(h.getValue()[0]))}o.format("%n")}return o.toString()}}ut.CODEWORD_SKEW_SIZE=2,ut.MAX_ERRORS=3,ut.MAX_EC_CODEWORDS=512,ut.errorCorrection=new ho;class qn{decode(s,o=null){let c=qn.decode(s,o,!1);if(c==null||c.length===0||c[0]==null)throw re.getNotFoundInstance();return c[0]}decodeMultiple(s,o=null){try{return qn.decode(s,o,!0)}catch(c){throw c instanceof X||c instanceof O?re.getNotFoundInstance():c}}static decode(s,o,c){const d=new Array,h=at.detectMultiple(s,o,c);for(const p of h.getPoints()){const w=ut.decode(h.getBits(),p[4],p[5],p[6],p[7],qn.getMinCodewordWidth(p),qn.getMaxCodewordWidth(p)),S=new Me(w.getText(),w.getRawBytes(),void 0,p,we.PDF_417);S.putMetadata(ve.ERROR_CORRECTION_LEVEL,w.getECLevel());const _=w.getOther();_!=null&&S.putMetadata(ve.PDF417_EXTRA_METADATA,_),d.push(S)}return d.map(p=>p)}static getMaxWidth(s,o){return s==null||o==null?0:Math.trunc(Math.abs(s.getX()-o.getX()))}static getMinWidth(s,o){return s==null||o==null?U.MAX_VALUE:Math.trunc(Math.abs(s.getX()-o.getX()))}static getMaxCodewordWidth(s){return Math.floor(Math.max(Math.max(qn.getMaxWidth(s[0],s[4]),qn.getMaxWidth(s[6],s[2])*Xe.MODULES_IN_CODEWORD/Xe.MODULES_IN_STOP_PATTERN),Math.max(qn.getMaxWidth(s[1],s[5]),qn.getMaxWidth(s[7],s[3])*Xe.MODULES_IN_CODEWORD/Xe.MODULES_IN_STOP_PATTERN)))}static getMinCodewordWidth(s){return Math.floor(Math.min(Math.min(qn.getMinWidth(s[0],s[4]),qn.getMinWidth(s[6],s[2])*Xe.MODULES_IN_CODEWORD/Xe.MODULES_IN_STOP_PATTERN),Math.min(qn.getMinWidth(s[1],s[5]),qn.getMinWidth(s[7],s[3])*Xe.MODULES_IN_CODEWORD/Xe.MODULES_IN_STOP_PATTERN)))}reset(){}}class go extends x{}go.kind="ReaderException";class Vf{constructor(s,o){this.verbose=s===!0,o&&this.setHints(o)}decode(s,o){return o&&this.setHints(o),this.decodeInternal(s)}decodeWithState(s){return(this.readers===null||this.readers===void 0)&&this.setHints(null),this.decodeInternal(s)}setHints(s){this.hints=s;const o=!r(s)&&s.get(ne.TRY_HARDER)===!0,c=r(s)?null:s.get(ne.POSSIBLE_FORMATS),d=new Array;if(!r(c)){const h=c.some(p=>p===we.UPC_A||p===we.UPC_E||p===we.EAN_13||p===we.EAN_8||p===we.CODABAR||p===we.CODE_39||p===we.CODE_93||p===we.CODE_128||p===we.ITF||p===we.RSS_14||p===we.RSS_EXPANDED);h&&!o&&d.push(new Ys(s,this.verbose)),c.includes(we.QR_CODE)&&d.push(new Ns),c.includes(we.DATA_MATRIX)&&d.push(new Ki),c.includes(we.AZTEC)&&d.push(new sn),c.includes(we.PDF_417)&&d.push(new qn),h&&o&&d.push(new Ys(s,this.verbose))}d.length===0&&(o||d.push(new Ys(s,this.verbose)),d.push(new Ns),d.push(new Ki),d.push(new sn),d.push(new qn),o&&d.push(new Ys(s,this.verbose))),this.readers=d}reset(){if(this.readers!==null)for(const s of this.readers)s.reset()}decodeInternal(s){if(this.readers===null)throw new go("No readers where selected, nothing can be read.");for(const o of this.readers)try{return o.decode(s,this.hints)}catch(c){if(c instanceof go)continue}throw new re("No MultiFormat Readers were able to detect the code.")}}class n0 extends ye{constructor(s=null,o=500){const c=new Vf;c.setHints(s),super(c,o)}decodeBitmap(s){return this.reader.decodeWithState(s)}}class i0 extends ye{constructor(s=500){super(new qn,s)}}class s0 extends ye{constructor(s=500){super(new Ns,s)}}var mo;(function(L){L[L.ERROR_CORRECTION=0]="ERROR_CORRECTION",L[L.CHARACTER_SET=1]="CHARACTER_SET",L[L.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",L[L.MIN_SIZE=3]="MIN_SIZE",L[L.MAX_SIZE=4]="MAX_SIZE",L[L.MARGIN=5]="MARGIN",L[L.PDF417_COMPACT=6]="PDF417_COMPACT",L[L.PDF417_COMPACTION=7]="PDF417_COMPACTION",L[L.PDF417_DIMENSIONS=8]="PDF417_DIMENSIONS",L[L.AZTEC_LAYERS=9]="AZTEC_LAYERS",L[L.QR_VERSION=10]="QR_VERSION"})(mo||(mo={}));var In=mo;class Hc{constructor(s){this.field=s,this.cachedGenerators=[],this.cachedGenerators.push(new ht(s,Int32Array.from([1])))}buildGenerator(s){const o=this.cachedGenerators;if(s>=o.length){let c=o[o.length-1];const d=this.field;for(let h=o.length;h<=s;h++){const p=c.multiply(new ht(d,Int32Array.from([1,d.exp(h-1+d.getGeneratorBase())])));o.push(p),c=p}}return o[s]}encode(s,o){if(o===0)throw new C("No error correction bytes");const c=s.length-o;if(c<=0)throw new C("No data bytes provided");const d=this.buildGenerator(o),h=new Int32Array(c);B.arraycopy(s,0,h,0,c);let p=new ht(this.field,h);p=p.multiplyByMonomial(o,1);const S=p.divide(d)[1].getCoefficients(),_=o-S.length;for(let I=0;I<_;I++)s[c+I]=0;B.arraycopy(S,0,s,c+_,S.length)}}class dn{constructor(){}static applyMaskPenaltyRule1(s){return dn.applyMaskPenaltyRule1Internal(s,!0)+dn.applyMaskPenaltyRule1Internal(s,!1)}static applyMaskPenaltyRule2(s){let o=0;const c=s.getArray(),d=s.getWidth(),h=s.getHeight();for(let p=0;p<h-1;p++){const w=c[p];for(let S=0;S<d-1;S++){const _=w[S];_===w[S+1]&&_===c[p+1][S]&&_===c[p+1][S+1]&&o++}}return dn.N2*o}static applyMaskPenaltyRule3(s){let o=0;const c=s.getArray(),d=s.getWidth(),h=s.getHeight();for(let p=0;p<h;p++)for(let w=0;w<d;w++){const S=c[p];w+6<d&&S[w]===1&&S[w+1]===0&&S[w+2]===1&&S[w+3]===1&&S[w+4]===1&&S[w+5]===0&&S[w+6]===1&&(dn.isWhiteHorizontal(S,w-4,w)||dn.isWhiteHorizontal(S,w+7,w+11))&&o++,p+6<h&&c[p][w]===1&&c[p+1][w]===0&&c[p+2][w]===1&&c[p+3][w]===1&&c[p+4][w]===1&&c[p+5][w]===0&&c[p+6][w]===1&&(dn.isWhiteVertical(c,w,p-4,p)||dn.isWhiteVertical(c,w,p+7,p+11))&&o++}return o*dn.N3}static isWhiteHorizontal(s,o,c){o=Math.max(o,0),c=Math.min(c,s.length);for(let d=o;d<c;d++)if(s[d]===1)return!1;return!0}static isWhiteVertical(s,o,c,d){c=Math.max(c,0),d=Math.min(d,s.length);for(let h=c;h<d;h++)if(s[h][o]===1)return!1;return!0}static applyMaskPenaltyRule4(s){let o=0;const c=s.getArray(),d=s.getWidth(),h=s.getHeight();for(let S=0;S<h;S++){const _=c[S];for(let I=0;I<d;I++)_[I]===1&&o++}const p=s.getHeight()*s.getWidth();return Math.floor(Math.abs(o*2-p)*10/p)*dn.N4}static getDataMaskBit(s,o,c){let d,h;switch(s){case 0:d=c+o&1;break;case 1:d=c&1;break;case 2:d=o%3;break;case 3:d=(c+o)%3;break;case 4:d=Math.floor(c/2)+Math.floor(o/3)&1;break;case 5:h=c*o,d=(h&1)+h%3;break;case 6:h=c*o,d=(h&1)+h%3&1;break;case 7:h=c*o,d=h%3+(c+o&1)&1;break;default:throw new C("Invalid mask pattern: "+s)}return d===0}static applyMaskPenaltyRule1Internal(s,o){let c=0;const d=o?s.getHeight():s.getWidth(),h=o?s.getWidth():s.getHeight(),p=s.getArray();for(let w=0;w<d;w++){let S=0,_=-1;for(let I=0;I<h;I++){const k=o?p[w][I]:p[I][w];k===_?S++:(S>=5&&(c+=dn.N1+(S-5)),S=1,_=k)}S>=5&&(c+=dn.N1+(S-5))}return c}}dn.N1=3,dn.N2=3,dn.N3=40,dn.N4=10;class po{constructor(s,o){this.width=s,this.height=o;const c=new Array(o);for(let d=0;d!==o;d++)c[d]=new Uint8Array(s);this.bytes=c}getHeight(){return this.height}getWidth(){return this.width}get(s,o){return this.bytes[o][s]}getArray(){return this.bytes}setNumber(s,o,c){this.bytes[o][s]=c}setBoolean(s,o,c){this.bytes[o][s]=c?1:0}clear(s){for(const o of this.bytes)$.fill(o,s)}equals(s){if(!(s instanceof po))return!1;const o=s;if(this.width!==o.width||this.height!==o.height)return!1;for(let c=0,d=this.height;c<d;++c){const h=this.bytes[c],p=o.bytes[c];for(let w=0,S=this.width;w<S;++w)if(h[w]!==p[w])return!1}return!0}toString(){const s=new Ce;for(let o=0,c=this.height;o<c;++o){const d=this.bytes[o];for(let h=0,p=this.width;h<p;++h)switch(d[h]){case 0:s.append(" 0");break;case 1:s.append(" 1");break;default:s.append("  ");break}s.append(`
`)}return s.toString()}}class Er{constructor(){this.maskPattern=-1}getMode(){return this.mode}getECLevel(){return this.ecLevel}getVersion(){return this.version}getMaskPattern(){return this.maskPattern}getMatrix(){return this.matrix}toString(){const s=new Ce;return s.append(`<<
`),s.append(" mode: "),s.append(this.mode?this.mode.toString():"null"),s.append(`
 ecLevel: `),s.append(this.ecLevel?this.ecLevel.toString():"null"),s.append(`
 version: `),s.append(this.version?this.version.toString():"null"),s.append(`
 maskPattern: `),s.append(this.maskPattern.toString()),this.matrix?(s.append(`
 matrix:
`),s.append(this.matrix.toString())):s.append(`
 matrix: null
`),s.append(`>>
`),s.toString()}setMode(s){this.mode=s}setECLevel(s){this.ecLevel=s}setVersion(s){this.version=s}setMaskPattern(s){this.maskPattern=s}setMatrix(s){this.matrix=s}static isValidMaskPattern(s){return s>=0&&s<Er.NUM_MASK_PATTERNS}}Er.NUM_MASK_PATTERNS=8;class Ht extends x{}Ht.kind="WriterException";class We{constructor(){}static clearMatrix(s){s.clear(255)}static buildMatrix(s,o,c,d,h){We.clearMatrix(h),We.embedBasicPatterns(c,h),We.embedTypeInfo(o,d,h),We.maybeEmbedVersionInfo(c,h),We.embedDataBits(s,d,h)}static embedBasicPatterns(s,o){We.embedPositionDetectionPatternsAndSeparators(o),We.embedDarkDotAtLeftBottomCorner(o),We.maybeEmbedPositionAdjustmentPatterns(s,o),We.embedTimingPatterns(o)}static embedTypeInfo(s,o,c){const d=new q;We.makeTypeInfoBits(s,o,d);for(let h=0,p=d.getSize();h<p;++h){const w=d.get(d.getSize()-1-h),S=We.TYPE_INFO_COORDINATES[h],_=S[0],I=S[1];if(c.setBoolean(_,I,w),h<8){const k=c.getWidth()-h-1;c.setBoolean(k,8,w)}else{const P=c.getHeight()-7+(h-8);c.setBoolean(8,P,w)}}}static maybeEmbedVersionInfo(s,o){if(s.getVersionNumber()<7)return;const c=new q;We.makeVersionInfoBits(s,c);let d=6*3-1;for(let h=0;h<6;++h)for(let p=0;p<3;++p){const w=c.get(d);d--,o.setBoolean(h,o.getHeight()-11+p,w),o.setBoolean(o.getHeight()-11+p,h,w)}}static embedDataBits(s,o,c){let d=0,h=-1,p=c.getWidth()-1,w=c.getHeight()-1;for(;p>0;){for(p===6&&(p-=1);w>=0&&w<c.getHeight();){for(let S=0;S<2;++S){const _=p-S;if(!We.isEmpty(c.get(_,w)))continue;let I;d<s.getSize()?(I=s.get(d),++d):I=!1,o!==255&&dn.getDataMaskBit(o,_,w)&&(I=!I),c.setBoolean(_,w,I)}w+=h}h=-h,w+=h,p-=2}if(d!==s.getSize())throw new Ht("Not all bits consumed: "+d+"/"+s.getSize())}static findMSBSet(s){return 32-U.numberOfLeadingZeros(s)}static calculateBCHCode(s,o){if(o===0)throw new C("0 polynomial");const c=We.findMSBSet(o);for(s<<=c-1;We.findMSBSet(s)>=c;)s^=o<<We.findMSBSet(s)-c;return s}static makeTypeInfoBits(s,o,c){if(!Er.isValidMaskPattern(o))throw new Ht("Invalid mask pattern");const d=s.getBits()<<3|o;c.appendBits(d,5);const h=We.calculateBCHCode(d,We.TYPE_INFO_POLY);c.appendBits(h,10);const p=new q;if(p.appendBits(We.TYPE_INFO_MASK_PATTERN,15),c.xor(p),c.getSize()!==15)throw new Ht("should not happen but we got: "+c.getSize())}static makeVersionInfoBits(s,o){o.appendBits(s.getVersionNumber(),6);const c=We.calculateBCHCode(s.getVersionNumber(),We.VERSION_INFO_POLY);if(o.appendBits(c,12),o.getSize()!==18)throw new Ht("should not happen but we got: "+o.getSize())}static isEmpty(s){return s===255}static embedTimingPatterns(s){for(let o=8;o<s.getWidth()-8;++o){const c=(o+1)%2;We.isEmpty(s.get(o,6))&&s.setNumber(o,6,c),We.isEmpty(s.get(6,o))&&s.setNumber(6,o,c)}}static embedDarkDotAtLeftBottomCorner(s){if(s.get(8,s.getHeight()-8)===0)throw new Ht;s.setNumber(8,s.getHeight()-8,1)}static embedHorizontalSeparationPattern(s,o,c){for(let d=0;d<8;++d){if(!We.isEmpty(c.get(s+d,o)))throw new Ht;c.setNumber(s+d,o,0)}}static embedVerticalSeparationPattern(s,o,c){for(let d=0;d<7;++d){if(!We.isEmpty(c.get(s,o+d)))throw new Ht;c.setNumber(s,o+d,0)}}static embedPositionAdjustmentPattern(s,o,c){for(let d=0;d<5;++d){const h=We.POSITION_ADJUSTMENT_PATTERN[d];for(let p=0;p<5;++p)c.setNumber(s+p,o+d,h[p])}}static embedPositionDetectionPattern(s,o,c){for(let d=0;d<7;++d){const h=We.POSITION_DETECTION_PATTERN[d];for(let p=0;p<7;++p)c.setNumber(s+p,o+d,h[p])}}static embedPositionDetectionPatternsAndSeparators(s){const o=We.POSITION_DETECTION_PATTERN[0].length;We.embedPositionDetectionPattern(0,0,s),We.embedPositionDetectionPattern(s.getWidth()-o,0,s),We.embedPositionDetectionPattern(0,s.getWidth()-o,s);const c=8;We.embedHorizontalSeparationPattern(0,c-1,s),We.embedHorizontalSeparationPattern(s.getWidth()-c,c-1,s),We.embedHorizontalSeparationPattern(0,s.getWidth()-c,s);const d=7;We.embedVerticalSeparationPattern(d,0,s),We.embedVerticalSeparationPattern(s.getHeight()-d-1,0,s),We.embedVerticalSeparationPattern(d,s.getHeight()-d,s)}static maybeEmbedPositionAdjustmentPatterns(s,o){if(s.getVersionNumber()<2)return;const c=s.getVersionNumber()-1,d=We.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[c];for(let h=0,p=d.length;h!==p;h++){const w=d[h];if(w>=0)for(let S=0;S!==p;S++){const _=d[S];_>=0&&We.isEmpty(o.get(_,w))&&We.embedPositionAdjustmentPattern(_-2,w-2,o)}}}}We.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),We.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),We.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),We.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),We.VERSION_INFO_POLY=7973,We.TYPE_INFO_POLY=1335,We.TYPE_INFO_MASK_PATTERN=21522;class r0{constructor(s,o){this.dataBytes=s,this.errorCorrectionBytes=o}getDataBytes(){return this.dataBytes}getErrorCorrectionBytes(){return this.errorCorrectionBytes}}class Jt{constructor(){}static calculateMaskPenalty(s){return dn.applyMaskPenaltyRule1(s)+dn.applyMaskPenaltyRule2(s)+dn.applyMaskPenaltyRule3(s)+dn.applyMaskPenaltyRule4(s)}static encode(s,o,c=null){let d=Jt.DEFAULT_BYTE_MODE_ENCODING;const h=c!==null&&c.get(In.CHARACTER_SET)!==void 0;h&&(d=c.get(In.CHARACTER_SET).toString());const p=this.chooseMode(s,d),w=new q;if(p===qe.BYTE&&(h||Jt.DEFAULT_BYTE_MODE_ENCODING!==d)){const De=ee.getCharacterSetECIByName(d);De!==void 0&&this.appendECI(De,w)}this.appendModeInfo(p,w);const S=new q;this.appendBytes(s,p,S,d);let _;if(c!==null&&c.get(In.QR_VERSION)!==void 0){const De=Number.parseInt(c.get(In.QR_VERSION).toString(),10);_=Ge.getVersionForNumber(De);const Re=this.calculateBitsNeeded(p,w,S,_);if(!this.willFit(Re,_,o))throw new Ht("Data too big for requested version")}else _=this.recommendVersion(o,p,w,S);const I=new q;I.appendBitArray(w);const k=p===qe.BYTE?S.getSizeInBytes():s.length;this.appendLengthInfo(k,_,p,I),I.appendBitArray(S);const P=_.getECBlocksForLevel(o),G=_.getTotalCodewords()-P.getTotalECCodewords();this.terminateBits(G,I);const K=this.interleaveWithECBytes(I,_.getTotalCodewords(),G,P.getNumBlocks()),Q=new Er;Q.setECLevel(o),Q.setMode(p),Q.setVersion(_);const ae=_.getDimensionForVersion(),he=new po(ae,ae),Ie=this.chooseMaskPattern(K,o,_,he);return Q.setMaskPattern(Ie),We.buildMatrix(K,o,_,Ie,he),Q.setMatrix(he),Q}static recommendVersion(s,o,c,d){const h=this.calculateBitsNeeded(o,c,d,Ge.getVersionForNumber(1)),p=this.chooseVersion(h,s),w=this.calculateBitsNeeded(o,c,d,p);return this.chooseVersion(w,s)}static calculateBitsNeeded(s,o,c,d){return o.getSize()+s.getCharacterCountBits(d)+c.getSize()}static getAlphanumericCode(s){return s<Jt.ALPHANUMERIC_TABLE.length?Jt.ALPHANUMERIC_TABLE[s]:-1}static chooseMode(s,o=null){if(ee.SJIS.getName()===o&&this.isOnlyDoubleByteKanji(s))return qe.KANJI;let c=!1,d=!1;for(let h=0,p=s.length;h<p;++h){const w=s.charAt(h);if(Jt.isDigit(w))c=!0;else if(this.getAlphanumericCode(w.charCodeAt(0))!==-1)d=!0;else return qe.BYTE}return d?qe.ALPHANUMERIC:c?qe.NUMERIC:qe.BYTE}static isOnlyDoubleByteKanji(s){let o;try{o=ke.encode(s,ee.SJIS)}catch{return!1}const c=o.length;if(c%2!==0)return!1;for(let d=0;d<c;d+=2){const h=o[d]&255;if((h<129||h>159)&&(h<224||h>235))return!1}return!0}static chooseMaskPattern(s,o,c,d){let h=Number.MAX_SAFE_INTEGER,p=-1;for(let w=0;w<Er.NUM_MASK_PATTERNS;w++){We.buildMatrix(s,o,c,w,d);let S=this.calculateMaskPenalty(d);S<h&&(h=S,p=w)}return p}static chooseVersion(s,o){for(let c=1;c<=40;c++){const d=Ge.getVersionForNumber(c);if(Jt.willFit(s,d,o))return d}throw new Ht("Data too big")}static willFit(s,o,c){const d=o.getTotalCodewords(),p=o.getECBlocksForLevel(c).getTotalECCodewords(),w=d-p,S=(s+7)/8;return w>=S}static terminateBits(s,o){const c=s*8;if(o.getSize()>c)throw new Ht("data bits cannot fit in the QR Code"+o.getSize()+" > "+c);for(let p=0;p<4&&o.getSize()<c;++p)o.appendBit(!1);const d=o.getSize()&7;if(d>0)for(let p=d;p<8;p++)o.appendBit(!1);const h=s-o.getSizeInBytes();for(let p=0;p<h;++p)o.appendBits((p&1)===0?236:17,8);if(o.getSize()!==c)throw new Ht("Bits size does not equal capacity")}static getNumDataBytesAndNumECBytesForBlockID(s,o,c,d,h,p){if(d>=c)throw new Ht("Block ID too large");const w=s%c,S=c-w,_=Math.floor(s/c),I=_+1,k=Math.floor(o/c),P=k+1,G=_-k,K=I-P;if(G!==K)throw new Ht("EC bytes mismatch");if(c!==S+w)throw new Ht("RS blocks mismatch");if(s!==(k+G)*S+(P+K)*w)throw new Ht("Total bytes mismatch");d<S?(h[0]=k,p[0]=G):(h[0]=P,p[0]=K)}static interleaveWithECBytes(s,o,c,d){if(s.getSizeInBytes()!==c)throw new Ht("Number of bits and data bytes does not match");let h=0,p=0,w=0;const S=new Array;for(let I=0;I<d;++I){const k=new Int32Array(1),P=new Int32Array(1);Jt.getNumDataBytesAndNumECBytesForBlockID(o,c,d,I,k,P);const G=k[0],K=new Uint8Array(G);s.toBytes(8*h,K,0,G);const Q=Jt.generateECBytes(K,P[0]);S.push(new r0(K,Q)),p=Math.max(p,G),w=Math.max(w,Q.length),h+=k[0]}if(c!==h)throw new Ht("Data bytes does not match offset");const _=new q;for(let I=0;I<p;++I)for(const k of S){const P=k.getDataBytes();I<P.length&&_.appendBits(P[I],8)}for(let I=0;I<w;++I)for(const k of S){const P=k.getErrorCorrectionBytes();I<P.length&&_.appendBits(P[I],8)}if(o!==_.getSizeInBytes())throw new Ht("Interleaving error: "+o+" and "+_.getSizeInBytes()+" differ.");return _}static generateECBytes(s,o){const c=s.length,d=new Int32Array(c+o);for(let p=0;p<c;p++)d[p]=s[p]&255;new Hc(Je.QR_CODE_FIELD_256).encode(d,o);const h=new Uint8Array(o);for(let p=0;p<o;p++)h[p]=d[c+p];return h}static appendModeInfo(s,o){o.appendBits(s.getBits(),4)}static appendLengthInfo(s,o,c,d){const h=c.getCharacterCountBits(o);if(s>=1<<h)throw new Ht(s+" is bigger than "+((1<<h)-1));d.appendBits(s,h)}static appendBytes(s,o,c,d){switch(o){case qe.NUMERIC:Jt.appendNumericBytes(s,c);break;case qe.ALPHANUMERIC:Jt.appendAlphanumericBytes(s,c);break;case qe.BYTE:Jt.append8BitBytes(s,c,d);break;case qe.KANJI:Jt.appendKanjiBytes(s,c);break;default:throw new Ht("Invalid mode: "+o)}}static getDigit(s){return s.charCodeAt(0)-48}static isDigit(s){const o=Jt.getDigit(s);return o>=0&&o<=9}static appendNumericBytes(s,o){const c=s.length;let d=0;for(;d<c;){const h=Jt.getDigit(s.charAt(d));if(d+2<c){const p=Jt.getDigit(s.charAt(d+1)),w=Jt.getDigit(s.charAt(d+2));o.appendBits(h*100+p*10+w,10),d+=3}else if(d+1<c){const p=Jt.getDigit(s.charAt(d+1));o.appendBits(h*10+p,7),d+=2}else o.appendBits(h,4),d++}}static appendAlphanumericBytes(s,o){const c=s.length;let d=0;for(;d<c;){const h=Jt.getAlphanumericCode(s.charCodeAt(d));if(h===-1)throw new Ht;if(d+1<c){const p=Jt.getAlphanumericCode(s.charCodeAt(d+1));if(p===-1)throw new Ht;o.appendBits(h*45+p,11),d+=2}else o.appendBits(h,6),d++}}static append8BitBytes(s,o,c){let d;try{d=ke.encode(s,c)}catch(h){throw new Ht(h)}for(let h=0,p=d.length;h!==p;h++){const w=d[h];o.appendBits(w,8)}}static appendKanjiBytes(s,o){let c;try{c=ke.encode(s,ee.SJIS)}catch(h){throw new Ht(h)}const d=c.length;for(let h=0;h<d;h+=2){const p=c[h]&255,w=c[h+1]&255,S=p<<8&4294967295|w;let _=-1;if(S>=33088&&S<=40956?_=S-33088:S>=57408&&S<=60351&&(_=S-49472),_===-1)throw new Ht("Invalid byte sequence");const I=(_>>8)*192+(_&255);o.appendBits(I,13)}}static appendECI(s,o){o.appendBits(qe.ECI.getBits(),4),o.appendBits(s.getValue(),8)}}Jt.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),Jt.DEFAULT_BYTE_MODE_ENCODING=ee.UTF8.getName();class Sr{write(s,o,c,d=null){if(s.length===0)throw new C("Found empty contents");if(o<0||c<0)throw new C("Requested dimensions are too small: "+o+"x"+c);let h=Ut.L,p=Sr.QUIET_ZONE_SIZE;d!==null&&(d.get(In.ERROR_CORRECTION)!==void 0&&(h=Ut.fromString(d.get(In.ERROR_CORRECTION).toString())),d.get(In.MARGIN)!==void 0&&(p=Number.parseInt(d.get(In.MARGIN).toString(),10)));const w=Jt.encode(s,h,d);return this.renderResult(w,o,c,p)}writeToDom(s,o,c,d,h=null){typeof s=="string"&&(s=document.querySelector(s));const p=this.write(o,c,d,h);s&&s.appendChild(p)}renderResult(s,o,c,d){const h=s.getMatrix();if(h===null)throw new Ai;const p=h.getWidth(),w=h.getHeight(),S=p+d*2,_=w+d*2,I=Math.max(o,S),k=Math.max(c,_),P=Math.min(Math.floor(I/S),Math.floor(k/_)),G=Math.floor((I-p*P)/2),K=Math.floor((k-w*P)/2),Q=this.createSVGElement(I,k);for(let ae=0,he=K;ae<w;ae++,he+=P)for(let Ie=0,De=G;Ie<p;Ie++,De+=P)if(h.get(Ie,ae)===1){const Re=this.createSvgRectElement(De,he,P,P);Q.appendChild(Re)}return Q}createSVGElement(s,o){const c=document.createElementNS(Sr.SVG_NS,"svg");return c.setAttributeNS(null,"height",s.toString()),c.setAttributeNS(null,"width",o.toString()),c}createSvgRectElement(s,o,c,d){const h=document.createElementNS(Sr.SVG_NS,"rect");return h.setAttributeNS(null,"x",s.toString()),h.setAttributeNS(null,"y",o.toString()),h.setAttributeNS(null,"height",c.toString()),h.setAttributeNS(null,"width",d.toString()),h.setAttributeNS(null,"fill","#000000"),h}}Sr.QUIET_ZONE_SIZE=4,Sr.SVG_NS="http://www.w3.org/2000/svg";class oa{encode(s,o,c,d,h){if(s.length===0)throw new C("Found empty contents");if(o!==we.QR_CODE)throw new C("Can only encode QR_CODE, but got "+o);if(c<0||d<0)throw new C(`Requested dimensions are too small: ${c}x${d}`);let p=Ut.L,w=oa.QUIET_ZONE_SIZE;h!==null&&(h.get(In.ERROR_CORRECTION)!==void 0&&(p=Ut.fromString(h.get(In.ERROR_CORRECTION).toString())),h.get(In.MARGIN)!==void 0&&(w=Number.parseInt(h.get(In.MARGIN).toString(),10)));const S=Jt.encode(s,p,h);return oa.renderResult(S,c,d,w)}static renderResult(s,o,c,d){const h=s.getMatrix();if(h===null)throw new Ai;const p=h.getWidth(),w=h.getHeight(),S=p+d*2,_=w+d*2,I=Math.max(o,S),k=Math.max(c,_),P=Math.min(Math.floor(I/S),Math.floor(k/_)),G=Math.floor((I-p*P)/2),K=Math.floor((k-w*P)/2),Q=new Be(I,k);for(let ae=0,he=K;ae<w;ae++,he+=P)for(let Ie=0,De=G;Ie<p;Ie++,De+=P)h.get(Ie,ae)===1&&Q.setRegion(De,he,P,P);return Q}}oa.QUIET_ZONE_SIZE=4;class a0{encode(s,o,c,d,h){let p;switch(o){case we.QR_CODE:p=new oa;break;default:throw new C("No encoder available for format "+o)}return p.encode(s,o,c,d,h)}}class cs extends Le{constructor(s,o,c,d,h,p,w,S){if(super(p,w),this.yuvData=s,this.dataWidth=o,this.dataHeight=c,this.left=d,this.top=h,d+p>o||h+w>c)throw new C("Crop rectangle does not fit within image data.");S&&this.reverseHorizontal(p,w)}getRow(s,o){if(s<0||s>=this.getHeight())throw new C("Requested row is outside the image: "+s);const c=this.getWidth();(o==null||o.length<c)&&(o=new Uint8ClampedArray(c));const d=(s+this.top)*this.dataWidth+this.left;return B.arraycopy(this.yuvData,d,o,0,c),o}getMatrix(){const s=this.getWidth(),o=this.getHeight();if(s===this.dataWidth&&o===this.dataHeight)return this.yuvData;const c=s*o,d=new Uint8ClampedArray(c);let h=this.top*this.dataWidth+this.left;if(s===this.dataWidth)return B.arraycopy(this.yuvData,h,d,0,c),d;for(let p=0;p<o;p++){const w=p*s;B.arraycopy(this.yuvData,h,d,w,s),h+=this.dataWidth}return d}isCropSupported(){return!0}crop(s,o,c,d){return new cs(this.yuvData,this.dataWidth,this.dataHeight,this.left+s,this.top+o,c,d,!1)}renderThumbnail(){const s=this.getWidth()/cs.THUMBNAIL_SCALE_FACTOR,o=this.getHeight()/cs.THUMBNAIL_SCALE_FACTOR,c=new Int32Array(s*o),d=this.yuvData;let h=this.top*this.dataWidth+this.left;for(let p=0;p<o;p++){const w=p*s;for(let S=0;S<s;S++){const _=d[h+S*cs.THUMBNAIL_SCALE_FACTOR]&255;c[w+S]=4278190080|_*65793}h+=this.dataWidth*cs.THUMBNAIL_SCALE_FACTOR}return c}getThumbnailWidth(){return this.getWidth()/cs.THUMBNAIL_SCALE_FACTOR}getThumbnailHeight(){return this.getHeight()/cs.THUMBNAIL_SCALE_FACTOR}reverseHorizontal(s,o){const c=this.yuvData;for(let d=0,h=this.top*this.dataWidth+this.left;d<o;d++,h+=this.dataWidth){const p=h+s/2;for(let w=h,S=h+s-1;w<p;w++,S--){const _=c[w];c[w]=c[S],c[S]=_}}}invert(){return new ze(this)}}cs.THUMBNAIL_SCALE_FACTOR=2;class xo extends Le{constructor(s,o,c,d,h,p,w){if(super(o,c),this.dataWidth=d,this.dataHeight=h,this.left=p,this.top=w,s.BYTES_PER_ELEMENT===4){const S=o*c,_=new Uint8ClampedArray(S);for(let I=0;I<S;I++){const k=s[I],P=k>>16&255,G=k>>7&510,K=k&255;_[I]=(P+G+K)/4&255}this.luminances=_}else this.luminances=s;if(d===void 0&&(this.dataWidth=o),h===void 0&&(this.dataHeight=c),p===void 0&&(this.left=0),w===void 0&&(this.top=0),this.left+o>this.dataWidth||this.top+c>this.dataHeight)throw new C("Crop rectangle does not fit within image data.")}getRow(s,o){if(s<0||s>=this.getHeight())throw new C("Requested row is outside the image: "+s);const c=this.getWidth();(o==null||o.length<c)&&(o=new Uint8ClampedArray(c));const d=(s+this.top)*this.dataWidth+this.left;return B.arraycopy(this.luminances,d,o,0,c),o}getMatrix(){const s=this.getWidth(),o=this.getHeight();if(s===this.dataWidth&&o===this.dataHeight)return this.luminances;const c=s*o,d=new Uint8ClampedArray(c);let h=this.top*this.dataWidth+this.left;if(s===this.dataWidth)return B.arraycopy(this.luminances,h,d,0,c),d;for(let p=0;p<o;p++){const w=p*s;B.arraycopy(this.luminances,h,d,w,s),h+=this.dataWidth}return d}isCropSupported(){return!0}crop(s,o,c,d){return new xo(this.luminances,c,d,this.dataWidth,this.dataHeight,this.left+s,this.top+o)}invert(){return new ze(this)}}class la extends ee{static forName(s){return this.getCharacterSetECIByName(s)}}class $c{}$c.ISO_8859_1=ee.ISO8859_1;class Gc{isCompact(){return this.compact}setCompact(s){this.compact=s}getSize(){return this.size}setSize(s){this.size=s}getLayers(){return this.layers}setLayers(s){this.layers=s}getCodeWords(){return this.codeWords}setCodeWords(s){this.codeWords=s}getMatrix(){return this.matrix}setMatrix(s){this.matrix=s}}class qc{static singletonList(s){return[s]}static min(s,o){return s.sort(o)[0]}}class zf{constructor(s){this.previous=s}getPrevious(){return this.previous}}class Cr extends zf{constructor(s,o,c){super(s),this.value=o,this.bitCount=c}appendTo(s,o){s.appendBits(this.value,this.bitCount)}add(s,o){return new Cr(this,s,o)}addBinaryShift(s,o){return console.warn("addBinaryShift on SimpleToken, this simply returns a copy of this token"),new Cr(this,s,o)}toString(){let s=this.value&(1<<this.bitCount)-1;return s|=1<<this.bitCount,"<"+U.toBinaryString(s|1<<this.bitCount).substring(1)+">"}}class wl extends Cr{constructor(s,o,c){super(s,0,0),this.binaryShiftStart=o,this.binaryShiftByteCount=c}appendTo(s,o){for(let c=0;c<this.binaryShiftByteCount;c++)(c===0||c===31&&this.binaryShiftByteCount<=62)&&(s.appendBits(31,5),this.binaryShiftByteCount>62?s.appendBits(this.binaryShiftByteCount-31,16):c===0?s.appendBits(Math.min(this.binaryShiftByteCount,31),5):s.appendBits(this.binaryShiftByteCount-31,5)),s.appendBits(o[this.binaryShiftStart+c],8)}addBinaryShift(s,o){return new wl(this,s,o)}toString(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"}}function ca(L,s,o){return new wl(L,s,o)}function yo(L,s,o){return new Cr(L,s,o)}const o0=["UPPER","LOWER","DIGIT","MIXED","PUNCT"],nr=0,bo=1,_i=2,ua=3,pi=4,l0=new Cr(null,0,0),fa=[Int32Array.from([0,(5<<16)+28,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(9<<16)+480+14,0,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(4<<16)+14,(9<<16)+448+28,0,(9<<16)+448+29,932798]),Int32Array.from([(5<<16)+29,(5<<16)+28,656318,0,(5<<16)+30]),Int32Array.from([(5<<16)+31,656380,656382,656381,0])];function Hf(L){for(let s of L)$.fill(s,-1);return L[nr][pi]=0,L[bo][pi]=0,L[bo][nr]=28,L[ua][pi]=0,L[_i][pi]=0,L[_i][nr]=15,L}const Yc=Hf($.createInt32Array(6,6));class ji{constructor(s,o,c,d){this.token=s,this.mode=o,this.binaryShiftByteCount=c,this.bitCount=d}getMode(){return this.mode}getToken(){return this.token}getBinaryShiftByteCount(){return this.binaryShiftByteCount}getBitCount(){return this.bitCount}latchAndAppend(s,o){let c=this.bitCount,d=this.token;if(s!==this.mode){let p=fa[this.mode][s];d=yo(d,p&65535,p>>16),c+=p>>16}let h=s===_i?4:5;return d=yo(d,o,h),new ji(d,s,0,c+h)}shiftAndAppend(s,o){let c=this.token,d=this.mode===_i?4:5;return c=yo(c,Yc[this.mode][s],d),c=yo(c,o,5),new ji(c,this.mode,0,this.bitCount+d+5)}addBinaryShiftChar(s){let o=this.token,c=this.mode,d=this.bitCount;if(this.mode===pi||this.mode===_i){let w=fa[c][nr];o=yo(o,w&65535,w>>16),d+=w>>16,c=nr}let h=this.binaryShiftByteCount===0||this.binaryShiftByteCount===31?18:this.binaryShiftByteCount===62?9:8,p=new ji(o,c,this.binaryShiftByteCount+1,d+h);return p.binaryShiftByteCount===2078&&(p=p.endBinaryShift(s+1)),p}endBinaryShift(s){if(this.binaryShiftByteCount===0)return this;let o=this.token;return o=ca(o,s-this.binaryShiftByteCount,this.binaryShiftByteCount),new ji(o,this.mode,0,this.bitCount)}isBetterThanOrEqualTo(s){let o=this.bitCount+(fa[this.mode][s.mode]>>16);return this.binaryShiftByteCount<s.binaryShiftByteCount?o+=ji.calculateBinaryShiftCost(s)-ji.calculateBinaryShiftCost(this):this.binaryShiftByteCount>s.binaryShiftByteCount&&s.binaryShiftByteCount>0&&(o+=10),o<=s.bitCount}toBitArray(s){let o=[];for(let d=this.endBinaryShift(s.length).token;d!==null;d=d.getPrevious())o.unshift(d);let c=new q;for(const d of o)d.appendTo(c,s);return c}toString(){return be.format("%s bits=%d bytes=%d",o0[this.mode],this.bitCount,this.binaryShiftByteCount)}static calculateBinaryShiftCost(s){return s.binaryShiftByteCount>62?21:s.binaryShiftByteCount>31?20:s.binaryShiftByteCount>0?10:0}}ji.INITIAL_STATE=new ji(l0,nr,0,0);function Xc(L){const s=be.getCharCode(" "),o=be.getCharCode("."),c=be.getCharCode(",");L[nr][s]=1;const d=be.getCharCode("Z"),h=be.getCharCode("A");for(let P=h;P<=d;P++)L[nr][P]=P-h+2;L[bo][s]=1;const p=be.getCharCode("z"),w=be.getCharCode("a");for(let P=w;P<=p;P++)L[bo][P]=P-w+2;L[_i][s]=1;const S=be.getCharCode("9"),_=be.getCharCode("0");for(let P=_;P<=S;P++)L[_i][P]=P-_+2;L[_i][c]=12,L[_i][o]=13;const I=["\0"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~",""];for(let P=0;P<I.length;P++)L[ua][be.getCharCode(I[P])]=P;const k=["\0","\r","\0","\0","\0","\0","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"];for(let P=0;P<k.length;P++)be.getCharCode(k[P])>0&&(L[pi][be.getCharCode(k[P])]=P);return L}const vl=Xc($.createInt32Array(5,256));class da{constructor(s){this.text=s}encode(){const s=be.getCharCode(" "),o=be.getCharCode(`
`);let c=qc.singletonList(ji.INITIAL_STATE);for(let h=0;h<this.text.length;h++){let p,w=h+1<this.text.length?this.text[h+1]:0;switch(this.text[h]){case be.getCharCode("\r"):p=w===o?2:0;break;case be.getCharCode("."):p=w===s?3:0;break;case be.getCharCode(","):p=w===s?4:0;break;case be.getCharCode(":"):p=w===s?5:0;break;default:p=0}p>0?(c=da.updateStateListForPair(c,h,p),h++):c=this.updateStateListForChar(c,h)}return qc.min(c,(h,p)=>h.getBitCount()-p.getBitCount()).toBitArray(this.text)}updateStateListForChar(s,o){const c=[];for(let d of s)this.updateStateForChar(d,o,c);return da.simplifyStates(c)}updateStateForChar(s,o,c){let d=this.text[o]&255,h=vl[s.getMode()][d]>0,p=null;for(let w=0;w<=pi;w++){let S=vl[w][d];if(S>0){if(p==null&&(p=s.endBinaryShift(o)),!h||w===s.getMode()||w===_i){const _=p.latchAndAppend(w,S);c.push(_)}if(!h&&Yc[s.getMode()][w]>=0){const _=p.shiftAndAppend(w,S);c.push(_)}}}if(s.getBinaryShiftByteCount()>0||vl[s.getMode()][d]===0){let w=s.addBinaryShiftChar(o);c.push(w)}}static updateStateListForPair(s,o,c){const d=[];for(let h of s)this.updateStateForPair(h,o,c,d);return this.simplifyStates(d)}static updateStateForPair(s,o,c,d){let h=s.endBinaryShift(o);if(d.push(h.latchAndAppend(pi,c)),s.getMode()!==pi&&d.push(h.shiftAndAppend(pi,c)),c===3||c===4){let p=h.latchAndAppend(_i,16-c).latchAndAppend(_i,1);d.push(p)}if(s.getBinaryShiftByteCount()>0){let p=s.addBinaryShiftChar(o).addBinaryShiftChar(o+1);d.push(p)}}static simplifyStates(s){let o=[];for(const c of s){let d=!0;for(const h of o){if(h.isBetterThanOrEqualTo(c)){d=!1;break}c.isBetterThanOrEqualTo(h)&&(o=o.filter(p=>p!==h))}d&&o.push(c)}return o}}class At{constructor(){}static encodeBytes(s){return At.encode(s,At.DEFAULT_EC_PERCENT,At.DEFAULT_AZTEC_LAYERS)}static encode(s,o,c){let d=new da(s).encode(),h=U.truncDivision(d.getSize()*o,100)+11,p=d.getSize()+h,w,S,_,I,k;if(c!==At.DEFAULT_AZTEC_LAYERS){if(w=c<0,S=Math.abs(c),S>(w?At.MAX_NB_BITS_COMPACT:At.MAX_NB_BITS))throw new C(be.format("Illegal value %s for layers",c));_=At.totalBitsInLayer(S,w),I=At.WORD_SIZE[S];let Re=_-_%I;if(k=At.stuffBits(d,I),k.getSize()+h>Re)throw new C("Data to large for user specified layer");if(w&&k.getSize()>I*64)throw new C("Data to large for user specified layer")}else{I=0,k=null;for(let Re=0;;Re++){if(Re>At.MAX_NB_BITS)throw new C("Data too large for an Aztec code");if(w=Re<=3,S=w?Re+1:Re,_=At.totalBitsInLayer(S,w),p>_)continue;(k==null||I!==At.WORD_SIZE[S])&&(I=At.WORD_SIZE[S],k=At.stuffBits(d,I));let ot=_-_%I;if(!(w&&k.getSize()>I*64)&&k.getSize()+h<=ot)break}}let P=At.generateCheckWords(k,_,I),G=k.getSize()/I,K=At.generateModeMessage(w,S,G),Q=(w?11:14)+S*4,ae=new Int32Array(Q),he;if(w){he=Q;for(let Re=0;Re<ae.length;Re++)ae[Re]=Re}else{he=Q+1+2*U.truncDivision(U.truncDivision(Q,2)-1,15);let Re=U.truncDivision(Q,2),ot=U.truncDivision(he,2);for(let rt=0;rt<Re;rt++){let li=rt+U.truncDivision(rt,15);ae[Re-rt-1]=ot-li-1,ae[Re+rt]=ot+li+1}}let Ie=new Be(he);for(let Re=0,ot=0;Re<S;Re++){let rt=(S-Re)*4+(w?9:12);for(let li=0;li<rt;li++){let Bi=li*2;for(let xi=0;xi<2;xi++)P.get(ot+Bi+xi)&&Ie.set(ae[Re*2+xi],ae[Re*2+li]),P.get(ot+rt*2+Bi+xi)&&Ie.set(ae[Re*2+li],ae[Q-1-Re*2-xi]),P.get(ot+rt*4+Bi+xi)&&Ie.set(ae[Q-1-Re*2-xi],ae[Q-1-Re*2-li]),P.get(ot+rt*6+Bi+xi)&&Ie.set(ae[Q-1-Re*2-li],ae[Re*2+xi])}ot+=rt*8}if(At.drawModeMessage(Ie,w,he,K),w)At.drawBullsEye(Ie,U.truncDivision(he,2),5);else{At.drawBullsEye(Ie,U.truncDivision(he,2),7);for(let Re=0,ot=0;Re<U.truncDivision(Q,2)-1;Re+=15,ot+=16)for(let rt=U.truncDivision(he,2)&1;rt<he;rt+=2)Ie.set(U.truncDivision(he,2)-ot,rt),Ie.set(U.truncDivision(he,2)+ot,rt),Ie.set(rt,U.truncDivision(he,2)-ot),Ie.set(rt,U.truncDivision(he,2)+ot)}let De=new Gc;return De.setCompact(w),De.setSize(he),De.setLayers(S),De.setCodeWords(G),De.setMatrix(Ie),De}static drawBullsEye(s,o,c){for(let d=0;d<c;d+=2)for(let h=o-d;h<=o+d;h++)s.set(h,o-d),s.set(h,o+d),s.set(o-d,h),s.set(o+d,h);s.set(o-c,o-c),s.set(o-c+1,o-c),s.set(o-c,o-c+1),s.set(o+c,o-c),s.set(o+c,o-c+1),s.set(o+c,o+c-1)}static generateModeMessage(s,o,c){let d=new q;return s?(d.appendBits(o-1,2),d.appendBits(c-1,6),d=At.generateCheckWords(d,28,4)):(d.appendBits(o-1,5),d.appendBits(c-1,11),d=At.generateCheckWords(d,40,4)),d}static drawModeMessage(s,o,c,d){let h=U.truncDivision(c,2);if(o)for(let p=0;p<7;p++){let w=h-3+p;d.get(p)&&s.set(w,h-5),d.get(p+7)&&s.set(h+5,w),d.get(20-p)&&s.set(w,h+5),d.get(27-p)&&s.set(h-5,w)}else for(let p=0;p<10;p++){let w=h-5+p+U.truncDivision(p,5);d.get(p)&&s.set(w,h-7),d.get(p+10)&&s.set(h+7,w),d.get(29-p)&&s.set(w,h+7),d.get(39-p)&&s.set(h-7,w)}}static generateCheckWords(s,o,c){let d=s.getSize()/c,h=new Hc(At.getGF(c)),p=U.truncDivision(o,c),w=At.bitsToWords(s,c,p);h.encode(w,p-d);let S=o%c,_=new q;_.appendBits(0,S);for(const I of Array.from(w))_.appendBits(I,c);return _}static bitsToWords(s,o,c){let d=new Int32Array(c),h,p;for(h=0,p=s.getSize()/o;h<p;h++){let w=0;for(let S=0;S<o;S++)w|=s.get(h*o+S)?1<<o-S-1:0;d[h]=w}return d}static getGF(s){switch(s){case 4:return Je.AZTEC_PARAM;case 6:return Je.AZTEC_DATA_6;case 8:return Je.AZTEC_DATA_8;case 10:return Je.AZTEC_DATA_10;case 12:return Je.AZTEC_DATA_12;default:throw new C("Unsupported word size "+s)}}static stuffBits(s,o){let c=new q,d=s.getSize(),h=(1<<o)-2;for(let p=0;p<d;p+=o){let w=0;for(let S=0;S<o;S++)(p+S>=d||s.get(p+S))&&(w|=1<<o-1-S);(w&h)===h?(c.appendBits(w&h,o),p--):(w&h)===0?(c.appendBits(w|1,o),p--):c.appendBits(w,o)}return c}static totalBitsInLayer(s,o){return((o?88:112)+16*s)*s}}At.DEFAULT_EC_PERCENT=33,At.DEFAULT_AZTEC_LAYERS=0,At.MAX_NB_BITS=32,At.MAX_NB_BITS_COMPACT=4,At.WORD_SIZE=Int32Array.from([4,6,6,8,8,8,8,8,8,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,12,12,12,12,12]);class El{encode(s,o,c,d){return this.encodeWithHints(s,o,c,d,null)}encodeWithHints(s,o,c,d,h){let p=$c.ISO_8859_1,w=At.DEFAULT_EC_PERCENT,S=At.DEFAULT_AZTEC_LAYERS;return h!=null&&(h.has(In.CHARACTER_SET)&&(p=la.forName(h.get(In.CHARACTER_SET).toString())),h.has(In.ERROR_CORRECTION)&&(w=U.parseInt(h.get(In.ERROR_CORRECTION).toString())),h.has(In.AZTEC_LAYERS)&&(S=U.parseInt(h.get(In.AZTEC_LAYERS).toString()))),El.encodeLayers(s,o,c,d,p,w,S)}static encodeLayers(s,o,c,d,h,p,w){if(o!==we.AZTEC)throw new C("Can only encode AZTEC, but got "+o);let S=At.encode(be.getBytes(s,h),p,w);return El.renderResult(S,c,d)}static renderResult(s,o,c){let d=s.getMatrix();if(d==null)throw new Ai;let h=d.getWidth(),p=d.getHeight(),w=Math.max(o,h),S=Math.max(c,p),_=Math.min(w/h,S/p),I=(w-h*_)/2,k=(S-p*_)/2,P=new Be(w,S);for(let G=0,K=k;G<p;G++,K+=_)for(let Q=0,ae=I;Q<h;Q++,ae+=_)d.get(Q,G)&&P.setRegion(ae,K,_,_);return P}}n.AbstractExpandedDecoder=co,n.ArgumentException=E,n.ArithmeticException=st,n.AztecCode=Gc,n.AztecCodeReader=sn,n.AztecCodeWriter=El,n.AztecDecoder=jt,n.AztecDetector=As,n.AztecDetectorResult=It,n.AztecEncoder=At,n.AztecHighLevelEncoder=da,n.AztecPoint=Tt,n.BarcodeFormat=we,n.Binarizer=M,n.BinaryBitmap=N,n.BitArray=q,n.BitMatrix=Be,n.BitSource=gi,n.BrowserAztecCodeReader=ll,n.BrowserBarcodeReader=Bf,n.BrowserCodeReader=ye,n.BrowserDatamatrixCodeReader=Qh,n.BrowserMultiFormatReader=n0,n.BrowserPDF417Reader=i0,n.BrowserQRCodeReader=s0,n.BrowserQRCodeSvgWriter=Sr,n.CharacterSetECI=ee,n.ChecksumException=O,n.Code128Reader=Oe,n.Code39Reader=Pt,n.DataMatrixDecodedBitStreamParser=Xs,n.DataMatrixReader=Ki,n.DecodeHintType=ne,n.DecoderResult=He,n.DefaultGridSampler=un,n.DetectorResult=gt,n.EAN13Reader=Xi,n.EncodeHintType=In,n.Exception=x,n.FormatException=X,n.GenericGF=Je,n.GenericGFPoly=ht,n.GlobalHistogramBinarizer=se,n.GridSampler=Qn,n.GridSamplerInstance=bn,n.HTMLCanvasElementLuminanceSource=z,n.HybridBinarizer=le,n.ITFReader=wt,n.IllegalArgumentException=C,n.IllegalStateException=Ai,n.InvertedLuminanceSource=ze,n.LuminanceSource=Le,n.MathUtils=Ee,n.MultiFormatOneDReader=Ys,n.MultiFormatReader=Vf,n.MultiFormatWriter=a0,n.NotFoundException=re,n.OneDReader=Xt,n.PDF417DecodedBitStreamParser=me,n.PDF417DecoderErrorCorrection=ho,n.PDF417Reader=qn,n.PDF417ResultMetadata=xl,n.PerspectiveTransform=nn,n.PlanarYUVLuminanceSource=cs,n.QRCodeByteMatrix=po,n.QRCodeDataMask=Gn,n.QRCodeDecodedBitStreamParser=ln,n.QRCodeDecoderErrorCorrectionLevel=Ut,n.QRCodeDecoderFormatInformation=$n,n.QRCodeEncoder=Jt,n.QRCodeEncoderQRCode=Er,n.QRCodeMaskUtil=dn,n.QRCodeMatrixUtil=We,n.QRCodeMode=qe,n.QRCodeReader=Ns,n.QRCodeVersion=Ge,n.QRCodeWriter=oa,n.RGBLuminanceSource=xo,n.RSS14Reader=Dt,n.RSSExpandedReader=_e,n.ReaderException=go,n.ReedSolomonDecoder=$s,n.ReedSolomonEncoder=Hc,n.ReedSolomonException=Di,n.Result=Me,n.ResultMetadataType=ve,n.ResultPoint=Ne,n.StringUtils=be,n.UnsupportedOperationException=pe,n.VideoInputDevice=te,n.WhiteRectangleDetector=Mt,n.WriterException=Ht,n.ZXingArrays=$,n.ZXingCharset=la,n.ZXingInteger=U,n.ZXingStandardCharsets=$c,n.ZXingStringBuilder=Ce,n.ZXingStringEncoding=ke,n.ZXingSystem=B,n.createAbstractExpandedDecoder=Fc,Object.defineProperty(n,"__esModule",{value:!0})})}(Yu,Yu.exports)),Yu.exports}var cn=jF();const BF=Im(cn),PF=l3({__proto__:null,default:BF},[cn]);var Uv=function(){function t(e,n,r){if(this.formatMap=new Map([[Ve.QR_CODE,cn.BarcodeFormat.QR_CODE],[Ve.AZTEC,cn.BarcodeFormat.AZTEC],[Ve.CODABAR,cn.BarcodeFormat.CODABAR],[Ve.CODE_39,cn.BarcodeFormat.CODE_39],[Ve.CODE_93,cn.BarcodeFormat.CODE_93],[Ve.CODE_128,cn.BarcodeFormat.CODE_128],[Ve.DATA_MATRIX,cn.BarcodeFormat.DATA_MATRIX],[Ve.MAXICODE,cn.BarcodeFormat.MAXICODE],[Ve.ITF,cn.BarcodeFormat.ITF],[Ve.EAN_13,cn.BarcodeFormat.EAN_13],[Ve.EAN_8,cn.BarcodeFormat.EAN_8],[Ve.PDF_417,cn.BarcodeFormat.PDF_417],[Ve.RSS_14,cn.BarcodeFormat.RSS_14],[Ve.RSS_EXPANDED,cn.BarcodeFormat.RSS_EXPANDED],[Ve.UPC_A,cn.BarcodeFormat.UPC_A],[Ve.UPC_E,cn.BarcodeFormat.UPC_E],[Ve.UPC_EAN_EXTENSION,cn.BarcodeFormat.UPC_EAN_EXTENSION]]),this.reverseFormatMap=this.createReverseFormatMap(),!PF)throw"Use html5qrcode.min.js without edit, ZXing not found.";this.verbose=n,this.logger=r;var l=this.createZXingFormats(e),u=new Map;u.set(cn.DecodeHintType.POSSIBLE_FORMATS,l),u.set(cn.DecodeHintType.TRY_HARDER,!1),this.hints=u}return t.prototype.decodeAsync=function(e){var n=this;return new Promise(function(r,l){try{r(n.decode(e))}catch(u){l(u)}})},t.prototype.decode=function(e){var n=new cn.MultiFormatReader(this.verbose,this.hints),r=new cn.HTMLCanvasElementLuminanceSource(e),l=new cn.BinaryBitmap(new cn.HybridBinarizer(r)),u=n.decode(l);return{text:u.text,format:vC.create(this.toHtml5QrcodeSupportedFormats(u.format)),debugData:this.createDebugData()}},t.prototype.createReverseFormatMap=function(){var e=new Map;return this.formatMap.forEach(function(n,r,l){e.set(n,r)}),e},t.prototype.toHtml5QrcodeSupportedFormats=function(e){if(!this.reverseFormatMap.has(e))throw"reverseFormatMap doesn't have ".concat(e);return this.reverseFormatMap.get(e)},t.prototype.createZXingFormats=function(e){for(var n=[],r=0,l=e;r<l.length;r++){var u=l[r];this.formatMap.has(u)?n.push(this.formatMap.get(u)):this.logger.logError("".concat(u," is not supported by")+"ZXingHtml5QrcodeShim")}return n},t.prototype.createDebugData=function(){return{decoderName:"zxing-js"}},t}(),UF=function(t,e,n,r){function l(u){return u instanceof n?u:new n(function(g){g(u)})}return new(n||(n=Promise))(function(u,g){function y(E){try{x(r.next(E))}catch(C){g(C)}}function b(E){try{x(r.throw(E))}catch(C){g(C)}}function x(E){E.done?u(E.value):l(E.value).then(y,b)}x((r=r.apply(t,e||[])).next())})},FF=function(t,e){var n={label:0,sent:function(){if(u[0]&1)throw u[1];return u[1]},trys:[],ops:[]},r,l,u,g;return g={next:y(0),throw:y(1),return:y(2)},typeof Symbol=="function"&&(g[Symbol.iterator]=function(){return this}),g;function y(x){return function(E){return b([x,E])}}function b(x){if(r)throw new TypeError("Generator is already executing.");for(;g&&(g=0,x[0]&&(n=0)),n;)try{if(r=1,l&&(u=x[0]&2?l.return:x[0]?l.throw||((u=l.return)&&u.call(l),0):l.next)&&!(u=u.call(l,x[1])).done)return u;switch(l=0,u&&(x=[x[0]&2,u.value]),x[0]){case 0:case 1:u=x;break;case 4:return n.label++,{value:x[1],done:!1};case 5:n.label++,l=x[1],x=[0];continue;case 7:x=n.ops.pop(),n.trys.pop();continue;default:if(u=n.trys,!(u=u.length>0&&u[u.length-1])&&(x[0]===6||x[0]===2)){n=0;continue}if(x[0]===3&&(!u||x[1]>u[0]&&x[1]<u[3])){n.label=x[1];break}if(x[0]===6&&n.label<u[1]){n.label=u[1],u=x;break}if(u&&n.label<u[2]){n.label=u[2],n.ops.push(x);break}u[2]&&n.ops.pop(),n.trys.pop();continue}x=e.call(t,n)}catch(E){x=[6,E],l=0}finally{r=u=0}if(x[0]&5)throw x[1];return{value:x[0]?x[1]:void 0,done:!0}}},Fv=function(){function t(e,n,r){if(this.formatMap=new Map([[Ve.QR_CODE,"qr_code"],[Ve.AZTEC,"aztec"],[Ve.CODABAR,"codabar"],[Ve.CODE_39,"code_39"],[Ve.CODE_93,"code_93"],[Ve.CODE_128,"code_128"],[Ve.DATA_MATRIX,"data_matrix"],[Ve.ITF,"itf"],[Ve.EAN_13,"ean_13"],[Ve.EAN_8,"ean_8"],[Ve.PDF_417,"pdf417"],[Ve.UPC_A,"upc_a"],[Ve.UPC_E,"upc_e"]]),this.reverseFormatMap=this.createReverseFormatMap(),!t.isSupported())throw"Use html5qrcode.min.js without edit, Use BarcodeDetectorDelegate only if it isSupported();";this.verbose=n,this.logger=r;var l=this.createBarcodeDetectorFormats(e);if(this.detector=new BarcodeDetector(l),!this.detector)throw"BarcodeDetector detector not supported"}return t.isSupported=function(){if(!("BarcodeDetector"in window))return!1;var e=new BarcodeDetector({formats:["qr_code"]});return typeof e<"u"},t.prototype.decodeAsync=function(e){return UF(this,void 0,void 0,function(){var n,r;return FF(this,function(l){switch(l.label){case 0:return[4,this.detector.detect(e)];case 1:if(n=l.sent(),!n||n.length===0)throw"No barcode or QR code detected.";return r=this.selectLargestBarcode(n),[2,{text:r.rawValue,format:vC.create(this.toHtml5QrcodeSupportedFormats(r.format)),debugData:this.createDebugData()}]}})})},t.prototype.selectLargestBarcode=function(e){for(var n=null,r=0,l=0,u=e;l<u.length;l++){var g=u[l],y=g.boundingBox.width*g.boundingBox.height;y>r&&(r=y,n=g)}if(!n)throw"No largest barcode found";return n},t.prototype.createBarcodeDetectorFormats=function(e){for(var n=[],r=0,l=e;r<l.length;r++){var u=l[r];this.formatMap.has(u)?n.push(this.formatMap.get(u)):this.logger.warn("".concat(u," is not supported by")+"BarcodeDetectorDelegate")}return{formats:n}},t.prototype.toHtml5QrcodeSupportedFormats=function(e){if(!this.reverseFormatMap.has(e))throw"reverseFormatMap doesn't have ".concat(e);return this.reverseFormatMap.get(e)},t.prototype.createReverseFormatMap=function(){var e=new Map;return this.formatMap.forEach(function(n,r,l){e.set(n,r)}),e},t.prototype.createDebugData=function(){return{decoderName:"BarcodeDetector"}},t}(),Vv=function(t,e,n,r){function l(u){return u instanceof n?u:new n(function(g){g(u)})}return new(n||(n=Promise))(function(u,g){function y(E){try{x(r.next(E))}catch(C){g(C)}}function b(E){try{x(r.throw(E))}catch(C){g(C)}}function x(E){E.done?u(E.value):l(E.value).then(y,b)}x((r=r.apply(t,e||[])).next())})},zv=function(t,e){var n={label:0,sent:function(){if(u[0]&1)throw u[1];return u[1]},trys:[],ops:[]},r,l,u,g;return g={next:y(0),throw:y(1),return:y(2)},typeof Symbol=="function"&&(g[Symbol.iterator]=function(){return this}),g;function y(x){return function(E){return b([x,E])}}function b(x){if(r)throw new TypeError("Generator is already executing.");for(;g&&(g=0,x[0]&&(n=0)),n;)try{if(r=1,l&&(u=x[0]&2?l.return:x[0]?l.throw||((u=l.return)&&u.call(l),0):l.next)&&!(u=u.call(l,x[1])).done)return u;switch(l=0,u&&(x=[x[0]&2,u.value]),x[0]){case 0:case 1:u=x;break;case 4:return n.label++,{value:x[1],done:!1};case 5:n.label++,l=x[1],x=[0];continue;case 7:x=n.ops.pop(),n.trys.pop();continue;default:if(u=n.trys,!(u=u.length>0&&u[u.length-1])&&(x[0]===6||x[0]===2)){n=0;continue}if(x[0]===3&&(!u||x[1]>u[0]&&x[1]<u[3])){n.label=x[1];break}if(x[0]===6&&n.label<u[1]){n.label=u[1],u=x;break}if(u&&n.label<u[2]){n.label=u[2],n.ops.push(x);break}u[2]&&n.ops.pop(),n.trys.pop();continue}x=e.call(t,n)}catch(E){x=[6,E],l=0}finally{r=u=0}if(x[0]&5)throw x[1];return{value:x[0]?x[1]:void 0,done:!0}}},VF=function(){function t(e,n,r,l){this.EXECUTIONS_TO_REPORT_PERFORMANCE=100,this.executions=0,this.executionResults=[],this.wasPrimaryDecoderUsedInLastDecode=!1,this.verbose=r,n&&Fv.isSupported()?(this.primaryDecoder=new Fv(e,r,l),this.secondaryDecoder=new Uv(e,r,l)):this.primaryDecoder=new Uv(e,r,l)}return t.prototype.decodeAsync=function(e){return Vv(this,void 0,void 0,function(){var n;return zv(this,function(r){switch(r.label){case 0:n=performance.now(),r.label=1;case 1:return r.trys.push([1,,3,4]),[4,this.getDecoder().decodeAsync(e)];case 2:return[2,r.sent()];case 3:return this.possiblyLogPerformance(n),[7];case 4:return[2]}})})},t.prototype.decodeRobustlyAsync=function(e){return Vv(this,void 0,void 0,function(){var n,r;return zv(this,function(l){switch(l.label){case 0:n=performance.now(),l.label=1;case 1:return l.trys.push([1,3,4,5]),[4,this.primaryDecoder.decodeAsync(e)];case 2:return[2,l.sent()];case 3:if(r=l.sent(),this.secondaryDecoder)return[2,this.secondaryDecoder.decodeAsync(e)];throw r;case 4:return this.possiblyLogPerformance(n),[7];case 5:return[2]}})})},t.prototype.getDecoder=function(){return this.secondaryDecoder?this.wasPrimaryDecoderUsedInLastDecode===!1?(this.wasPrimaryDecoderUsedInLastDecode=!0,this.primaryDecoder):(this.wasPrimaryDecoderUsedInLastDecode=!1,this.secondaryDecoder):this.primaryDecoder},t.prototype.possiblyLogPerformance=function(e){if(this.verbose){var n=performance.now()-e;this.executionResults.push(n),this.executions++,this.possiblyFlushPerformanceReport()}},t.prototype.possiblyFlushPerformanceReport=function(){if(!(this.executions<this.EXECUTIONS_TO_REPORT_PERFORMANCE)){for(var e=0,n=0,r=this.executionResults;n<r.length;n++){var l=r[n];e+=l}var u=e/this.executionResults.length;console.log("".concat(u," ms for ").concat(this.executionResults.length," last runs.")),this.executions=0,this.executionResults=[]}},t}(),jp=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,l){r.__proto__=l}||function(r,l){for(var u in l)Object.prototype.hasOwnProperty.call(l,u)&&(r[u]=l[u])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Mh=function(t,e,n,r){function l(u){return u instanceof n?u:new n(function(g){g(u)})}return new(n||(n=Promise))(function(u,g){function y(E){try{x(r.next(E))}catch(C){g(C)}}function b(E){try{x(r.throw(E))}catch(C){g(C)}}function x(E){E.done?u(E.value):l(E.value).then(y,b)}x((r=r.apply(t,e||[])).next())})},Dh=function(t,e){var n={label:0,sent:function(){if(u[0]&1)throw u[1];return u[1]},trys:[],ops:[]},r,l,u,g;return g={next:y(0),throw:y(1),return:y(2)},typeof Symbol=="function"&&(g[Symbol.iterator]=function(){return this}),g;function y(x){return function(E){return b([x,E])}}function b(x){if(r)throw new TypeError("Generator is already executing.");for(;g&&(g=0,x[0]&&(n=0)),n;)try{if(r=1,l&&(u=x[0]&2?l.return:x[0]?l.throw||((u=l.return)&&u.call(l),0):l.next)&&!(u=u.call(l,x[1])).done)return u;switch(l=0,u&&(x=[x[0]&2,u.value]),x[0]){case 0:case 1:u=x;break;case 4:return n.label++,{value:x[1],done:!1};case 5:n.label++,l=x[1],x=[0];continue;case 7:x=n.ops.pop(),n.trys.pop();continue;default:if(u=n.trys,!(u=u.length>0&&u[u.length-1])&&(x[0]===6||x[0]===2)){n=0;continue}if(x[0]===3&&(!u||x[1]>u[0]&&x[1]<u[3])){n.label=x[1];break}if(x[0]===6&&n.label<u[1]){n.label=u[1],u=x;break}if(u&&n.label<u[2]){n.label=u[2],n.ops.push(x);break}u[2]&&n.ops.pop(),n.trys.pop();continue}x=e.call(t,n)}catch(E){x=[6,E],l=0}finally{r=u=0}if(x[0]&5)throw x[1];return{value:x[0]?x[1]:void 0,done:!0}}},AC=function(){function t(e,n){this.name=e,this.track=n}return t.prototype.isSupported=function(){return this.track.getCapabilities?this.name in this.track.getCapabilities():!1},t.prototype.apply=function(e){var n={};n[this.name]=e;var r={advanced:[n]};return this.track.applyConstraints(r)},t.prototype.value=function(){var e=this.track.getSettings();if(this.name in e){var n=e[this.name];return n}return null},t}(),zF=function(t){jp(e,t);function e(n,r){return t.call(this,n,r)||this}return e.prototype.min=function(){return this.getCapabilities().min},e.prototype.max=function(){return this.getCapabilities().max},e.prototype.step=function(){return this.getCapabilities().step},e.prototype.apply=function(n){var r={};r[this.name]=n;var l={advanced:[r]};return this.track.applyConstraints(l)},e.prototype.getCapabilities=function(){this.failIfNotSupported();var n=this.track.getCapabilities(),r=n[this.name];return{min:r.min,max:r.max,step:r.step}},e.prototype.failIfNotSupported=function(){if(!this.isSupported())throw new Error("".concat(this.name," capability not supported"))},e}(AC),HF=function(t){jp(e,t);function e(n){return t.call(this,"zoom",n)||this}return e}(zF),$F=function(t){jp(e,t);function e(n){return t.call(this,"torch",n)||this}return e}(AC),GF=function(){function t(e){this.track=e}return t.prototype.zoomFeature=function(){return new HF(this.track)},t.prototype.torchFeature=function(){return new $F(this.track)},t}(),qF=function(){function t(e,n,r){this.isClosed=!1,this.parentElement=e,this.mediaStream=n,this.callbacks=r,this.surface=this.createVideoElement(this.parentElement.clientWidth),e.append(this.surface)}return t.prototype.createVideoElement=function(e){var n=document.createElement("video");return n.style.width="".concat(e,"px"),n.style.display="block",n.muted=!0,n.setAttribute("muted","true"),n.playsInline=!0,n},t.prototype.setupSurface=function(){var e=this;this.surface.onabort=function(){throw"RenderedCameraImpl video surface onabort() called"},this.surface.onerror=function(){throw"RenderedCameraImpl video surface onerror() called"};var n=function(){var r=e.surface.clientWidth,l=e.surface.clientHeight;e.callbacks.onRenderSurfaceReady(r,l),e.surface.removeEventListener("playing",n)};this.surface.addEventListener("playing",n),this.surface.srcObject=this.mediaStream,this.surface.play()},t.create=function(e,n,r,l){return Mh(this,void 0,void 0,function(){var u,g;return Dh(this,function(y){switch(y.label){case 0:return u=new t(e,n,l),r.aspectRatio?(g={aspectRatio:r.aspectRatio},[4,u.getFirstTrackOrFail().applyConstraints(g)]):[3,2];case 1:y.sent(),y.label=2;case 2:return u.setupSurface(),[2,u]}})})},t.prototype.failIfClosed=function(){if(this.isClosed)throw"The RenderedCamera has already been closed."},t.prototype.getFirstTrackOrFail=function(){if(this.failIfClosed(),this.mediaStream.getVideoTracks().length===0)throw"No video tracks found";return this.mediaStream.getVideoTracks()[0]},t.prototype.pause=function(){this.failIfClosed(),this.surface.pause()},t.prototype.resume=function(e){this.failIfClosed();var n=this,r=function(){setTimeout(e,200),n.surface.removeEventListener("playing",r)};this.surface.addEventListener("playing",r),this.surface.play()},t.prototype.isPaused=function(){return this.failIfClosed(),this.surface.paused},t.prototype.getSurface=function(){return this.failIfClosed(),this.surface},t.prototype.getRunningTrackCapabilities=function(){return this.getFirstTrackOrFail().getCapabilities()},t.prototype.getRunningTrackSettings=function(){return this.getFirstTrackOrFail().getSettings()},t.prototype.applyVideoConstraints=function(e){return Mh(this,void 0,void 0,function(){return Dh(this,function(n){if("aspectRatio"in e)throw"Changing 'aspectRatio' in run-time is not yet supported.";return[2,this.getFirstTrackOrFail().applyConstraints(e)]})})},t.prototype.close=function(){if(this.isClosed)return Promise.resolve();var e=this;return new Promise(function(n,r){var l=e.mediaStream.getVideoTracks(),u=l.length,g=0;e.mediaStream.getVideoTracks().forEach(function(y){e.mediaStream.removeTrack(y),y.stop(),++g,g>=u&&(e.isClosed=!0,e.parentElement.removeChild(e.surface),n())})})},t.prototype.getCapabilities=function(){return new GF(this.getFirstTrackOrFail())},t}(),YF=function(){function t(e){this.mediaStream=e}return t.prototype.render=function(e,n,r){return Mh(this,void 0,void 0,function(){return Dh(this,function(l){return[2,qF.create(e,this.mediaStream,n,r)]})})},t.create=function(e){return Mh(this,void 0,void 0,function(){var n,r;return Dh(this,function(l){switch(l.label){case 0:if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return n={audio:!1,video:e},[4,navigator.mediaDevices.getUserMedia(n)];case 1:return r=l.sent(),[2,new t(r)]}})})},t}(),Hv=function(t,e,n,r){function l(u){return u instanceof n?u:new n(function(g){g(u)})}return new(n||(n=Promise))(function(u,g){function y(E){try{x(r.next(E))}catch(C){g(C)}}function b(E){try{x(r.throw(E))}catch(C){g(C)}}function x(E){E.done?u(E.value):l(E.value).then(y,b)}x((r=r.apply(t,e||[])).next())})},$v=function(t,e){var n={label:0,sent:function(){if(u[0]&1)throw u[1];return u[1]},trys:[],ops:[]},r,l,u,g;return g={next:y(0),throw:y(1),return:y(2)},typeof Symbol=="function"&&(g[Symbol.iterator]=function(){return this}),g;function y(x){return function(E){return b([x,E])}}function b(x){if(r)throw new TypeError("Generator is already executing.");for(;g&&(g=0,x[0]&&(n=0)),n;)try{if(r=1,l&&(u=x[0]&2?l.return:x[0]?l.throw||((u=l.return)&&u.call(l),0):l.next)&&!(u=u.call(l,x[1])).done)return u;switch(l=0,u&&(x=[x[0]&2,u.value]),x[0]){case 0:case 1:u=x;break;case 4:return n.label++,{value:x[1],done:!1};case 5:n.label++,l=x[1],x=[0];continue;case 7:x=n.ops.pop(),n.trys.pop();continue;default:if(u=n.trys,!(u=u.length>0&&u[u.length-1])&&(x[0]===6||x[0]===2)){n=0;continue}if(x[0]===3&&(!u||x[1]>u[0]&&x[1]<u[3])){n.label=x[1];break}if(x[0]===6&&n.label<u[1]){n.label=u[1],u=x;break}if(u&&n.label<u[2]){n.label=u[2],n.ops.push(x);break}u[2]&&n.ops.pop(),n.trys.pop();continue}x=e.call(t,n)}catch(E){x=[6,E],l=0}finally{r=u=0}if(x[0]&5)throw x[1];return{value:x[0]?x[1]:void 0,done:!0}}},XF=function(){function t(){}return t.failIfNotSupported=function(){return Hv(this,void 0,void 0,function(){return $v(this,function(e){if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return[2,new t]})})},t.prototype.create=function(e){return Hv(this,void 0,void 0,function(){return $v(this,function(n){return[2,YF.create(e)]})})},t}(),WF=function(t,e,n,r){function l(u){return u instanceof n?u:new n(function(g){g(u)})}return new(n||(n=Promise))(function(u,g){function y(E){try{x(r.next(E))}catch(C){g(C)}}function b(E){try{x(r.throw(E))}catch(C){g(C)}}function x(E){E.done?u(E.value):l(E.value).then(y,b)}x((r=r.apply(t,e||[])).next())})},KF=function(t,e){var n={label:0,sent:function(){if(u[0]&1)throw u[1];return u[1]},trys:[],ops:[]},r,l,u,g;return g={next:y(0),throw:y(1),return:y(2)},typeof Symbol=="function"&&(g[Symbol.iterator]=function(){return this}),g;function y(x){return function(E){return b([x,E])}}function b(x){if(r)throw new TypeError("Generator is already executing.");for(;g&&(g=0,x[0]&&(n=0)),n;)try{if(r=1,l&&(u=x[0]&2?l.return:x[0]?l.throw||((u=l.return)&&u.call(l),0):l.next)&&!(u=u.call(l,x[1])).done)return u;switch(l=0,u&&(x=[x[0]&2,u.value]),x[0]){case 0:case 1:u=x;break;case 4:return n.label++,{value:x[1],done:!1};case 5:n.label++,l=x[1],x=[0];continue;case 7:x=n.ops.pop(),n.trys.pop();continue;default:if(u=n.trys,!(u=u.length>0&&u[u.length-1])&&(x[0]===6||x[0]===2)){n=0;continue}if(x[0]===3&&(!u||x[1]>u[0]&&x[1]<u[3])){n.label=x[1];break}if(x[0]===6&&n.label<u[1]){n.label=u[1],u=x;break}if(u&&n.label<u[2]){n.label=u[2],n.ops.push(x);break}u[2]&&n.ops.pop(),n.trys.pop();continue}x=e.call(t,n)}catch(E){x=[6,E],l=0}finally{r=u=0}if(x[0]&5)throw x[1];return{value:x[0]?x[1]:void 0,done:!0}}},ZF=function(){function t(){}return t.retrieve=function(){if(navigator.mediaDevices)return t.getCamerasFromMediaDevices();var e=MediaStreamTrack;return MediaStreamTrack&&e.getSources?t.getCamerasFromMediaStreamTrack():t.rejectWithError()},t.rejectWithError=function(){var e=hc.unableToQuerySupportedDevices();return t.isHttpsOrLocalhost()||(e=hc.insecureContextCameraQueryError()),Promise.reject(e)},t.isHttpsOrLocalhost=function(){if(location.protocol==="https:")return!0;var e=location.host.split(":")[0];return e==="127.0.0.1"||e==="localhost"},t.getCamerasFromMediaDevices=function(){return WF(this,void 0,void 0,function(){var e,n,r,l,u,g,y;return KF(this,function(b){switch(b.label){case 0:return e=function(x){for(var E=x.getVideoTracks(),C=0,N=E;C<N.length;C++){var O=N[C];O.enabled=!1,O.stop(),x.removeTrack(O)}},[4,navigator.mediaDevices.getUserMedia({audio:!1,video:!0})];case 1:return n=b.sent(),[4,navigator.mediaDevices.enumerateDevices()];case 2:for(r=b.sent(),l=[],u=0,g=r;u<g.length;u++)y=g[u],y.kind==="videoinput"&&l.push({id:y.deviceId,label:y.label});return e(n),[2,l]}})})},t.getCamerasFromMediaStreamTrack=function(){return new Promise(function(e,n){var r=function(u){for(var g=[],y=0,b=u;y<b.length;y++){var x=b[y];x.kind==="video"&&g.push({id:x.id,label:x.label})}e(g)},l=MediaStreamTrack;l.getSources(r)})},t}(),Tn;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.NOT_STARTED=1]="NOT_STARTED",t[t.SCANNING=2]="SCANNING",t[t.PAUSED=3]="PAUSED"})(Tn||(Tn={}));var QF=function(){function t(){this.state=Tn.NOT_STARTED,this.onGoingTransactionNewState=Tn.UNKNOWN}return t.prototype.directTransition=function(e){this.failIfTransitionOngoing(),this.validateTransition(e),this.state=e},t.prototype.startTransition=function(e){return this.failIfTransitionOngoing(),this.validateTransition(e),this.onGoingTransactionNewState=e,this},t.prototype.execute=function(){if(this.onGoingTransactionNewState===Tn.UNKNOWN)throw"Transaction is already cancelled, cannot execute().";var e=this.onGoingTransactionNewState;this.onGoingTransactionNewState=Tn.UNKNOWN,this.directTransition(e)},t.prototype.cancel=function(){if(this.onGoingTransactionNewState===Tn.UNKNOWN)throw"Transaction is already cancelled, cannot cancel().";this.onGoingTransactionNewState=Tn.UNKNOWN},t.prototype.getState=function(){return this.state},t.prototype.failIfTransitionOngoing=function(){if(this.onGoingTransactionNewState!==Tn.UNKNOWN)throw"Cannot transition to a new state, already under transition"},t.prototype.validateTransition=function(e){switch(this.state){case Tn.UNKNOWN:throw"Transition from unknown is not allowed";case Tn.NOT_STARTED:this.failIfNewStateIs(e,[Tn.PAUSED]);break;case Tn.SCANNING:break;case Tn.PAUSED:break}},t.prototype.failIfNewStateIs=function(e,n){for(var r=0,l=n;r<l.length;r++){var u=l[r];if(e===u)throw"Cannot transition from ".concat(this.state," to ").concat(e)}},t}(),JF=function(){function t(e){this.stateManager=e}return t.prototype.startTransition=function(e){return this.stateManager.startTransition(e)},t.prototype.directTransition=function(e){this.stateManager.directTransition(e)},t.prototype.getState=function(){return this.stateManager.getState()},t.prototype.canScanFile=function(){return this.stateManager.getState()===Tn.NOT_STARTED},t.prototype.isScanning=function(){return this.stateManager.getState()!==Tn.NOT_STARTED},t.prototype.isStrictlyScanning=function(){return this.stateManager.getState()===Tn.SCANNING},t.prototype.isPaused=function(){return this.stateManager.getState()===Tn.PAUSED},t}(),eV=function(){function t(){}return t.create=function(){return new JF(new QF)},t}(),tV=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,l){r.__proto__=l}||function(r,l){for(var u in l)Object.prototype.hasOwnProperty.call(l,u)&&(r[u]=l[u])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),rs=function(t){tV(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.DEFAULT_WIDTH=300,e.DEFAULT_WIDTH_OFFSET=2,e.FILE_SCAN_MIN_HEIGHT=300,e.FILE_SCAN_HIDDEN_CANVAS_PADDING=100,e.MIN_QR_BOX_SIZE=50,e.SHADED_LEFT=1,e.SHADED_RIGHT=2,e.SHADED_TOP=3,e.SHADED_BOTTOM=4,e.SHADED_REGION_ELEMENT_ID="qr-shaded-region",e.VERBOSE=!1,e.BORDER_SHADER_DEFAULT_COLOR="#ffffff",e.BORDER_SHADER_MATCH_COLOR="rgb(90, 193, 56)",e}(Us),nV=function(){function t(e,n){this.logger=n,this.fps=rs.SCAN_DEFAULT_FPS,e?(e.fps&&(this.fps=e.fps),this.disableFlip=e.disableFlip===!0,this.qrbox=e.qrbox,this.aspectRatio=e.aspectRatio,this.videoConstraints=e.videoConstraints):this.disableFlip=rs.DEFAULT_DISABLE_FLIP}return t.prototype.isMediaStreamConstraintsValid=function(){return this.videoConstraints?CC.isMediaStreamConstraintsValid(this.videoConstraints,this.logger):(this.logger.logError("Empty videoConstraints",!0),!1)},t.prototype.isShadedBoxEnabled=function(){return!ur(this.qrbox)},t.create=function(e,n){return new t(e,n)},t}(),Gv=function(){function t(e,n){if(this.element=null,this.canvasElement=null,this.scannerPausedUiElement=null,this.hasBorderShaders=null,this.borderShaders=null,this.qrMatch=null,this.renderedCamera=null,this.qrRegion=null,this.context=null,this.lastScanImageFile=null,this.isScanning=!1,!document.getElementById(e))throw"HTML Element with id=".concat(e," not found");this.elementId=e,this.verbose=!1;var r;typeof n=="boolean"?this.verbose=n===!0:n&&(r=n,this.verbose=r.verbose===!0,r.experimentalFeatures),this.logger=new SC(this.verbose),this.qrcode=new VF(this.getSupportedFormats(n),this.getUseBarCodeDetectorIfSupported(r),this.verbose,this.logger),this.foreverScanTimeout,this.shouldScan=!0,this.stateManagerProxy=eV.create()}return t.prototype.start=function(e,n,r,l){var u=this;if(!e)throw"cameraIdOrConfig is required";if(!r||typeof r!="function")throw"qrCodeSuccessCallback is required and should be a function.";var g;l?g=l:g=this.verbose?this.logger.log:function(){};var y=nV.create(n,this.logger);this.clearElement();var b=!1;y.videoConstraints&&(y.isMediaStreamConstraintsValid()?b=!0:this.logger.logError("'videoConstraints' is not valid 'MediaStreamConstraints, it will be ignored.'",!0));var x=b,E=document.getElementById(this.elementId);E.clientWidth?E.clientWidth:rs.DEFAULT_WIDTH,E.style.position="relative",this.shouldScan=!0,this.element=E;var C=this,N=this.stateManagerProxy.startTransition(Tn.SCANNING);return new Promise(function(O,M){var B=x?y.videoConstraints:C.createVideoConstraints(e);if(!B){N.cancel(),M("videoConstraints should be defined");return}var j={};(!x||y.aspectRatio)&&(j.aspectRatio=y.aspectRatio);var V={onRenderSurfaceReady:function($,U){C.setupUi($,U,y),C.isScanning=!0,C.foreverScan(y,r,g)}};XF.failIfNotSupported().then(function($){$.create(B).then(function(U){return U.render(u.element,j,V).then(function(q){C.renderedCamera=q,N.execute(),O(null)}).catch(function(q){N.cancel(),M(q)})}).catch(function(U){N.cancel(),M(hc.errorGettingUserMedia(U))})}).catch(function($){N.cancel(),M(hc.cameraStreamingNotSupported())})})},t.prototype.pause=function(e){if(!this.stateManagerProxy.isStrictlyScanning())throw"Cannot pause, scanner is not scanning.";this.stateManagerProxy.directTransition(Tn.PAUSED),this.showPausedState(),(ur(e)||e!==!0)&&(e=!1),e&&this.renderedCamera&&this.renderedCamera.pause()},t.prototype.resume=function(){if(!this.stateManagerProxy.isPaused())throw"Cannot result, scanner is not paused.";if(!this.renderedCamera)throw"renderedCamera doesn't exist while trying resume()";var e=this,n=function(){e.stateManagerProxy.directTransition(Tn.SCANNING),e.hidePausedState()};if(!this.renderedCamera.isPaused()){n();return}this.renderedCamera.resume(function(){n()})},t.prototype.getState=function(){return this.stateManagerProxy.getState()},t.prototype.stop=function(){var e=this;if(!this.stateManagerProxy.isScanning())throw"Cannot stop, scanner is not running or paused.";var n=this.stateManagerProxy.startTransition(Tn.NOT_STARTED);this.shouldScan=!1,this.foreverScanTimeout&&clearTimeout(this.foreverScanTimeout);var r=function(){if(e.element){var u=document.getElementById(rs.SHADED_REGION_ELEMENT_ID);u&&e.element.removeChild(u)}},l=this;return this.renderedCamera.close().then(function(){return l.renderedCamera=null,l.element&&(l.element.removeChild(l.canvasElement),l.canvasElement=null),r(),l.qrRegion&&(l.qrRegion=null),l.context&&(l.context=null),n.execute(),l.hidePausedState(),l.isScanning=!1,Promise.resolve()})},t.prototype.scanFile=function(e,n){return this.scanFileV2(e,n).then(function(r){return r.decodedText})},t.prototype.scanFileV2=function(e,n){var r=this;if(!e||!(e instanceof File))throw"imageFile argument is mandatory and should be instance of File. Use 'event.target.files[0]'.";if(ur(n)&&(n=!0),!this.stateManagerProxy.canScanFile())throw"Cannot start file scan - ongoing camera scan";return new Promise(function(l,u){r.possiblyCloseLastScanImageFile(),r.clearElement(),r.lastScanImageFile=URL.createObjectURL(e);var g=new Image;g.onload=function(){var y=g.width,b=g.height,x=document.getElementById(r.elementId),E=x.clientWidth?x.clientWidth:rs.DEFAULT_WIDTH,C=Math.max(x.clientHeight?x.clientHeight:b,rs.FILE_SCAN_MIN_HEIGHT),N=r.computeCanvasDrawConfig(y,b,E,C);if(n){var O=r.createCanvasElement(E,C,"qr-canvas-visible");O.style.display="inline-block",x.appendChild(O);var M=O.getContext("2d");if(!M)throw"Unable to get 2d context from canvas";M.canvas.width=E,M.canvas.height=C,M.drawImage(g,0,0,y,b,N.x,N.y,N.width,N.height)}var B=rs.FILE_SCAN_HIDDEN_CANVAS_PADDING,j=Math.max(g.width,N.width),V=Math.max(g.height,N.height),$=j+2*B,U=V+2*B,q=r.createCanvasElement($,U);x.appendChild(q);var W=q.getContext("2d");if(!W)throw"Unable to get 2d context from canvas";W.canvas.width=$,W.canvas.height=U,W.drawImage(g,0,0,y,b,B,B,j,V);try{r.qrcode.decodeRobustlyAsync(q).then(function(ne){l(jv.createFromQrcodeResult(ne))}).catch(u)}catch(ne){u("QR code parse error, error = ".concat(ne))}},g.onerror=u,g.onabort=u,g.onstalled=u,g.onsuspend=u,g.src=URL.createObjectURL(e)})},t.prototype.clear=function(){this.clearElement()},t.getCameras=function(){return ZF.retrieve()},t.prototype.getRunningTrackCapabilities=function(){return this.getRenderedCameraOrFail().getRunningTrackCapabilities()},t.prototype.getRunningTrackSettings=function(){return this.getRenderedCameraOrFail().getRunningTrackSettings()},t.prototype.getRunningTrackCameraCapabilities=function(){return this.getRenderedCameraOrFail().getCapabilities()},t.prototype.applyVideoConstraints=function(e){if(e){if(!CC.isMediaStreamConstraintsValid(e,this.logger))throw"invalid videoConstaints passed, check logs for more details"}else throw"videoConstaints is required argument.";return this.getRenderedCameraOrFail().applyVideoConstraints(e)},t.prototype.getRenderedCameraOrFail=function(){if(this.renderedCamera==null)throw"Scanning is not in running state, call this API only when QR code scanning using camera is in running state.";return this.renderedCamera},t.prototype.getSupportedFormats=function(e){var n=[Ve.QR_CODE,Ve.AZTEC,Ve.CODABAR,Ve.CODE_39,Ve.CODE_93,Ve.CODE_128,Ve.DATA_MATRIX,Ve.MAXICODE,Ve.ITF,Ve.EAN_13,Ve.EAN_8,Ve.PDF_417,Ve.RSS_14,Ve.RSS_EXPANDED,Ve.UPC_A,Ve.UPC_E,Ve.UPC_EAN_EXTENSION];if(!e||typeof e=="boolean"||!e.formatsToSupport)return n;if(!Array.isArray(e.formatsToSupport))throw"configOrVerbosityFlag.formatsToSupport should be undefined or an array.";if(e.formatsToSupport.length===0)throw"Atleast 1 formatsToSupport is needed.";for(var r=[],l=0,u=e.formatsToSupport;l<u.length;l++){var g=u[l];DF(g)?r.push(g):this.logger.warn("Invalid format: ".concat(g," passed in config, ignoring."))}if(r.length===0)throw"None of formatsToSupport match supported values.";return r},t.prototype.getUseBarCodeDetectorIfSupported=function(e){if(ur(e))return!0;if(!ur(e.useBarCodeDetectorIfSupported))return e.useBarCodeDetectorIfSupported!==!1;if(ur(e.experimentalFeatures))return!0;var n=e.experimentalFeatures;return ur(n.useBarCodeDetectorIfSupported)?!0:n.useBarCodeDetectorIfSupported!==!1},t.prototype.validateQrboxSize=function(e,n,r){var l=this,u=r.qrbox;this.validateQrboxConfig(u);var g=this.toQrdimensions(e,n,u),y=function(x){if(x<rs.MIN_QR_BOX_SIZE)throw"minimum size of 'config.qrbox' dimension value is"+" ".concat(rs.MIN_QR_BOX_SIZE,"px.")},b=function(x){return x>e&&(l.logger.warn("`qrbox.width` or `qrbox` is larger than the width of the root element. The width will be truncated to the width of root element."),x=e),x};y(g.width),y(g.height),g.width=b(g.width)},t.prototype.validateQrboxConfig=function(e){if(typeof e!="number"&&typeof e!="function"&&(e.width===void 0||e.height===void 0))throw"Invalid instance of QrDimensions passed for 'config.qrbox'. Both 'width' and 'height' should be set."},t.prototype.toQrdimensions=function(e,n,r){if(typeof r=="number")return{width:r,height:r};if(typeof r=="function")try{return r(e,n)}catch(l){throw new Error("qrbox config was passed as a function but it failed with unknown error"+l)}return r},t.prototype.setupUi=function(e,n,r){r.isShadedBoxEnabled()&&this.validateQrboxSize(e,n,r);var l=ur(r.qrbox)?{width:e,height:n}:r.qrbox;this.validateQrboxConfig(l);var u=this.toQrdimensions(e,n,l);u.height>n&&this.logger.warn("[Html5Qrcode] config.qrbox has height that isgreater than the height of the video stream. Shading will be ignored");var g=r.isShadedBoxEnabled()&&u.height<=n,y={x:0,y:0,width:e,height:n},b=g?this.getShadedRegionBounds(e,n,u):y,x=this.createCanvasElement(b.width,b.height),E={willReadFrequently:!0},C=x.getContext("2d",E);C.canvas.width=b.width,C.canvas.height=b.height,this.element.append(x),g&&this.possiblyInsertShadingElement(this.element,e,n,u),this.createScannerPausedUiElement(this.element),this.qrRegion=b,this.context=C,this.canvasElement=x},t.prototype.createScannerPausedUiElement=function(e){var n=document.createElement("div");n.innerText=hc.scannerPaused(),n.style.display="none",n.style.position="absolute",n.style.top="0px",n.style.zIndex="1",n.style.background="rgba(9, 9, 9, 0.46)",n.style.color="#FFECEC",n.style.textAlign="center",n.style.width="100%",e.appendChild(n),this.scannerPausedUiElement=n},t.prototype.scanContext=function(e,n){var r=this;return this.stateManagerProxy.isPaused()?Promise.resolve(!1):this.qrcode.decodeAsync(this.canvasElement).then(function(l){return e(l.text,jv.createFromQrcodeResult(l)),r.possiblyUpdateShaders(!0),!0}).catch(function(l){r.possiblyUpdateShaders(!1);var u=hc.codeParseError(l);return n(u,EC.createFrom(u)),!1})},t.prototype.foreverScan=function(e,n,r){var l=this;if(this.shouldScan&&this.renderedCamera){var u=this.renderedCamera.getSurface(),g=u.videoWidth/u.clientWidth,y=u.videoHeight/u.clientHeight;if(!this.qrRegion)throw"qrRegion undefined when localMediaStream is ready.";var b=this.qrRegion.width*g,x=this.qrRegion.height*y,E=this.qrRegion.x*g,C=this.qrRegion.y*y;this.context.drawImage(u,E,C,b,x,0,0,this.qrRegion.width,this.qrRegion.height);var N=function(){l.foreverScanTimeout=setTimeout(function(){l.foreverScan(e,n,r)},l.getTimeoutFps(e.fps))};this.scanContext(n,r).then(function(O){!O&&e.disableFlip!==!0?(l.context.translate(l.context.canvas.width,0),l.context.scale(-1,1),l.scanContext(n,r).finally(function(){N()})):N()}).catch(function(O){l.logger.logError("Error happend while scanning context",O),N()})}},t.prototype.createVideoConstraints=function(e){if(typeof e=="string")return{deviceId:{exact:e}};if(typeof e=="object"){var n="facingMode",r="deviceId",l={user:!0,environment:!0},u="exact",g=function(M){if(M in l)return!0;throw"config has invalid 'facingMode' value = "+"'".concat(M,"'")},y=Object.keys(e);if(y.length!==1)throw"'cameraIdOrConfig' object should have exactly 1 key,"+" if passed as an object, found ".concat(y.length," keys");var b=Object.keys(e)[0];if(b!==n&&b!==r)throw"Only '".concat(n,"' and '").concat(r,"' ")+" are supported for 'cameraIdOrConfig'";if(b===n){var x=e.facingMode;if(typeof x=="string"){if(g(x))return{facingMode:x}}else if(typeof x=="object")if(u in x){if(g(x["".concat(u)]))return{facingMode:{exact:x["".concat(u)]}}}else throw"'facingMode' should be string or object with"+" ".concat(u," as key.");else{var E=typeof x;throw"Invalid type of 'facingMode' = ".concat(E)}}else{var C=e.deviceId;if(typeof C=="string")return{deviceId:C};if(typeof C=="object"){if(u in C)return{deviceId:{exact:C["".concat(u)]}};throw"'deviceId' should be string or object with"+" ".concat(u," as key.")}else{var N=typeof C;throw"Invalid type of 'deviceId' = ".concat(N)}}}var O=typeof e;throw"Invalid type of 'cameraIdOrConfig' = ".concat(O)},t.prototype.computeCanvasDrawConfig=function(e,n,r,l){if(e<=r&&n<=l){var u=(r-e)/2,g=(l-n)/2;return{x:u,y:g,width:e,height:n}}else{var y=e,b=n;return e>r&&(n=r/e*n,e=r),n>l&&(e=l/n*e,n=l),this.logger.log("Image downsampled from "+"".concat(y,"X").concat(b)+" to ".concat(e,"X").concat(n,".")),this.computeCanvasDrawConfig(e,n,r,l)}},t.prototype.clearElement=function(){if(this.stateManagerProxy.isScanning())throw"Cannot clear while scan is ongoing, close it first.";var e=document.getElementById(this.elementId);e&&(e.innerHTML="")},t.prototype.possiblyUpdateShaders=function(e){this.qrMatch!==e&&(this.hasBorderShaders&&this.borderShaders&&this.borderShaders.length&&this.borderShaders.forEach(function(n){n.style.backgroundColor=e?rs.BORDER_SHADER_MATCH_COLOR:rs.BORDER_SHADER_DEFAULT_COLOR}),this.qrMatch=e)},t.prototype.possiblyCloseLastScanImageFile=function(){this.lastScanImageFile&&(URL.revokeObjectURL(this.lastScanImageFile),this.lastScanImageFile=null)},t.prototype.createCanvasElement=function(e,n,r){var l=e,u=n,g=document.createElement("canvas");return g.style.width="".concat(l,"px"),g.style.height="".concat(u,"px"),g.style.display="none",g.id=ur(r)?"qr-canvas":r,g},t.prototype.getShadedRegionBounds=function(e,n,r){if(r.width>e||r.height>n)throw"'config.qrbox' dimensions should not be greater than the dimensions of the root HTML element.";return{x:(e-r.width)/2,y:(n-r.height)/2,width:r.width,height:r.height}},t.prototype.possiblyInsertShadingElement=function(e,n,r,l){if(!(n-l.width<1||r-l.height<1)){var u=document.createElement("div");u.style.position="absolute";var g=(n-l.width)/2,y=(r-l.height)/2;if(u.style.borderLeft="".concat(g,"px solid rgba(0, 0, 0, 0.48)"),u.style.borderRight="".concat(g,"px solid rgba(0, 0, 0, 0.48)"),u.style.borderTop="".concat(y,"px solid rgba(0, 0, 0, 0.48)"),u.style.borderBottom="".concat(y,"px solid rgba(0, 0, 0, 0.48)"),u.style.boxSizing="border-box",u.style.top="0px",u.style.bottom="0px",u.style.left="0px",u.style.right="0px",u.id="".concat(rs.SHADED_REGION_ELEMENT_ID),n-l.width<11||r-l.height<11)this.hasBorderShaders=!1;else{var b=5,x=40;this.insertShaderBorders(u,x,b,-b,null,0,!0),this.insertShaderBorders(u,x,b,-b,null,0,!1),this.insertShaderBorders(u,x,b,null,-b,0,!0),this.insertShaderBorders(u,x,b,null,-b,0,!1),this.insertShaderBorders(u,b,x+b,-b,null,-b,!0),this.insertShaderBorders(u,b,x+b,null,-b,-b,!0),this.insertShaderBorders(u,b,x+b,-b,null,-b,!1),this.insertShaderBorders(u,b,x+b,null,-b,-b,!1),this.hasBorderShaders=!0}e.append(u)}},t.prototype.insertShaderBorders=function(e,n,r,l,u,g,y){var b=document.createElement("div");b.style.position="absolute",b.style.backgroundColor=rs.BORDER_SHADER_DEFAULT_COLOR,b.style.width="".concat(n,"px"),b.style.height="".concat(r,"px"),l!==null&&(b.style.top="".concat(l,"px")),u!==null&&(b.style.bottom="".concat(u,"px")),y?b.style.left="".concat(g,"px"):b.style.right="".concat(g,"px"),this.borderShaders||(this.borderShaders=[]),this.borderShaders.push(b),e.appendChild(b)},t.prototype.showPausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="block"},t.prototype.hidePausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="none"},t.prototype.getTimeoutFps=function(e){return 1e3/e},t}(),Bp="data:image/svg+xml;base64,",iV=Bp+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAzNzEuNjQzIDM3MS42NDMiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDM3MS42NDMgMzcxLjY0MyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+PHBhdGggZD0iTTEwNS4wODQgMzguMjcxaDE2My43Njh2MjBIMTA1LjA4NHoiLz48cGF0aCBkPSJNMzExLjU5NiAxOTAuMTg5Yy03LjQ0MS05LjM0Ny0xOC40MDMtMTYuMjA2LTMyLjc0My0yMC41MjJWMzBjMC0xNi41NDItMTMuNDU4LTMwLTMwLTMwSDEyNS4wODRjLTE2LjU0MiAwLTMwIDEzLjQ1OC0zMCAzMHYxMjAuMTQzaC04LjI5NmMtMTYuNTQyIDAtMzAgMTMuNDU4LTMwIDMwdjEuMzMzYTI5LjgwNCAyOS44MDQgMCAwIDAgNC42MDMgMTUuOTM5Yy03LjM0IDUuNDc0LTEyLjEwMyAxNC4yMjEtMTIuMTAzIDI0LjA2MXYxLjMzM2MwIDkuODQgNC43NjMgMTguNTg3IDEyLjEwMyAyNC4wNjJhMjkuODEgMjkuODEgMCAwIDAtNC42MDMgMTUuOTM4djEuMzMzYzAgMTYuNTQyIDEzLjQ1OCAzMCAzMCAzMGg4LjMyNGMuNDI3IDExLjYzMSA3LjUwMyAyMS41ODcgMTcuNTM0IDI2LjE3Ny45MzEgMTAuNTAzIDQuMDg0IDMwLjE4NyAxNC43NjggNDUuNTM3YTkuOTg4IDkuOTg4IDAgMCAwIDguMjE2IDQuMjg4IDkuOTU4IDkuOTU4IDAgMCAwIDUuNzA0LTEuNzkzYzQuNTMzLTMuMTU1IDUuNjUtOS4zODggMi40OTUtMTMuOTIxLTYuNzk4LTkuNzY3LTkuNjAyLTIyLjYwOC0xMC43Ni0zMS40aDgyLjY4NWMuMjcyLjQxNC41NDUuODE4LjgxNSAxLjIxIDMuMTQyIDQuNTQxIDkuMzcyIDUuNjc5IDEzLjkxMyAyLjUzNCA0LjU0Mi0zLjE0MiA1LjY3Ny05LjM3MSAyLjUzNS0xMy45MTMtMTEuOTE5LTE3LjIyOS04Ljc4Ny0zNS44ODQgOS41ODEtNTcuMDEyIDMuMDY3LTIuNjUyIDEyLjMwNy0xMS43MzIgMTEuMjE3LTI0LjAzMy0uODI4LTkuMzQzLTcuMTA5LTE3LjE5NC0xOC42NjktMjMuMzM3YTkuODU3IDkuODU3IDAgMCAwLTEuMDYxLS40ODZjLS40NjYtLjE4Mi0xMS40MDMtNC41NzktOS43NDEtMTUuNzA2IDEuMDA3LTYuNzM3IDE0Ljc2OC04LjI3MyAyMy43NjYtNy42NjYgMjMuMTU2IDEuNTY5IDM5LjY5OCA3LjgwMyA0Ny44MzYgMTguMDI2IDUuNzUyIDcuMjI1IDcuNjA3IDE2LjYyMyA1LjY3MyAyOC43MzMtLjQxMyAyLjU4NS0uODI0IDUuMjQxLTEuMjQ1IDcuOTU5LTUuNzU2IDM3LjE5NC0xMi45MTkgODMuNDgzLTQ5Ljg3IDExNC42NjEtNC4yMjEgMy41NjEtNC43NTYgOS44Ny0xLjE5NCAxNC4wOTJhOS45OCA5Ljk4IDAgMCAwIDcuNjQ4IDMuNTUxIDkuOTU1IDkuOTU1IDAgMCAwIDYuNDQ0LTIuMzU4YzQyLjY3Mi0zNi4wMDUgNTAuODAyLTg4LjUzMyA1Ni43MzctMTI2Ljg4OC40MTUtMi42ODQuODIxLTUuMzA5IDEuMjI5LTcuODYzIDIuODM0LTE3LjcyMS0uNDU1LTMyLjY0MS05Ljc3Mi00NC4zNDV6bS0yMzIuMzA4IDQyLjYyYy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi0xLjMzM2MwLTUuNTE0IDQuNDg2LTEwIDEwLTEwaDE1djIxLjMzM2gtMTV6bS0yLjUtNTIuNjY2YzAtNS41MTQgNC40ODYtMTAgMTAtMTBoNy41djIxLjMzM2gtNy41Yy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi0xLjMzM3ptMTcuNSA5My45OTloLTcuNWMtNS41MTQgMC0xMC00LjQ4Ni0xMC0xMHYtMS4zMzNjMC01LjUxNCA0LjQ4Ni0xMCAxMC0xMGg3LjV2MjEuMzMzem0zMC43OTYgMjguODg3Yy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi04LjI3MWg5MS40NTdjLS44NTEgNi42NjgtLjQzNyAxMi43ODcuNzMxIDE4LjI3MWgtODIuMTg4em03OS40ODItMTEzLjY5OGMtMy4xMjQgMjAuOTA2IDEyLjQyNyAzMy4xODQgMjEuNjI1IDM3LjA0IDUuNDQxIDIuOTY4IDcuNTUxIDUuNjQ3IDcuNzAxIDcuMTg4LjIxIDIuMTUtMi41NTMgNS42ODQtNC40NzcgNy4yNTEtLjQ4Mi4zNzgtLjkyOS44LTEuMzM1IDEuMjYxLTYuOTg3IDcuOTM2LTExLjk4MiAxNS41Mi0xNS40MzIgMjIuNjg4aC05Ny41NjRWMzBjMC01LjUxNCA0LjQ4Ni0xMCAxMC0xMGgxMjMuNzY5YzUuNTE0IDAgMTAgNC40ODYgMTAgMTB2MTM1LjU3OWMtMy4wMzItLjM4MS02LjE1LS42OTQtOS4zODktLjkxNC0yNS4xNTktMS42OTQtNDIuMzcgNy43NDgtNDQuODk4IDI0LjY2NnoiLz48cGF0aCBkPSJNMTc5LjEyOSA4My4xNjdoLTI0LjA2YTUgNSAwIDAgMC01IDV2MjQuMDYxYTUgNSAwIDAgMCA1IDVoMjQuMDZhNSA1IDAgMCAwIDUtNVY4OC4xNjdhNSA1IDAgMCAwLTUtNXpNMTcyLjYyOSAxNDIuODZoLTEyLjU2VjEzMC44YTUgNSAwIDEgMC0xMCAwdjE3LjA2MWE1IDUgMCAwIDAgNSA1aDE3LjU2YTUgNSAwIDEgMCAwLTEwLjAwMXpNMjE2LjU2OCA4My4xNjdoLTI0LjA2YTUgNSAwIDAgMC01IDV2MjQuMDYxYTUgNSAwIDAgMCA1IDVoMjQuMDZhNSA1IDAgMCAwIDUtNVY4OC4xNjdhNSA1IDAgMCAwLTUtNXptLTUgMjQuMDYxaC0xNC4wNlY5My4xNjdoMTQuMDZ2MTQuMDYxek0yMTEuNjY5IDEyNS45MzZIMTk3LjQxYTUgNSAwIDAgMC01IDV2MTQuMjU3YTUgNSAwIDAgMCA1IDVoMTQuMjU5YTUgNSAwIDAgMCA1LTV2LTE0LjI1N2E1IDUgMCAwIDAtNS01eiIvPjwvc3ZnPg==",sV=Bp+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1OS4wMTggNTkuMDE4IiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA1OS4wMTggNTkuMDE4IiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBkPSJtNTguNzQxIDU0LjgwOS01Ljk2OS02LjI0NGExMC43NCAxMC43NCAwIDAgMCAyLjgyLTcuMjVjMC01Ljk1My00Ljg0My0xMC43OTYtMTAuNzk2LTEwLjc5NlMzNCAzNS4zNjEgMzQgNDEuMzE0IDM4Ljg0MyA1Mi4xMSA0NC43OTYgNTIuMTFjMi40NDEgMCA0LjY4OC0uODI0IDYuNDk5LTIuMTk2bDYuMDAxIDYuMjc3YS45OTguOTk4IDAgMCAwIDEuNDE0LjAzMiAxIDEgMCAwIDAgLjAzMS0xLjQxNHpNMzYgNDEuMzE0YzAtNC44NSAzLjk0Ni04Ljc5NiA4Ljc5Ni04Ljc5NnM4Ljc5NiAzLjk0NiA4Ljc5NiA4Ljc5Ni0zLjk0NiA4Ljc5Ni04Ljc5NiA4Ljc5NlMzNiA0Ni4xNjQgMzYgNDEuMzE0ek0xMC40MzEgMTYuMDg4YzAgMy4wNyAyLjQ5OCA1LjU2OCA1LjU2OSA1LjU2OHM1LjU2OS0yLjQ5OCA1LjU2OS01LjU2OGMwLTMuMDcxLTIuNDk4LTUuNTY5LTUuNTY5LTUuNTY5cy01LjU2OSAyLjQ5OC01LjU2OSA1LjU2OXptOS4xMzggMGMwIDEuOTY4LTEuNjAyIDMuNTY4LTMuNTY5IDMuNTY4cy0zLjU2OS0xLjYwMS0zLjU2OS0zLjU2OCAxLjYwMi0zLjU2OSAzLjU2OS0zLjU2OSAzLjU2OSAxLjYwMSAzLjU2OSAzLjU2OXoiLz48cGF0aCBkPSJtMzAuODgyIDI4Ljk4NyA5LjE4LTEwLjA1NCAxMS4yNjIgMTAuMzIzYTEgMSAwIDAgMCAxLjM1MS0xLjQ3NWwtMTItMTFhMSAxIDAgMCAwLTEuNDE0LjA2M2wtOS43OTQgMTAuNzI3LTQuNzQzLTQuNzQzYTEuMDAzIDEuMDAzIDAgMCAwLTEuMzY4LS4wNDRMNi4zMzkgMzcuNzY4YTEgMSAwIDEgMCAxLjMyMiAxLjUwMWwxNi4zMTMtMTQuMzYyIDcuMzE5IDcuMzE4YS45OTkuOTk5IDAgMSAwIDEuNDE0LTEuNDE0bC0xLjgyNS0xLjgyNHoiLz48cGF0aCBkPSJNMzAgNDYuNTE4SDJ2LTQyaDU0djI4YTEgMSAwIDEgMCAyIDB2LTI5YTEgMSAwIDAgMC0xLTFIMWExIDEgMCAwIDAtMSAxdjQ0YTEgMSAwIDAgMCAxIDFoMjlhMSAxIDAgMSAwIDAtMnoiLz48L3N2Zz4=",qv=Bp+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA0NjAgNDYwIiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA0NjAgNDYwIiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBkPSJNMjMwIDBDMTAyLjk3NSAwIDAgMTAyLjk3NSAwIDIzMHMxMDIuOTc1IDIzMCAyMzAgMjMwIDIzMC0xMDIuOTc0IDIzMC0yMzBTMzU3LjAyNSAwIDIzMCAwem0zOC4zMzMgMzc3LjM2YzAgOC42NzYtNy4wMzQgMTUuNzEtMTUuNzEgMTUuNzFoLTQzLjEwMWMtOC42NzYgMC0xNS43MS03LjAzNC0xNS43MS0xNS43MVYyMDIuNDc3YzAtOC42NzYgNy4wMzMtMTUuNzEgMTUuNzEtMTUuNzFoNDMuMTAxYzguNjc2IDAgMTUuNzEgNy4wMzMgMTUuNzEgMTUuNzFWMzc3LjM2ek0yMzAgMTU3Yy0yMS41MzkgMC0zOS0xNy40NjEtMzktMzlzMTcuNDYxLTM5IDM5LTM5IDM5IDE3LjQ2MSAzOSAzOS0xNy40NjEgMzktMzkgMzl6Ii8+PC9zdmc+",rV="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAAQgAAAEIBarqQRAAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAE1SURBVDiNfdI7S0NBEAXgLya1otFgpbYSbISAgpXYi6CmiH9KCAiChaVga6OiWPgfRDQ+0itaGVNosXtluWwcuMzePfM4M3sq8lbHBubwg1dc4m1E/J/N4ghDPOIsfk/4xiEao5KX0McFljN4C9d4QTPXuY99jP3DsIoDPGM6BY5i5yI5R7O4q+ImFkJY2DCh3cAH2klyB+9J1xUMMAG7eCh1a+Mr+k48b5diXrFVwwLuS+BJ9MfR7+G0FHOHhTHhnXNWS87VDF4pcnfQK4Ep7XScNLmPTZgURNKKYENYWDpzW1BhscS1WHS8CDgURFJQrWcoF3c13KKbgg1BYQfy8xZWEzTTw1QZbAoKu8FqJnktdu5hcVSHmchiILzzuaDQvjBzV2m8yohCE1jHfPx/xhU+y4G/D75ELlRJsSYAAAAASUVORK5CYII=",Yv=function(){function t(){}return t.createDefault=function(){return{hasPermission:!1,lastUsedCameraId:null}},t}(),aV=function(){function t(){this.data=Yv.createDefault();var e=localStorage.getItem(t.LOCAL_STORAGE_KEY);e?this.data=JSON.parse(e):this.reset()}return t.prototype.hasCameraPermissions=function(){return this.data.hasPermission},t.prototype.getLastUsedCameraId=function(){return this.data.lastUsedCameraId},t.prototype.setHasPermission=function(e){this.data.hasPermission=e,this.flush()},t.prototype.setLastUsedCameraId=function(e){this.data.lastUsedCameraId=e,this.flush()},t.prototype.resetLastUsedCameraId=function(){this.data.lastUsedCameraId=null,this.flush()},t.prototype.reset=function(){this.data=Yv.createDefault(),this.flush()},t.prototype.flush=function(){localStorage.setItem(t.LOCAL_STORAGE_KEY,JSON.stringify(this.data))},t.LOCAL_STORAGE_KEY="HTML5_QRCODE_DATA",t}(),oV=function(){function t(){this.infoDiv=document.createElement("div")}return t.prototype.renderInto=function(e){this.infoDiv.style.position="absolute",this.infoDiv.style.top="10px",this.infoDiv.style.right="10px",this.infoDiv.style.zIndex="2",this.infoDiv.style.display="none",this.infoDiv.style.padding="5pt",this.infoDiv.style.border="1px solid #171717",this.infoDiv.style.fontSize="10pt",this.infoDiv.style.background="rgb(0 0 0 / 69%)",this.infoDiv.style.borderRadius="5px",this.infoDiv.style.textAlign="center",this.infoDiv.style.fontWeight="400",this.infoDiv.style.color="white",this.infoDiv.innerText=Bv.poweredBy();var n=document.createElement("a");n.innerText="ScanApp",n.href="https://scanapp.org",n.target="new",n.style.color="white",this.infoDiv.appendChild(n);var r=document.createElement("br"),l=document.createElement("br");this.infoDiv.appendChild(r),this.infoDiv.appendChild(l);var u=document.createElement("a");u.innerText=Bv.reportIssues(),u.href="https://github.com/mebjas/html5-qrcode/issues",u.target="new",u.style.color="white",this.infoDiv.appendChild(u),e.appendChild(this.infoDiv)},t.prototype.show=function(){this.infoDiv.style.display="block"},t.prototype.hide=function(){this.infoDiv.style.display="none"},t}(),lV=function(){function t(e,n){this.isShowingInfoIcon=!0,this.onTapIn=e,this.onTapOut=n,this.infoIcon=document.createElement("img")}return t.prototype.renderInto=function(e){var n=this;this.infoIcon.alt="Info icon",this.infoIcon.src=qv,this.infoIcon.style.position="absolute",this.infoIcon.style.top="4px",this.infoIcon.style.right="4px",this.infoIcon.style.opacity="0.6",this.infoIcon.style.cursor="pointer",this.infoIcon.style.zIndex="2",this.infoIcon.style.width="16px",this.infoIcon.style.height="16px",this.infoIcon.onmouseover=function(r){return n.onHoverIn()},this.infoIcon.onmouseout=function(r){return n.onHoverOut()},this.infoIcon.onclick=function(r){return n.onClick()},e.appendChild(this.infoIcon)},t.prototype.onHoverIn=function(){this.isShowingInfoIcon&&(this.infoIcon.style.opacity="1")},t.prototype.onHoverOut=function(){this.isShowingInfoIcon&&(this.infoIcon.style.opacity="0.6")},t.prototype.onClick=function(){this.isShowingInfoIcon?(this.isShowingInfoIcon=!1,this.onTapIn(),this.infoIcon.src=rV,this.infoIcon.style.opacity="1"):(this.isShowingInfoIcon=!0,this.onTapOut(),this.infoIcon.src=qv,this.infoIcon.style.opacity="0.6")},t}(),cV=function(){function t(){var e=this;this.infoDiv=new oV,this.infoIcon=new lV(function(){e.infoDiv.show()},function(){e.infoDiv.hide()})}return t.prototype.renderInto=function(e){this.infoDiv.renderInto(e),this.infoIcon.renderInto(e)},t}(),uV=function(t,e,n,r){function l(u){return u instanceof n?u:new n(function(g){g(u)})}return new(n||(n=Promise))(function(u,g){function y(E){try{x(r.next(E))}catch(C){g(C)}}function b(E){try{x(r.throw(E))}catch(C){g(C)}}function x(E){E.done?u(E.value):l(E.value).then(y,b)}x((r=r.apply(t,e||[])).next())})},fV=function(t,e){var n={label:0,sent:function(){if(u[0]&1)throw u[1];return u[1]},trys:[],ops:[]},r,l,u,g;return g={next:y(0),throw:y(1),return:y(2)},typeof Symbol=="function"&&(g[Symbol.iterator]=function(){return this}),g;function y(x){return function(E){return b([x,E])}}function b(x){if(r)throw new TypeError("Generator is already executing.");for(;g&&(g=0,x[0]&&(n=0)),n;)try{if(r=1,l&&(u=x[0]&2?l.return:x[0]?l.throw||((u=l.return)&&u.call(l),0):l.next)&&!(u=u.call(l,x[1])).done)return u;switch(l=0,u&&(x=[x[0]&2,u.value]),x[0]){case 0:case 1:u=x;break;case 4:return n.label++,{value:x[1],done:!1};case 5:n.label++,l=x[1],x=[0];continue;case 7:x=n.ops.pop(),n.trys.pop();continue;default:if(u=n.trys,!(u=u.length>0&&u[u.length-1])&&(x[0]===6||x[0]===2)){n=0;continue}if(x[0]===3&&(!u||x[1]>u[0]&&x[1]<u[3])){n.label=x[1];break}if(x[0]===6&&n.label<u[1]){n.label=u[1],u=x;break}if(u&&n.label<u[2]){n.label=u[2],n.ops.push(x);break}u[2]&&n.ops.pop(),n.trys.pop();continue}x=e.call(t,n)}catch(E){x=[6,E],l=0}finally{r=u=0}if(x[0]&5)throw x[1];return{value:x[0]?x[1]:void 0,done:!0}}},Xv=function(){function t(){}return t.hasPermissions=function(){return uV(this,void 0,void 0,function(){var e,n,r,l;return fV(this,function(u){switch(u.label){case 0:return[4,navigator.mediaDevices.enumerateDevices()];case 1:for(e=u.sent(),n=0,r=e;n<r.length;n++)if(l=r[n],l.kind==="videoinput"&&l.label)return[2,!0];return[2,!1]}})})},t}(),La=function(){function t(e){this.supportedScanTypes=this.validateAndReturnScanTypes(e)}return t.prototype.getDefaultScanType=function(){return this.supportedScanTypes[0]},t.prototype.hasMoreThanOneScanType=function(){return this.supportedScanTypes.length>1},t.prototype.isCameraScanRequired=function(){for(var e=0,n=this.supportedScanTypes;e<n.length;e++){var r=n[e];if(t.isCameraScanType(r))return!0}return!1},t.isCameraScanType=function(e){return e===so.SCAN_TYPE_CAMERA},t.isFileScanType=function(e){return e===so.SCAN_TYPE_FILE},t.prototype.validateAndReturnScanTypes=function(e){if(!e||e.length===0)return Us.DEFAULT_SUPPORTED_SCAN_TYPE;var n=Us.DEFAULT_SUPPORTED_SCAN_TYPE.length;if(e.length>n)throw"Max ".concat(n," values expected for ")+"supportedScanTypes";for(var r=0,l=e;r<l.length;r++){var u=l[r];if(!Us.DEFAULT_SUPPORTED_SCAN_TYPE.includes(u))throw"Unsupported scan type ".concat(u)}return e},t}(),os=function(){function t(){}return t.ALL_ELEMENT_CLASS="html5-qrcode-element",t.CAMERA_PERMISSION_BUTTON_ID="html5-qrcode-button-camera-permission",t.CAMERA_START_BUTTON_ID="html5-qrcode-button-camera-start",t.CAMERA_STOP_BUTTON_ID="html5-qrcode-button-camera-stop",t.TORCH_BUTTON_ID="html5-qrcode-button-torch",t.CAMERA_SELECTION_SELECT_ID="html5-qrcode-select-camera",t.FILE_SELECTION_BUTTON_ID="html5-qrcode-button-file-selection",t.ZOOM_SLIDER_ID="html5-qrcode-input-range-zoom",t.SCAN_TYPE_CHANGE_ANCHOR_ID="html5-qrcode-anchor-scan-type-change",t.TORCH_BUTTON_CLASS_TORCH_ON="html5-qrcode-button-torch-on",t.TORCH_BUTTON_CLASS_TORCH_OFF="html5-qrcode-button-torch-off",t}(),qr=function(){function t(){}return t.createElement=function(e,n){var r=document.createElement(e);return r.id=n,r.classList.add(os.ALL_ELEMENT_CLASS),e==="button"&&r.setAttribute("type","button"),r},t}(),TC=function(t,e,n,r){function l(u){return u instanceof n?u:new n(function(g){g(u)})}return new(n||(n=Promise))(function(u,g){function y(E){try{x(r.next(E))}catch(C){g(C)}}function b(E){try{x(r.throw(E))}catch(C){g(C)}}function x(E){E.done?u(E.value):l(E.value).then(y,b)}x((r=r.apply(t,e||[])).next())})},_C=function(t,e){var n={label:0,sent:function(){if(u[0]&1)throw u[1];return u[1]},trys:[],ops:[]},r,l,u,g;return g={next:y(0),throw:y(1),return:y(2)},typeof Symbol=="function"&&(g[Symbol.iterator]=function(){return this}),g;function y(x){return function(E){return b([x,E])}}function b(x){if(r)throw new TypeError("Generator is already executing.");for(;g&&(g=0,x[0]&&(n=0)),n;)try{if(r=1,l&&(u=x[0]&2?l.return:x[0]?l.throw||((u=l.return)&&u.call(l),0):l.next)&&!(u=u.call(l,x[1])).done)return u;switch(l=0,u&&(x=[x[0]&2,u.value]),x[0]){case 0:case 1:u=x;break;case 4:return n.label++,{value:x[1],done:!1};case 5:n.label++,l=x[1],x=[0];continue;case 7:x=n.ops.pop(),n.trys.pop();continue;default:if(u=n.trys,!(u=u.length>0&&u[u.length-1])&&(x[0]===6||x[0]===2)){n=0;continue}if(x[0]===3&&(!u||x[1]>u[0]&&x[1]<u[3])){n.label=x[1];break}if(x[0]===6&&n.label<u[1]){n.label=u[1],u=x;break}if(u&&n.label<u[2]){n.label=u[2],n.ops.push(x);break}u[2]&&n.ops.pop(),n.trys.pop();continue}x=e.call(t,n)}catch(E){x=[6,E],l=0}finally{r=u=0}if(x[0]&5)throw x[1];return{value:x[0]?x[1]:void 0,done:!0}}},Wv=function(){function t(e,n,r){this.isTorchOn=!1,this.torchCapability=e,this.buttonController=n,this.onTorchActionFailureCallback=r}return t.prototype.isTorchEnabled=function(){return this.isTorchOn},t.prototype.flipState=function(){return TC(this,void 0,void 0,function(){var e,n;return _C(this,function(r){switch(r.label){case 0:this.buttonController.disable(),e=!this.isTorchOn,r.label=1;case 1:return r.trys.push([1,3,,4]),[4,this.torchCapability.apply(e)];case 2:return r.sent(),this.updateUiBasedOnLatestSettings(this.torchCapability.value(),e),[3,4];case 3:return n=r.sent(),this.propagateFailure(e,n),this.buttonController.enable(),[3,4];case 4:return[2]}})})},t.prototype.updateUiBasedOnLatestSettings=function(e,n){e===n?(this.buttonController.setText(n?Yt.torchOffButton():Yt.torchOnButton()),this.isTorchOn=n):this.propagateFailure(n),this.buttonController.enable()},t.prototype.propagateFailure=function(e,n){var r=e?Yt.torchOnFailedMessage():Yt.torchOffFailedMessage();n&&(r+="; Error = "+n),this.onTorchActionFailureCallback(r)},t.prototype.reset=function(){this.isTorchOn=!1},t}(),dV=function(){function t(e,n){this.onTorchActionFailureCallback=n,this.torchButton=qr.createElement("button",os.TORCH_BUTTON_ID),this.torchController=new Wv(e,this,n)}return t.prototype.render=function(e,n){var r=this;this.torchButton.innerText=Yt.torchOnButton(),this.torchButton.style.display=n.display,this.torchButton.style.marginLeft=n.marginLeft;var l=this;this.torchButton.addEventListener("click",function(u){return TC(r,void 0,void 0,function(){return _C(this,function(g){switch(g.label){case 0:return[4,l.torchController.flipState()];case 1:return g.sent(),l.torchController.isTorchEnabled()?(l.torchButton.classList.remove(os.TORCH_BUTTON_CLASS_TORCH_OFF),l.torchButton.classList.add(os.TORCH_BUTTON_CLASS_TORCH_ON)):(l.torchButton.classList.remove(os.TORCH_BUTTON_CLASS_TORCH_ON),l.torchButton.classList.add(os.TORCH_BUTTON_CLASS_TORCH_OFF)),[2]}})})}),e.appendChild(this.torchButton)},t.prototype.updateTorchCapability=function(e){this.torchController=new Wv(e,this,this.onTorchActionFailureCallback)},t.prototype.getTorchButton=function(){return this.torchButton},t.prototype.hide=function(){this.torchButton.style.display="none"},t.prototype.show=function(){this.torchButton.style.display="inline-block"},t.prototype.disable=function(){this.torchButton.disabled=!0},t.prototype.enable=function(){this.torchButton.disabled=!1},t.prototype.setText=function(e){this.torchButton.innerText=e},t.prototype.reset=function(){this.torchButton.innerText=Yt.torchOnButton(),this.torchController.reset()},t.create=function(e,n,r,l){var u=new t(n,l);return u.render(e,r),u},t}(),hV=function(){function t(e,n,r){this.fileBasedScanRegion=this.createFileBasedScanRegion(),this.fileBasedScanRegion.style.display=n?"block":"none",e.appendChild(this.fileBasedScanRegion);var l=document.createElement("label");l.setAttribute("for",this.getFileScanInputId()),l.style.display="inline-block",this.fileBasedScanRegion.appendChild(l),this.fileSelectionButton=qr.createElement("button",os.FILE_SELECTION_BUTTON_ID),this.setInitialValueToButton(),this.fileSelectionButton.addEventListener("click",function(y){l.click()}),l.append(this.fileSelectionButton),this.fileScanInput=qr.createElement("input",this.getFileScanInputId()),this.fileScanInput.type="file",this.fileScanInput.accept="image/*",this.fileScanInput.style.display="none",l.appendChild(this.fileScanInput);var u=this;this.fileScanInput.addEventListener("change",function(y){if(!(y==null||y.target==null)){var b=y.target;if(!(b.files&&b.files.length===0)){var x=b.files,E=x[0],C=E.name;u.setImageNameToButton(C),r(E)}}});var g=this.createDragAndDropMessage();this.fileBasedScanRegion.appendChild(g),this.fileBasedScanRegion.addEventListener("dragenter",function(y){u.fileBasedScanRegion.style.border=u.fileBasedScanRegionActiveBorder(),y.stopPropagation(),y.preventDefault()}),this.fileBasedScanRegion.addEventListener("dragleave",function(y){u.fileBasedScanRegion.style.border=u.fileBasedScanRegionDefaultBorder(),y.stopPropagation(),y.preventDefault()}),this.fileBasedScanRegion.addEventListener("dragover",function(y){u.fileBasedScanRegion.style.border=u.fileBasedScanRegionActiveBorder(),y.stopPropagation(),y.preventDefault()}),this.fileBasedScanRegion.addEventListener("drop",function(y){y.stopPropagation(),y.preventDefault(),u.fileBasedScanRegion.style.border=u.fileBasedScanRegionDefaultBorder();var b=y.dataTransfer;if(b){var x=b.files;if(!x||x.length===0)return;for(var E=!1,C=0;C<x.length;++C){var N=x.item(C);if(N){var O=/image.*/;if(N.type.match(O)){E=!0;var M=N.name;u.setImageNameToButton(M),r(N),g.innerText=Yt.dragAndDropMessage();break}}}E||(g.innerText=Yt.dragAndDropMessageOnlyImages())}})}return t.prototype.hide=function(){this.fileBasedScanRegion.style.display="none",this.fileScanInput.disabled=!0},t.prototype.show=function(){this.fileBasedScanRegion.style.display="block",this.fileScanInput.disabled=!1},t.prototype.isShowing=function(){return this.fileBasedScanRegion.style.display==="block"},t.prototype.resetValue=function(){this.fileScanInput.value="",this.setInitialValueToButton()},t.prototype.createFileBasedScanRegion=function(){var e=document.createElement("div");return e.style.textAlign="center",e.style.margin="auto",e.style.width="80%",e.style.maxWidth="600px",e.style.border=this.fileBasedScanRegionDefaultBorder(),e.style.padding="10px",e.style.marginBottom="10px",e},t.prototype.fileBasedScanRegionDefaultBorder=function(){return"6px dashed #ebebeb"},t.prototype.fileBasedScanRegionActiveBorder=function(){return"6px dashed rgb(153 151 151)"},t.prototype.createDragAndDropMessage=function(){var e=document.createElement("div");return e.innerText=Yt.dragAndDropMessage(),e.style.fontWeight="400",e},t.prototype.setImageNameToButton=function(e){var n=20;if(e.length>n){var r=e.substring(0,8),l=e.length,u=e.substring(l-8,l);e="".concat(r,"....").concat(u)}var g=Yt.fileSelectionChooseAnother()+" - "+e;this.fileSelectionButton.innerText=g},t.prototype.setInitialValueToButton=function(){var e=Yt.fileSelectionChooseImage()+" - "+Yt.fileSelectionNoImageSelected();this.fileSelectionButton.innerText=e},t.prototype.getFileScanInputId=function(){return"html5-qrcode-private-filescan-input"},t.create=function(e,n,r){var l=new t(e,n,r);return l},t}(),gV=function(){function t(e){this.selectElement=qr.createElement("select",os.CAMERA_SELECTION_SELECT_ID),this.cameras=e,this.options=[]}return t.prototype.render=function(e){var n=document.createElement("span");n.style.marginRight="10px";var r=this.cameras.length;if(r===0)throw new Error("No cameras found");if(r===1)n.style.display="none";else{var l=Yt.selectCamera();n.innerText="".concat(l," (").concat(this.cameras.length,")  ")}for(var u=1,g=0,y=this.cameras;g<y.length;g++){var b=y[g],x=b.id,E=b.label==null?x:b.label;(!E||E==="")&&(E=[Yt.anonymousCameraPrefix(),u++].join(" "));var C=document.createElement("option");C.value=x,C.innerText=E,this.options.push(C),this.selectElement.appendChild(C)}n.appendChild(this.selectElement),e.appendChild(n)},t.prototype.disable=function(){this.selectElement.disabled=!0},t.prototype.isDisabled=function(){return this.selectElement.disabled===!0},t.prototype.enable=function(){this.selectElement.disabled=!1},t.prototype.getValue=function(){return this.selectElement.value},t.prototype.hasValue=function(e){for(var n=0,r=this.options;n<r.length;n++){var l=r[n];if(l.value===e)return!0}return!1},t.prototype.setValue=function(e){if(!this.hasValue(e))throw new Error("".concat(e," is not present in the camera list."));this.selectElement.value=e},t.prototype.hasSingleItem=function(){return this.cameras.length===1},t.prototype.numCameras=function(){return this.cameras.length},t.create=function(e,n){var r=new t(n);return r.render(e),r},t}(),mV=function(){function t(){this.onChangeCallback=null,this.zoomElementContainer=document.createElement("div"),this.rangeInput=qr.createElement("input",os.ZOOM_SLIDER_ID),this.rangeInput.type="range",this.rangeText=document.createElement("span"),this.rangeInput.min="1",this.rangeInput.max="5",this.rangeInput.value="1",this.rangeInput.step="0.1"}return t.prototype.render=function(e,n){this.zoomElementContainer.style.display=n?"block":"none",this.zoomElementContainer.style.padding="5px 10px",this.zoomElementContainer.style.textAlign="center",e.appendChild(this.zoomElementContainer),this.rangeInput.style.display="inline-block",this.rangeInput.style.width="50%",this.rangeInput.style.height="5px",this.rangeInput.style.background="#d3d3d3",this.rangeInput.style.outline="none",this.rangeInput.style.opacity="0.7";var r=Yt.zoom();this.rangeText.innerText="".concat(this.rangeInput.value,"x ").concat(r),this.rangeText.style.marginRight="10px";var l=this;this.rangeInput.addEventListener("input",function(){return l.onValueChange()}),this.rangeInput.addEventListener("change",function(){return l.onValueChange()}),this.zoomElementContainer.appendChild(this.rangeInput),this.zoomElementContainer.appendChild(this.rangeText)},t.prototype.onValueChange=function(){var e=Yt.zoom();this.rangeText.innerText="".concat(this.rangeInput.value,"x ").concat(e),this.onChangeCallback&&this.onChangeCallback(parseFloat(this.rangeInput.value))},t.prototype.setValues=function(e,n,r,l){this.rangeInput.min=e.toString(),this.rangeInput.max=n.toString(),this.rangeInput.step=l.toString(),this.rangeInput.value=r.toString(),this.onValueChange()},t.prototype.show=function(){this.zoomElementContainer.style.display="block"},t.prototype.hide=function(){this.zoomElementContainer.style.display="none"},t.prototype.setOnCameraZoomValueChangeCallback=function(e){this.onChangeCallback=e},t.prototype.removeOnCameraZoomValueChangeCallback=function(){this.onChangeCallback=null},t.create=function(e,n){var r=new t;return r.render(e,n),r},t}(),as;(function(t){t[t.STATUS_DEFAULT=0]="STATUS_DEFAULT",t[t.STATUS_SUCCESS=1]="STATUS_SUCCESS",t[t.STATUS_WARNING=2]="STATUS_WARNING",t[t.STATUS_REQUESTING_PERMISSION=3]="STATUS_REQUESTING_PERMISSION"})(as||(as={}));function pV(t){return{fps:t.fps,qrbox:t.qrbox,aspectRatio:t.aspectRatio,disableFlip:t.disableFlip,videoConstraints:t.videoConstraints}}function xV(t,e){return{formatsToSupport:t.formatsToSupport,useBarCodeDetectorIfSupported:t.useBarCodeDetectorIfSupported,experimentalFeatures:t.experimentalFeatures,verbose:e}}var yV=function(){function t(e,n,r){if(this.lastMatchFound=null,this.cameraScanImage=null,this.fileScanImage=null,this.fileSelectionUi=null,this.elementId=e,this.config=this.createConfig(n),this.verbose=r===!0,!document.getElementById(e))throw"HTML Element with id=".concat(e," not found");this.scanTypeSelector=new La(this.config.supportedScanTypes),this.currentScanType=this.scanTypeSelector.getDefaultScanType(),this.sectionSwapAllowed=!0,this.logger=new SC(this.verbose),this.persistedDataManager=new aV,n.rememberLastUsedCamera!==!0&&this.persistedDataManager.reset()}return t.prototype.render=function(e,n){var r=this;this.lastMatchFound=null,this.qrCodeSuccessCallback=function(u,g){if(e)e(u,g);else{if(r.lastMatchFound===u)return;r.lastMatchFound=u,r.setHeaderMessage(Yt.lastMatch(u),as.STATUS_SUCCESS)}},this.qrCodeErrorCallback=function(u,g){n&&n(u,g)};var l=document.getElementById(this.elementId);if(!l)throw"HTML Element with id=".concat(this.elementId," not found");l.innerHTML="",this.createBasicLayout(l),this.html5Qrcode=new Gv(this.getScanRegionId(),xV(this.config,this.verbose))},t.prototype.pause=function(e){(ur(e)||e!==!0)&&(e=!1),this.getHtml5QrcodeOrFail().pause(e)},t.prototype.resume=function(){this.getHtml5QrcodeOrFail().resume()},t.prototype.getState=function(){return this.getHtml5QrcodeOrFail().getState()},t.prototype.clear=function(){var e=this,n=function(){var r=document.getElementById(e.elementId);r&&(r.innerHTML="",e.resetBasicLayout(r))};return this.html5Qrcode?new Promise(function(r,l){if(!e.html5Qrcode){r();return}e.html5Qrcode.isScanning?e.html5Qrcode.stop().then(function(u){if(!e.html5Qrcode){r();return}e.html5Qrcode.clear(),n(),r()}).catch(function(u){e.verbose&&e.logger.logError("Unable to stop qrcode scanner",u),l(u)}):(e.html5Qrcode.clear(),n(),r())}):Promise.resolve()},t.prototype.getRunningTrackCapabilities=function(){return this.getHtml5QrcodeOrFail().getRunningTrackCapabilities()},t.prototype.getRunningTrackSettings=function(){return this.getHtml5QrcodeOrFail().getRunningTrackSettings()},t.prototype.applyVideoConstraints=function(e){return this.getHtml5QrcodeOrFail().applyVideoConstraints(e)},t.prototype.getHtml5QrcodeOrFail=function(){if(!this.html5Qrcode)throw"Code scanner not initialized.";return this.html5Qrcode},t.prototype.createConfig=function(e){return e?(e.fps||(e.fps=Us.SCAN_DEFAULT_FPS),e.rememberLastUsedCamera!==!Us.DEFAULT_REMEMBER_LAST_CAMERA_USED&&(e.rememberLastUsedCamera=Us.DEFAULT_REMEMBER_LAST_CAMERA_USED),e.supportedScanTypes||(e.supportedScanTypes=Us.DEFAULT_SUPPORTED_SCAN_TYPE),e):{fps:Us.SCAN_DEFAULT_FPS,rememberLastUsedCamera:Us.DEFAULT_REMEMBER_LAST_CAMERA_USED,supportedScanTypes:Us.DEFAULT_SUPPORTED_SCAN_TYPE}},t.prototype.createBasicLayout=function(e){e.style.position="relative",e.style.padding="0px",e.style.border="1px solid silver",this.createHeader(e);var n=document.createElement("div"),r=this.getScanRegionId();n.id=r,n.style.width="100%",n.style.minHeight="100px",n.style.textAlign="center",e.appendChild(n),La.isCameraScanType(this.currentScanType)?this.insertCameraScanImageToScanRegion():this.insertFileScanImageToScanRegion();var l=document.createElement("div"),u=this.getDashboardId();l.id=u,l.style.width="100%",e.appendChild(l),this.setupInitialDashboard(l)},t.prototype.resetBasicLayout=function(e){e.style.border="none"},t.prototype.setupInitialDashboard=function(e){this.createSection(e),this.createSectionControlPanel(),this.scanTypeSelector.hasMoreThanOneScanType()&&this.createSectionSwap()},t.prototype.createHeader=function(e){var n=document.createElement("div");n.style.textAlign="left",n.style.margin="0px",e.appendChild(n);var r=new cV;r.renderInto(n);var l=document.createElement("div");l.id=this.getHeaderMessageContainerId(),l.style.display="none",l.style.textAlign="center",l.style.fontSize="14px",l.style.padding="2px 10px",l.style.margin="4px",l.style.borderTop="1px solid #f6f6f6",n.appendChild(l)},t.prototype.createSection=function(e){var n=document.createElement("div");n.id=this.getDashboardSectionId(),n.style.width="100%",n.style.padding="10px 0px 10px 0px",n.style.textAlign="left",e.appendChild(n)},t.prototype.createCameraListUi=function(e,n,r){var l=this;l.showHideScanTypeSwapLink(!1),l.setHeaderMessage(Yt.cameraPermissionRequesting());var u=function(){r||l.createPermissionButton(e,n)};Gv.getCameras().then(function(g){l.persistedDataManager.setHasPermission(!0),l.showHideScanTypeSwapLink(!0),l.resetHeaderMessage(),g&&g.length>0?(e.removeChild(n),l.renderCameraSelection(g)):(l.setHeaderMessage(Yt.noCameraFound(),as.STATUS_WARNING),u())}).catch(function(g){l.persistedDataManager.setHasPermission(!1),r?r.disabled=!1:u(),l.setHeaderMessage(g,as.STATUS_WARNING),l.showHideScanTypeSwapLink(!0)})},t.prototype.createPermissionButton=function(e,n){var r=this,l=qr.createElement("button",this.getCameraPermissionButtonId());l.innerText=Yt.cameraPermissionTitle(),l.addEventListener("click",function(){l.disabled=!0,r.createCameraListUi(e,n,l)}),n.appendChild(l)},t.prototype.createPermissionsUi=function(e,n){var r=this;if(La.isCameraScanType(this.currentScanType)&&this.persistedDataManager.hasCameraPermissions()){Xv.hasPermissions().then(function(l){l?r.createCameraListUi(e,n):(r.persistedDataManager.setHasPermission(!1),r.createPermissionButton(e,n))}).catch(function(l){r.persistedDataManager.setHasPermission(!1),r.createPermissionButton(e,n)});return}this.createPermissionButton(e,n)},t.prototype.createSectionControlPanel=function(){var e=document.getElementById(this.getDashboardSectionId()),n=document.createElement("div");e.appendChild(n);var r=document.createElement("div");r.id=this.getDashboardSectionCameraScanRegionId(),r.style.display=La.isCameraScanType(this.currentScanType)?"block":"none",n.appendChild(r);var l=document.createElement("div");l.style.textAlign="center",r.appendChild(l),this.scanTypeSelector.isCameraScanRequired()&&this.createPermissionsUi(r,l),this.renderFileScanUi(n)},t.prototype.renderFileScanUi=function(e){var n=La.isFileScanType(this.currentScanType),r=this,l=function(u){if(!r.html5Qrcode)throw"html5Qrcode not defined";La.isFileScanType(r.currentScanType)&&(r.setHeaderMessage(Yt.loadingImage()),r.html5Qrcode.scanFileV2(u,!0).then(function(g){r.resetHeaderMessage(),r.qrCodeSuccessCallback(g.decodedText,g)}).catch(function(g){r.setHeaderMessage(g,as.STATUS_WARNING),r.qrCodeErrorCallback(g,EC.createFrom(g))}))};this.fileSelectionUi=hV.create(e,n,l)},t.prototype.renderCameraSelection=function(e){var n=this,r=this,l=document.getElementById(this.getDashboardSectionCameraScanRegionId());l.style.textAlign="center";var u=mV.create(l,!1),g=function(B){var j=B.zoomFeature();if(j.isSupported()){u.setOnCameraZoomValueChangeCallback(function($){j.apply($)});var V=1;n.config.defaultZoomValueIfSupported&&(V=n.config.defaultZoomValueIfSupported),V=LF(V,j.min(),j.max()),u.setValues(j.min(),j.max(),V,j.step()),u.show()}},y=gV.create(l,e),b=document.createElement("span"),x=qr.createElement("button",os.CAMERA_START_BUTTON_ID);x.innerText=Yt.scanButtonStartScanningText(),b.appendChild(x);var E=qr.createElement("button",os.CAMERA_STOP_BUTTON_ID);E.innerText=Yt.scanButtonStopScanningText(),E.style.display="none",E.disabled=!0,b.appendChild(E);var C,N=function(B){if(!B.torchFeature().isSupported()){C&&C.hide();return}C?C.updateTorchCapability(B.torchFeature()):C=dV.create(b,B.torchFeature(),{display:"none",marginLeft:"5px"},function(j){r.setHeaderMessage(j,as.STATUS_WARNING)}),C.show()};l.appendChild(b);var O=function(B){B||(x.style.display="none"),x.innerText=Yt.scanButtonStartScanningText(),x.style.opacity="1",x.disabled=!1,B&&(x.style.display="inline-block")};if(x.addEventListener("click",function(B){x.innerText=Yt.scanButtonScanningStarting(),y.disable(),x.disabled=!0,x.style.opacity="0.5",n.scanTypeSelector.hasMoreThanOneScanType()&&r.showHideScanTypeSwapLink(!1),r.resetHeaderMessage();var j=y.getValue();r.persistedDataManager.setLastUsedCameraId(j),r.html5Qrcode.start(j,pV(r.config),r.qrCodeSuccessCallback,r.qrCodeErrorCallback).then(function(V){E.disabled=!1,E.style.display="inline-block",O(!1);var $=r.html5Qrcode.getRunningTrackCameraCapabilities();n.config.showTorchButtonIfSupported===!0&&N($),n.config.showZoomSliderIfSupported===!0&&g($)}).catch(function(V){r.showHideScanTypeSwapLink(!0),y.enable(),O(!0),r.setHeaderMessage(V,as.STATUS_WARNING)})}),y.hasSingleItem()&&x.click(),E.addEventListener("click",function(B){if(!r.html5Qrcode)throw"html5Qrcode not defined";E.disabled=!0,r.html5Qrcode.stop().then(function(j){n.scanTypeSelector.hasMoreThanOneScanType()&&r.showHideScanTypeSwapLink(!0),y.enable(),x.disabled=!1,E.style.display="none",x.style.display="inline-block",C&&(C.reset(),C.hide()),u.removeOnCameraZoomValueChangeCallback(),u.hide(),r.insertCameraScanImageToScanRegion()}).catch(function(j){E.disabled=!1,r.setHeaderMessage(j,as.STATUS_WARNING)})}),r.persistedDataManager.getLastUsedCameraId()){var M=r.persistedDataManager.getLastUsedCameraId();y.hasValue(M)?(y.setValue(M),x.click()):r.persistedDataManager.resetLastUsedCameraId()}},t.prototype.createSectionSwap=function(){var e=this,n=Yt.textIfCameraScanSelected(),r=Yt.textIfFileScanSelected(),l=document.getElementById(this.getDashboardSectionId()),u=document.createElement("div");u.style.textAlign="center";var g=qr.createElement("span",this.getDashboardSectionSwapLinkId());g.style.textDecoration="underline",g.style.cursor="pointer",g.innerText=La.isCameraScanType(this.currentScanType)?n:r,g.addEventListener("click",function(){if(!e.sectionSwapAllowed){e.verbose&&e.logger.logError("Section swap called when not allowed");return}e.resetHeaderMessage(),e.fileSelectionUi.resetValue(),e.sectionSwapAllowed=!1,La.isCameraScanType(e.currentScanType)?(e.clearScanRegion(),e.getCameraScanRegion().style.display="none",e.fileSelectionUi.show(),g.innerText=r,e.currentScanType=so.SCAN_TYPE_FILE,e.insertFileScanImageToScanRegion()):(e.clearScanRegion(),e.getCameraScanRegion().style.display="block",e.fileSelectionUi.hide(),g.innerText=n,e.currentScanType=so.SCAN_TYPE_CAMERA,e.insertCameraScanImageToScanRegion(),e.startCameraScanIfPermissionExistsOnSwap()),e.sectionSwapAllowed=!0}),u.appendChild(g),l.appendChild(u)},t.prototype.startCameraScanIfPermissionExistsOnSwap=function(){var e=this,n=this;if(this.persistedDataManager.hasCameraPermissions()){Xv.hasPermissions().then(function(r){if(r){var l=document.getElementById(n.getCameraPermissionButtonId());if(!l)throw e.logger.logError("Permission button not found, fail;"),"Permission button not found";l.click()}else n.persistedDataManager.setHasPermission(!1)}).catch(function(r){n.persistedDataManager.setHasPermission(!1)});return}},t.prototype.resetHeaderMessage=function(){var e=document.getElementById(this.getHeaderMessageContainerId());e.style.display="none"},t.prototype.setHeaderMessage=function(e,n){n||(n=as.STATUS_DEFAULT);var r=this.getHeaderMessageDiv();switch(r.innerText=e,r.style.display="block",n){case as.STATUS_SUCCESS:r.style.background="rgba(106, 175, 80, 0.26)",r.style.color="#477735";break;case as.STATUS_WARNING:r.style.background="rgba(203, 36, 49, 0.14)",r.style.color="#cb2431";break;case as.STATUS_DEFAULT:default:r.style.background="rgba(0, 0, 0, 0)",r.style.color="rgb(17, 17, 17)";break}},t.prototype.showHideScanTypeSwapLink=function(e){this.scanTypeSelector.hasMoreThanOneScanType()&&(e!==!0&&(e=!1),this.sectionSwapAllowed=e,this.getDashboardSectionSwapLink().style.display=e?"inline-block":"none")},t.prototype.insertCameraScanImageToScanRegion=function(){var e=this,n=document.getElementById(this.getScanRegionId());if(this.cameraScanImage){n.innerHTML="<br>",n.appendChild(this.cameraScanImage);return}this.cameraScanImage=new Image,this.cameraScanImage.onload=function(r){n.innerHTML="<br>",n.appendChild(e.cameraScanImage)},this.cameraScanImage.width=64,this.cameraScanImage.style.opacity="0.8",this.cameraScanImage.src=iV,this.cameraScanImage.alt=Yt.cameraScanAltText()},t.prototype.insertFileScanImageToScanRegion=function(){var e=this,n=document.getElementById(this.getScanRegionId());if(this.fileScanImage){n.innerHTML="<br>",n.appendChild(this.fileScanImage);return}this.fileScanImage=new Image,this.fileScanImage.onload=function(r){n.innerHTML="<br>",n.appendChild(e.fileScanImage)},this.fileScanImage.width=64,this.fileScanImage.style.opacity="0.8",this.fileScanImage.src=sV,this.fileScanImage.alt=Yt.fileScanAltText()},t.prototype.clearScanRegion=function(){var e=document.getElementById(this.getScanRegionId());e.innerHTML=""},t.prototype.getDashboardSectionId=function(){return"".concat(this.elementId,"__dashboard_section")},t.prototype.getDashboardSectionCameraScanRegionId=function(){return"".concat(this.elementId,"__dashboard_section_csr")},t.prototype.getDashboardSectionSwapLinkId=function(){return os.SCAN_TYPE_CHANGE_ANCHOR_ID},t.prototype.getScanRegionId=function(){return"".concat(this.elementId,"__scan_region")},t.prototype.getDashboardId=function(){return"".concat(this.elementId,"__dashboard")},t.prototype.getHeaderMessageContainerId=function(){return"".concat(this.elementId,"__header_message")},t.prototype.getCameraPermissionButtonId=function(){return os.CAMERA_PERMISSION_BUTTON_ID},t.prototype.getCameraScanRegion=function(){return document.getElementById(this.getDashboardSectionCameraScanRegionId())},t.prototype.getDashboardSectionSwapLink=function(){return document.getElementById(this.getDashboardSectionSwapLinkId())},t.prototype.getHeaderMessageDiv=function(){return document.getElementById(this.getHeaderMessageContainerId())},t}();function Kv({onScan:t,onClose:e}){const{t:n}=kn(),r=R.useRef(`qr-reader-${Math.random().toString(36).substr(2,9)}`),l=R.useRef(null),[u,g]=R.useState(!1);R.useEffect(()=>{g(!1);const b={fps:10,qrbox:250,rememberLastUsedCamera:!0},x=new yV(r.current,b,!1);l.current=x;const E=N=>{u||(g(!0),x.clear().catch(()=>{}).finally(()=>{t(N)}))},C=N=>{`${N}`.includes("No MultiFormat Readers")||console.error("QR scan error:",N)};return x.render(E,C),()=>{var N;(N=l.current)==null||N.clear().catch(()=>{})}},[t,u]);const y=()=>{var b;g(!1),(b=l.current)==null||b.clear().catch(()=>{}).then(()=>{l.current&&l.current.render(x=>{u||(g(!0),l.current.clear().catch(()=>{}).finally(()=>t(x)))},x=>{`${x}`.includes("No MultiFormat Readers")||console.error("QR scan error:",x)})})};return T.jsx(Gi.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.8},transition:{type:"spring",damping:20},className:"fixed inset-0 bg-black/30 flex items-center justify-center z-50",children:T.jsxs(Gi.div,{initial:{y:-20},animate:{y:0},exit:{y:20},className:"bg-white rounded-2xl shadow-lg p-6 w-full max-w-sm",children:[T.jsxs("div",{className:"flex justify-between items-center mb-4",children:[T.jsx("h3",{className:"text-lg font-bold",children:n("scanStudentQr")}),T.jsx("button",{onClick:e,className:"text-gray-500 hover:text-gray-800",children:"✕"})]}),T.jsx("div",{id:r.current,style:{width:"100%",height:"300px"},className:"mb-4 bg-gray-50"}),T.jsxs("div",{className:"flex justify-between gap-2",children:[u&&T.jsx("button",{onClick:y,className:"flex-1 px-4 py-2 bg-blue-100 hover:bg-blue-200 rounded-lg",children:n("scanAnother")}),T.jsx("button",{onClick:e,className:"flex-1 px-4 py-2 bg-gray-100 hover:bg-gray-200 rounded-lg",children:n("cancel")})]})]})})}const Zv=["bg-pink-300","bg-orange-300","bg-yellow-300","bg-lime-300","bg-emerald-300","bg-cyan-300","bg-purple-300","bg-rose-300"],Ng="#f6f6f6",Ds="#6654b3",rc=()=>new Date().toISOString().slice(0,10),ac=new Audio("/ding.wav"),Ur=new Audio("/wrongbeep.wav");function bV(){const{t}=kn(),e=Ss(),[n,r]=R.useState(null),[l,u]=R.useState(!1),[g,y]=R.useState(!1),[b,x]=R.useState(null),[E,C]=R.useState(null);R.useEffect(()=>{if(!b)return;const z=setTimeout(()=>x(null),4e3);return()=>clearTimeout(z)},[b]);const[N,O]=R.useState(!0),[M,B]=R.useState(!0),[j,V]=R.useState(""),[$,U]=R.useState([]),[q,W]=R.useState([]),[ne,X]=R.useState([]);R.useEffect(()=>{(async()=>{const{data:z}=await je.from("courses").select("id,name").order("name");U(z||[]),O(!1);const[te,xe]=await Promise.all([je.from("students").select("id,first_name,last_name,courses,course_limits,qr_code_url"),je.from("attendance").select("*").gte("attended_at_ts",rc())]);W(te.data||[]),X(xe.data||[]),B(!1)})()},[]);const oe=ne.filter(z=>z.approved_by),ee=R.useMemo(()=>{const z={};return oe.forEach(te=>{var xe;te.course_id&&(z[xe=te.student_id]??(z[xe]={}),z[te.student_id][te.course_id]=(z[te.student_id][te.course_id]||0)+1)}),z},[oe]),pe=R.useMemo(()=>{const z={};return oe.forEach(te=>{var xe;te.course_id&&te.attended_at_ts.slice(0,10)===rc()&&(z[xe=te.course_id]??(z[xe]=new Set),z[te.course_id].add(te.student_id))}),z},[oe]),ke=ne.filter(z=>!z.approved_by),be=(z,te)=>{var xe;return((xe=ee[z])==null?void 0:xe[te])||0},Ce=(z,te)=>z.course_limits[te]||0,Be=(z,te)=>{var xe;return(xe=pe[te])==null?void 0:xe.has(z)};async function re(z){await je.from("attendance").delete().eq("id",z.id),X(te=>te.filter(xe=>xe.id!==z.id))}async function se(z,te){const xe=`${z.id}|${te}`;if(j===xe)return;V(xe);const{data:{user:ye}}=await je.auth.getUser(),Me=ye==null?void 0:ye.id;try{if(Be(z.id,te)){const Pe=ne.find(we=>we.student_id===z.id&&we.course_id===te&&we.attended_at_ts.slice(0,10)===rc());Pe&&(await je.from("attendance").delete().eq("id",Pe.id),X(we=>we.filter(lt=>lt.id!==Pe.id))),x({message:t("uncheckedStudent",{first:z.first_name,last:z.last_name}),type:"error"})}else{if(Ce(z,te)&&be(z.id,te)>=Ce(z,te)){x({message:t("overLimit",{first:z.first_name,last:z.last_name}),type:"error"});return}const{data:Pe,error:we}=await je.from("attendance").insert({student_id:z.id,course_id:te,attended_at_ts:rc(),approved_by:Me}).select();if(we)throw we;X(lt=>[...lt,Pe[0]]),x({message:t("checkedInStudent",{first:z.first_name,last:z.last_name}),type:"success"})}}finally{V(""),y(!1)}}async function le(z){const te=z.trim(),xe=q.find(Pe=>Pe.id===te);if(y(!1),!xe){Ur.pause(),Ur.currentTime=0,Ur.play(),x({message:t("unknownCode"),type:"error"});return}if(ne.some(Pe=>Pe.student_id===te&&Pe.attended_at_ts.slice(0,10)===rc())){Ur.pause(),Ur.currentTime=0,Ur.play(),x({message:t("alreadyScanned",{first:xe.first_name,last:xe.last_name}),type:"error"});return}const{data:ye,error:Me}=await je.from("attendance").insert({student_id:te,course_id:null,attended_at_ts:rc()}).select();Me?(Ur.pause(),Ur.currentTime=0,Ur.play(),x({message:t("scanFailed"),type:"error"})):(X(Pe=>[...Pe,ye[0]]),ac.pause(),ac.currentTime=0,ac.play(),x({message:t("pendingStudent",{first:xe.first_name,last:xe.last_name}),type:"success"}))}async function Le(z,te){if(!te.length)return;const{data:{user:xe}}=await je.auth.getUser(),ye=xe==null?void 0:xe.id,Me=q.find(Pe=>Pe.id===z.student_id);if(await je.from("attendance").update({course_id:te[0],approved_by:ye}).eq("id",z.id),te.length>1){const Pe=te.slice(1).map(we=>({student_id:z.student_id,course_id:we,attended_at_ts:z.attended_at_ts,approved_by:ye}));await je.from("attendance").insert(Pe)}X(Pe=>{const we=Pe.filter(He=>He.id!==z.id),lt={...z,course_id:te[0],approved_by:ye},ve=[...we,lt];return te.length>1&&te.slice(1).forEach(He=>ve.push({...z,id:crypto.randomUUID(),course_id:He,approved_by:ye})),ve}),ac.pause(),ac.currentTime=0,ac.play(),x({message:t("checkedInStudent",{first:Me.first_name,last:Me.last_name}),type:"success"})}const ze=T.jsx(Uu,{children:b&&T.jsxs(Gi.div,{initial:{y:50,opacity:0},animate:{y:0,opacity:1},exit:{y:50,opacity:0},transition:{type:"spring",stiffness:300},className:`fixed bottom-4 left-1/2 transform -translate-x-1/2 
                      max-w-md w-full px-4 py-3 rounded-xl shadow-lg flex 
                      justify-between items-center z-50 ${b.type==="success"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:[T.jsx("span",{children:b.message}),T.jsx("button",{onClick:()=>x(null),className:"text-xl font-bold leading-none",children:"×"})]},"banner")});return l?M?T.jsx("div",{className:"p-6 text-center",children:t("loadingPending")}):T.jsxs(T.Fragment,{children:[ze,T.jsxs("main",{style:{background:Ng},className:"min-h-screen p-6",children:[T.jsxs("header",{className:"flex items-center gap-4 mb-4",children:[T.jsx("button",{onClick:()=>u(!1),className:"p-2 rounded-full bg-gray-100 hover:bg-gray-200 shadow",children:T.jsx(nm,{className:"w-6 h-6 text-gray-700"})}),T.jsx("h2",{className:"text-2xl font-bold",style:{color:Ds},children:t("pendingCheckins")})]}),ke.length===0?T.jsx("p",{className:"text-gray-500",children:t("noPendingCheckins")}):ke.map(z=>{const te=q.find(xe=>xe.id===z.student_id);return te?T.jsx(wV,{row:z,student:te,courses:$,onApprove:Le,onDelete:re},z.id):null})]})]}):T.jsxs("div",{style:{background:Ng},className:"min-h-screen",children:[ze,T.jsx(Uu,{mode:"wait",children:n==null?T.jsxs("main",{className:"min-h-screen p-6 flex flex-col items-center gap-8",style:{background:Ng},children:[T.jsxs("div",{className:"w-full max-w-5xl flex justify-between items-center mb-6",children:[T.jsx("h1",{className:"text-3xl font-extrabold",style:{color:Ds},children:t("takeAttendance")}),T.jsxs("div",{className:"flex gap-3",children:[T.jsxs("button",{onClick:()=>u(!0),className:"relative p-2 bg-yellow-400 text-white rounded-full shadow",children:[T.jsx(bD,{className:"w-5 h-5"}),ke.length>0&&T.jsx("span",{className:"absolute -top-1 -right-1 bg-red-600 text-[10px] px-1 rounded-full",children:ke.length})]}),T.jsx(Gi.button,{whileTap:{scale:.92},onClick:()=>y(!0),className:"p-2",style:{background:Ds,color:"#fff",borderRadius:"9999px",boxShadow:"0 2px 8px 0 rgba(102,84,179,0.12)"},children:T.jsx(Zb,{className:"w-6 h-6"})})]})]}),T.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-7 w-full max-w-4xl",children:N?Array(6).fill(0).map((z,te)=>T.jsx(Gi.div,{initial:{opacity:.3},animate:{opacity:1},className:"w-32 h-32 bg-gray-200 rounded-2xl"},te)):$.map((z,te)=>T.jsx(Gi.button,{whileHover:{scale:1.06},whileTap:{scale:.95},onClick:()=>r(z),className:`${Zv[te%Zv.length]} w-32 h-32 md:w-40 md:h-40 rounded-2xl shadow-lg
                                 flex items-center justify-center text-white font-bold text-lg transition-all duration-150`,style:{boxShadow:"0 3px 16px 0 rgba(102,84,179,0.06)"},children:z.name},z.id))}),T.jsx(Uu,{children:g&&T.jsx(Kv,{onScan:le,onClose:()=>y(!1)},"scanner-grid")})]}):M?T.jsx("div",{className:"p-6 text-center",children:t("loadingStudents")}):T.jsxs(Gi.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"p-6 space-y-6",children:[T.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[T.jsx("button",{onClick:()=>r(null),className:"p-2 bg-gray-100 rounded-full hover:bg-gray-200 shadow",children:T.jsx(nm,{className:"w-6 h-6 text-gray-700"})}),T.jsx("h2",{className:"text-2xl font-bold",style:{color:Ds},children:n.name}),T.jsx(Gi.button,{whileTap:{scale:.92},onClick:()=>y(!0),className:"ml-auto p-2",style:{background:Ds,color:"#fff",borderRadius:"9999px",boxShadow:"0 2px 8px 0 rgba(102,84,179,0.12)"},children:T.jsx(Zb,{className:"w-6 h-6"})})]}),T.jsxs("table",{className:"min-w-full bg-white rounded-xl shadow",style:{boxShadow:"0 2px 12px 0 rgba(102,84,179,0.05)"},children:[T.jsx("thead",{style:{background:"#ede9fe"},children:T.jsxs("tr",{children:[T.jsx("th",{className:"px-3 py-2 text-left font-semibold",style:{color:Ds},children:t("student")}),T.jsx("th",{className:"px-3 py-2 font-semibold",style:{color:Ds},children:t("slots")}),T.jsx("th",{className:"px-3 py-2 font-semibold",style:{color:Ds},children:t("usedLimit")}),T.jsx("th",{className:"px-3 py-2 font-semibold",style:{color:Ds},children:t("check")}),T.jsx("th",{className:"px-3 py-2 font-semibold",style:{color:Ds},children:"QR"})]})}),T.jsx("tbody",{children:q.filter(z=>!!z.courses[n.id]).map(z=>{const te=be(z.id,n.id),xe=Ce(z,n.id),ye=Be(z.id,n.id),Me=j===`${z.id}|${n.id}`;return T.jsxs(Gi.tr,{whileHover:{backgroundColor:"#f3f4f6"},className:"border-t transition",children:[T.jsxs("td",{onClick:()=>e(`/myschool/student/${z.id}`),className:"px-3 py-1 text-blue-700 font-semibold hover:underline cursor-pointer",children:[z.first_name," ",z.last_name]}),T.jsx("td",{className:"px-3 py-1 text-gray-700",children:Object.entries(z.courses[n.id]).flatMap(([Pe,we])=>we.map(lt=>`${Pe} ${lt}`)).join(", ")}),T.jsxs("td",{className:"px-3 py-1 text-center",children:[te,"/",xe||t("unlimited")]}),T.jsx("td",{className:"px-3 py-1 text-center",children:T.jsx(Gi.button,{whileTap:{scale:.82},disabled:Me,onClick:()=>se(z,n.id),className:`w-9 h-9 rounded-full transition font-bold ${ye?"bg-green-500 text-white":xe&&te>=xe?"bg-gray-200 text-gray-400":"bg-gray-300 text-gray-700 hover:bg-gray-400"}`,children:"✓"})}),T.jsx("td",{className:"px-3 py-1 text-center",children:T.jsx("button",{onClick:()=>C(z.qr_code_url),disabled:!z.qr_code_url,className:"px-3 py-1 bg-purple-100 hover:bg-purple-200 rounded-full text-xs text-[#6654b3] font-bold disabled:opacity-50",children:"QR"})})]},z.id)})})]}),T.jsx(Uu,{children:g&&T.jsx(Kv,{onScan:z=>{const te=z.trim(),xe=q.find(ye=>ye.id===te);xe&&se(xe,n.id)},onClose:()=>y(!1)},"scanner-detail")})]},"detail")}),T.jsx(Uu,{children:E&&T.jsx(Gi.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},transition:{type:"spring",damping:20},className:"fixed inset-0 bg-black/30 flex items-center justify-center z-50",children:T.jsxs(Gi.div,{initial:{y:-20},animate:{y:0},exit:{y:20},className:"bg-white p-6 rounded-xl shadow-lg text-center",children:[T.jsx("h3",{className:"text-lg font-bold mb-4",style:{color:Ds},children:t("studentQrCode")}),T.jsx("img",{src:E,alt:"QR",className:"mx-auto max-w-xs mb-4"}),T.jsxs("div",{className:"flex justify-center gap-4",children:[T.jsx("a",{href:E,download:!0,className:"px-4 py-2 bg-blue-100 hover:bg-blue-200 rounded-lg",children:t("download")}),T.jsx("button",{onClick:()=>{const z=window.open("");z&&(z.document.write(`<img src="${E}" onload="window.print();window.close()" />`),z.document.close())},className:"px-4 py-2 bg-green-100 hover:bg-green-200 rounded-lg",children:t("print")}),T.jsx("button",{onClick:()=>C(null),className:"px-4 py-2 bg-gray-100 hover:bg-gray-200 rounded-lg",children:t("close")})]})]})},"qrModal")})]})}function wV({row:t,student:e,courses:n,onApprove:r,onDelete:l}){const{t:u}=kn(),[g,y]=R.useState([]),b=Object.keys(e.courses);return T.jsxs(Gi.div,{initial:{opacity:0,y:16},animate:{opacity:1,y:0},exit:{opacity:0,y:16},className:"border border-gray-100 bg-white p-4 mb-4 rounded-2xl shadow",style:{boxShadow:"0 2px 10px 0 rgba(102,84,179,0.04)"},children:[T.jsxs("div",{className:"flex justify-between items-center mb-2",children:[T.jsxs("h3",{className:"font-semibold text-[#6654b3]",children:[e.first_name," ",e.last_name]}),T.jsx("button",{onClick:()=>l(t),className:"text-gray-400 hover:text-red-500 text-lg px-2 font-bold",children:"×"})]}),T.jsx("div",{className:"flex flex-wrap gap-3 mb-3",children:b.map(x=>{var E;return T.jsxs("label",{className:"inline-flex items-center gap-2 px-2 py-1 rounded-lg bg-[#ede9fe] text-[#6654b3] font-semibold cursor-pointer",children:[T.jsx("input",{type:"checkbox",checked:g.includes(x),onChange:C=>y(N=>C.target.checked?[...N,x]:N.filter(O=>O!==x)),className:"accent-[#6654b3]"}),(E=n.find(C=>C.id===x))==null?void 0:E.name]},x)})}),T.jsx("button",{disabled:!g.length,onClick:()=>r(t,g),className:"px-5 py-2 bg-green-600 hover:bg-green-700 text-white rounded-full font-bold disabled:opacity-50 transition",children:u("approve")})]})}function vV(){const{t}=kn();return T.jsx("div",{className:"text-2xl font-bold",children:t("billingComingSoon")},Zn.language)}function EV(){return T.jsx("div",{className:"text-2xl font-bold",children:"Reports Page (coming soon)"})}function SV(){const{t}=kn();return T.jsx("div",{className:"text-2xl font-bold",children:t("Messaging Page (coming soon)")},Zn.language)}const CV="#f6f6f6";function AV(){const{t}=kn(),{user:e}=_f(),n=(e==null?void 0:e.role)==="admin",[r,l]=R.useState([]),[u,g]=R.useState(!1),[y,b]=R.useState(null),[x,E]=R.useState(!1),[C,N]=R.useState(""),[O,M]=R.useState(""),[B,j]=R.useState(""),[V,$]=R.useState("staff"),[U,q]=R.useState(!1),[W,ne]=R.useState(null),[X,oe]=R.useState(!1);R.useEffect(()=>{ee()},[]);async function ee(){g(!0),b(null);const{data:Ce,error:Be}=await je.from("profiles").select("*").order("role",{ascending:!1});if(Be)b(Be.message);else{const re=Ce;l(n?re:re.filter(se=>se.id===(e==null?void 0:e.id)))}g(!1)}async function pe(Ce){var Le;Ce.preventDefault(),q(!0),b(null);const{data:Be,error:re}=await je.auth.admin.createUser({email:C.trim().toLowerCase(),password:B,email_confirm:!0});if(re){b(re.message),q(!1);return}const se=(Le=Be.user)==null?void 0:Le.id;if(!se){b(t("noUserIdError")),q(!1);return}const{error:le}=await je.from("profiles").insert([{id:se,email:C.trim().toLowerCase(),full_name:O.trim()||null,role:V}]);le?b(le.message):(N(""),M(""),j(""),$("staff"),ee()),q(!1)}async function ke(){if(!W)return;oe(!0);const{error:Ce}=await je.from("profiles").update({full_name:W.full_name,role:W.role}).eq("id",W.id);Ce?alert(Ce.message):(ne(null),ee()),oe(!1)}async function be(Ce){Ce.role!=="admin"&&window.confirm(t("confirmRemoveStaff"))&&(await je.from("profiles").delete().eq("id",Ce.id),ee())}return T.jsxs("div",{className:"py-8 px-2 min-h-screen",style:{background:CV},children:[T.jsxs("div",{className:"max-w-5xl mx-auto flex justify-between items-center mb-8",children:[T.jsx("h1",{className:"text-3xl font-extrabold tracking-tight text-[#6654b3]",children:t("settingsTitle")}),n&&T.jsx("button",{onClick:()=>E(Ce=>!Ce),className:"flex items-center gap-2 bg-[#6654b3] hover:bg-[#5542a0] text-white px-5 py-2 rounded-full transition font-semibold shadow",children:x?T.jsxs(T.Fragment,{children:[T.jsx(cE,{className:"w-5 h-5"}),t("closeInvite")]}):T.jsxs(T.Fragment,{children:[T.jsx(MD,{className:"w-5 h-5"}),t("inviteUser")]})})]}),x&&n&&T.jsxs("div",{className:"bg-white shadow rounded-2xl p-6 max-w-xl mx-auto mb-8 border border-purple-100",children:[y&&T.jsx("p",{className:"text-red-600 mb-3",children:y}),T.jsxs("form",{onSubmit:pe,className:"grid gap-4 sm:grid-cols-2",children:[T.jsx("input",{type:"email",required:!0,placeholder:t("email"),value:C,onChange:Ce=>N(Ce.target.value),className:"border rounded px-3 py-2",autoFocus:!0}),T.jsx("input",{type:"text",required:!0,placeholder:t("fullName"),value:O,onChange:Ce=>M(Ce.target.value),className:"border rounded px-3 py-2"}),T.jsx("input",{type:"password",required:!0,placeholder:t("tempPassword"),value:B,onChange:Ce=>j(Ce.target.value),className:"border rounded px-3 py-2"}),T.jsxs("select",{value:V,onChange:Ce=>$(Ce.target.value),className:"border rounded px-3 py-2",children:[T.jsx("option",{value:"staff",children:t("roleStaff")}),T.jsx("option",{value:"admin",children:t("roleAdmin")})]}),T.jsx("div",{className:"sm:col-span-2 flex justify-end mt-2",children:T.jsx("button",{disabled:U,className:"bg-green-500 hover:bg-green-600 text-white px-6 py-2 rounded-full font-bold transition disabled:opacity-60",children:t(U?"inviting":"sendInvite")})})]})]}),T.jsxs("div",{className:"max-w-5xl mx-auto",children:[T.jsx("h2",{className:"text-2xl font-bold text-[#6654b3] mb-5",children:t("teamMembers")}),u?T.jsx("p",{children:t("loading")}):r.length===0?T.jsx("p",{className:"text-gray-500",children:t("noUsers")}):T.jsx("div",{className:"grid gap-6 sm:grid-cols-2 lg:grid-cols-3",children:r.map(Ce=>T.jsxs("div",{className:"bg-white rounded-2xl border border-purple-100 shadow p-6 flex flex-col justify-between",children:[T.jsxs("div",{children:[T.jsx("h3",{className:"text-lg font-bold text-[#6654b3]",children:Ce.full_name??"—"}),T.jsx("p",{className:"text-sm text-gray-500 mt-1",children:Ce.email}),T.jsx("span",{className:"inline-block mt-2 text-xs font-medium bg-[#f6f6f6] px-3 py-1 rounded-full text-[#6654b3] border border-purple-100",children:t("role_"+Ce.role)})]}),T.jsxs("div",{className:"mt-6 flex gap-2",children:[T.jsxs("button",{onClick:()=>n&&ne(Ce),disabled:!n,className:`flex-1 flex items-center justify-center gap-1 border rounded-full py-2 transition font-semibold
                      ${n?"border-purple-200 hover:bg-[#f6f6f6]":"opacity-50 cursor-not-allowed"}`,children:[T.jsx(OD,{className:"w-5 h-5"}),t("edit")]}),n&&Ce.role==="staff"&&T.jsxs("button",{onClick:()=>be(Ce),className:"flex-1 flex items-center justify-center gap-1 border border-red-200 text-red-600 rounded-full py-2 hover:bg-red-50 font-semibold",children:[T.jsx(kD,{className:"w-5 h-5"}),t("delete")]})]})]},Ce.id))})]}),W&&T.jsx("div",{className:"fixed inset-0 bg-black/40 flex items-center justify-center z-50",children:T.jsxs("div",{className:"bg-white rounded-2xl p-6 w-full max-w-md space-y-4 border border-purple-100",children:[T.jsx("h2",{className:"text-xl font-bold text-[#6654b3]",children:t("editUser")}),T.jsxs("label",{className:"block text-sm font-semibold text-[#6654b3]",children:[t("fullName"),T.jsx("input",{value:W.full_name??"",onChange:Ce=>ne({...W,full_name:Ce.target.value}),className:"w-full border rounded px-3 py-2 mt-1"})]}),T.jsxs("label",{className:"block text-sm font-semibold text-[#6654b3]",children:[t("emailReadOnly"),T.jsx("input",{value:W.email??"",disabled:!0,className:"w-full border rounded px-3 py-2 mt-1 bg-gray-100"})]}),(e==null?void 0:e.id)!==W.id&&T.jsxs("label",{className:"block text-sm font-semibold text-[#6654b3]",children:[t("role"),T.jsxs("select",{value:W.role,onChange:Ce=>ne({...W,role:Ce.target.value}),className:"w-full border rounded px-3 py-2 mt-1",children:[T.jsx("option",{value:"staff",children:t("roleStaff")}),T.jsx("option",{value:"admin",children:t("roleAdmin")})]})]}),T.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[T.jsx("button",{onClick:()=>ne(null),className:"px-4 py-2 rounded-full border border-purple-200 hover:bg-[#f6f6f6] text-[#6654b3] font-semibold",children:t("cancel")}),T.jsx("button",{onClick:ke,disabled:X,className:"bg-[#6654b3] text-white px-4 py-2 rounded-full font-semibold disabled:opacity-50",children:t(X?"saving":"save")})]})]})})]})}const TV=new jO;function _V(){return T.jsx(VO,{client:TV,children:T.jsx(uO,{children:T.jsxs(FR,{children:[T.jsx(Fn,{path:"/login",element:T.jsx(tD,{})}),T.jsxs(Fn,{element:T.jsx(GD,{children:T.jsx($D,{})}),children:[T.jsx(Fn,{path:"/dashboard",element:T.jsx(sF,{})}),T.jsx(Fn,{path:"/myschool/students",element:T.jsx(pF,{})}),T.jsx(Fn,{path:"/myschool/student/:id",element:T.jsx(CF,{})}),T.jsx(Fn,{path:"/admissions",element:T.jsx(Dv,{})}),T.jsx(Fn,{path:"/apply/:token",element:T.jsx(Dv,{publicMode:!0})}),T.jsx(Fn,{path:"/attendance",element:T.jsx(bV,{})}),T.jsx(Fn,{path:"/billing",element:T.jsx(vV,{})}),T.jsx(Fn,{path:"/reports",element:T.jsx(EV,{})}),T.jsx(Fn,{path:"/messaging",element:T.jsx(SV,{})}),T.jsx(Fn,{path:"/settings",element:T.jsx(AV,{})}),T.jsx(Fn,{path:"/review",element:T.jsx(pw,{})}),T.jsx(Fn,{path:"/myschool/courses",element:T.jsx(fF,{})}),T.jsx(Fn,{path:"/myschool/students/inactive",element:T.jsx(RF,{})}),T.jsx(Fn,{path:"/notifications",element:T.jsx(aF,{})}),T.jsx(Fn,{path:"/review-hub",element:T.jsx(pw,{})}),T.jsx(Fn,{index:!0,element:T.jsx(fb,{to:"/dashboard",replace:!0})})]}),T.jsx(Fn,{path:"*",element:T.jsx(fb,{to:"/login",replace:!0})})]})})})}G7.createRoot(document.getElementById("root")).render(T.jsx(R.StrictMode,{children:T.jsx(zD,{children:T.jsx(_V,{})})}));
